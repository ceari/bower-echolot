/*
 * @licence Echolot
 * Copyright (C) 2008-2011 eXXcellent Solutions GmbH.
 * Version: MPL 1.1/GPL 2.0/LGPL 2.1
 * http://exxcellent.github.io/echolot/
 */
exxcellent={uniqueId:20090526};exxcellent.model={uniqueId:20090609};exxcellent.config={uniqueId:20090610};Contrib={uniqueId:20090525};Contrib.ContainerButton=Core.extend(Echo.Component,{componentType:"Contrib.ContainerButton",doAction:function(){this.fireEvent({type:"action",source:this,actionCommand:this.render("actionCommand")})}});Contrib.ContainerButtonSync=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("Contrib.ContainerButton",this)},_div:null,_processRolloverEnter:function(b){var a=Echo.Sync.getEffectProperty(this.component,"backgroundImage","rolloverBackgroundImage",true);Echo.Sync.FillImage.renderClear(a,this._div);Echo.Sync.Color.renderClear(this.component.render("rolloverForeground"),this._div,"color");Echo.Sync.Color.renderClear(this.component.render("rolloverBackground"),this._div,"backgroundColor")},_processRolloverExit:function(a){Echo.Sync.FillImage.renderClear(this.component.render("backgroundImage"),this._div);Echo.Sync.Color.renderClear(this.component.render("foreground"),this._div,"color");Echo.Sync.Color.renderClear(this.component.render("background"),this._div,"backgroundColor")},_processClick:function(a){this.component.doAction()},renderAdd:function(b,a){this._div=document.createElement("div");this._div.style.cssText="cursor: pointer;";Echo.Sync.Insets.render(this.component.render("insets"),this._div,"padding");Echo.Sync.Font.render(this.component.render("font"),this._div);Echo.Sync.Color.renderFB(this.component,this._div);Echo.Sync.Border.render(this.component.render("border"),this._div);Echo.Sync.FillImage.render(this.component.render("backgroundImage"),this._div);if(this.component.children.length==1){Echo.Render.renderComponentAdd(b,this.component.children[0],this._div)}else{if(this.component.children.length!==0){throw new Error("Too many children in ContainerButton (max is 1).")}}Core.Web.Event.add(this._div,"click",Core.method(this,this._processClick),false);if(this.component.render("rolloverEnabled")){Core.Web.Event.add(this._div,"mouseover",Core.method(this,this._processRolloverEnter),false);Core.Web.Event.add(this._div,"mouseout",Core.method(this,this._processRolloverExit),false)}a.appendChild(this._div)},renderDispose:function(a){Core.Web.Event.removeAll(this._div);this._div=null},renderUpdate:function(c){var a=this._div;var b=a.parentNode;this.renderDispose(c);b.removeChild(a);this.renderAdd(c,b);return true}});Contrib.ScrollPane=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("Contrib.ScrollPane",this)},componentType:"Contrib.ScrollPane",cellElementNodeName:"div",prevFocusKey:38,prevFocusFlag:Echo.Render.ComponentSync.FOCUS_PERMIT_ARROW_UP,nextFocusKey:40,nextFocusFlag:Echo.Render.ComponentSync.FOCUS_PERMIT_ARROW_DOWN});Contrib.ScrollPane.Peer=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("Contrib.ScrollPane",this)},$abstract:{cellElementNodeName:true,renderChildLayoutData:function(b,a){}},element:null,containerElement:null,spacingPrototype:null,cellSpacing:null,_childIdToElementMap:null,processKeyPress:function(g){switch(g.keyCode){case this.prevFocusKey:case this.nextFocusKey:var a=g.keyCode==this.prevFocusKey;var c=this.component.application.getFocusedComponent();if(c&&c.peer&&c.peer.getFocusFlags){var f=c.peer.getFocusFlags();if((a&&f&this.prevFocusFlag)||(!a&&f&this.nextFocusFlag)){var b=this.component.application.focusManager.findInParent(this.component,a);if(b){this.component.application.setFocusedComponent(b);Core.Web.DOM.preventEventDefault(g);return false}}}break}return true},renderAdd:function(c,a){this.element=this.containerElement=document.createElement("div");this.element.id="scrollPane"+this.component.renderId;this.element.style.overflow="auto";this.element.style.outlineStyle="none";this.element.tabIndex="-1";var b=this.component.render("layoutData");if(b){if(b.height){this.element.style.height=Echo.Sync.Extent.toPixels(b.height,false)+"px"}Echo.Sync.Insets.render(b.insets,a,"padding")}Echo.Sync.Border.render(this.component.render("border"),this.element);Echo.Sync.Color.renderFB(this.component,this.element);Echo.Sync.Font.render(this.component.render("font"),this.element);Echo.Sync.Insets.render(this.component.render("insets"),this.element,"padding");this.cellSpacing=Echo.Sync.Extent.toPixels(this.component.render("cellSpacing"),false);if(this.cellSpacing){this.spacingPrototype=document.createElement("div");this.spacingPrototype.style.height=this.cellSpacing+"px";this.spacingPrototype.style.fontSize="1px";this.spacingPrototype.style.lineHeight="0"}this.renderAddChildren(c);a.appendChild(this.element)},renderChildLayoutData:function(c,a){var b=c.render("layoutData");if(b){Echo.Sync.Color.render(b.background,a,"backgroundColor");Echo.Sync.FillImage.render(b.backgroundImage,a);Echo.Sync.Insets.render(b.insets,a,"padding");Echo.Sync.Alignment.render(b.alignment,a,true,this.component);if(b.height){a.style.height=Echo.Sync.Extent.toPixels(b.height,false)+"px"}}},renderAddChild:function(h,g,b){var a=document.createElement(this.cellElementNodeName);this._childIdToElementMap[g.renderId]=a;Echo.Render.renderComponentAdd(h,g,a);this.renderChildLayoutData(g,a);if(b!==null&&typeof b!="undefined"){var e;if(this.containerElement.childNodes.length>=3&&this.cellSpacing){e=(this.containerElement.childNodes.length+1)/2}else{e=this.containerElement.childNodes.length}if(b==e){b=null}}if(b===null||typeof b=="undefined"||!this.containerElement.firstChild){if(this.cellSpacing&&this.containerElement.firstChild){this.containerElement.appendChild(this.spacingPrototype.cloneNode(false))}this.containerElement.appendChild(a)}else{var f=this.cellSpacing?b*2:b;var c=this.containerElement.childNodes[f];this.containerElement.insertBefore(a,c);if(this.cellSpacing){this.containerElement.insertBefore(this.spacingPrototype.cloneNode(false),c)}}},renderAddChildren:function(e){this._childIdToElementMap={};var a=this.component.getComponentCount();for(var b=0;b<a;++b){var c=this.component.getComponent(b);this.renderAddChild(e,c)}Core.Web.Event.add(this.element,Core.Web.Env.QUIRK_IE_KEY_DOWN_EVENT_REPEAT?"keydown":"keypress",Core.method(this,this.processKeyPress),false)},renderDispose:function(a){Core.Web.Event.removeAll(this.element);this.element=null;this.containerElement=null;this._childIdToElementMap=null;this.spacingPrototype=null},renderRemoveChild:function(c,b){var a=this._childIdToElementMap[b.renderId];if(!a){return}if(this.cellSpacing){if(a.previousSibling){this.containerElement.removeChild(a.previousSibling)}else{if(a.nextSibling){this.containerElement.removeChild(a.nextSibling)}}}this.containerElement.removeChild(a);delete this._childIdToElementMap[b.renderId]},renderUpdate:function(h){var e=false;if(h.hasUpdatedProperties()||h.hasUpdatedLayoutDataChildren()){e=true}else{var a=h.getRemovedChildren();var c;if(a){for(c=0;c<a.length;++c){this.renderRemoveChild(h,a[c])}}var f=h.getAddedChildren();if(f){for(c=0;c<f.length;++c){this.renderAddChild(h,f[c],this.component.indexOf(f[c]))}}}if(e){var b=this.element;var g=b.parentNode;Echo.Render.renderComponentDispose(h,h.parent);g.removeChild(b);this.renderAdd(h,g)}return e}});exxcellent.SpinButton=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.SpinButton",this)},doAction:function(){this.fireEvent({type:"action",source:this,actionCommand:this.get("actionCommand")})},componentType:"exxcellent.SpinButton",focusable:true});exxcellent.SpinButton.Sync=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("exxcellent.SpinButton",this)},_div:null,_decSpan:null,_input:null,renderAdd:function(c,a){this._div=document.createElement("div");this._div.id=this.component.renderId;this._decSpan=document.createElement("span");this._decSpan.style.cursor="pointer";this._decSpan.appendChild(document.createTextNode("<"));this._div.appendChild(this._decSpan);var b=this.component.get("value");this._input=document.createElement("input");this._input.type="text";this._input.value=!b?"0":parseInt(b,10);this._input.style.textAlign="right";this._div.appendChild(this._input);this._incSpan=document.createElement("span");this._incSpan.setAttribute("tabindex",0);this._incSpan.appendChild(document.createTextNode(">"));this._incSpan.style.cursor="pointer";this._div.appendChild(this._incSpan);Core.Web.Event.add(this._decSpan,"click",Core.method(this,this._processDecrement),false);Core.Web.Event.add(this._incSpan,"click",Core.method(this,this._processIncrement),false);Core.Web.Event.add(this._input,"change",Core.method(this,this._processTextChange),false);Core.Web.Event.add(this._input,"keyup",Core.method(this,this._processKeyUp),false);a.appendChild(this._div)},renderDispose:function(a){Core.Web.Event.removeAll(this._decSpan);Core.Web.Event.removeAll(this._incSpan);Core.Web.Event.removeAll(this._input);this._decSpan=null;this._input=null;this._incSpan=null;this._div=null},renderUpdate:function(c){var a=this._div;var b=a.parentNode;Echo.Render.renderComponentDispose(c,c.parent);b.removeChild(a);this.renderAdd(c,b);return true},_processDecrement:function(b){var a=parseInt(this._input.value,10);a--;this._input.value=isNaN(a)?0:a;this.component.set("value",a)},_processIncrement:function(b){var a=parseInt(this._input.value,10);a++;this._input.value=isNaN(a)?0:a;this.component.set("value",a)},_processTextChange:function(b){var a=parseInt(this._input.value,10);this._input.value=isNaN(a)?0:a;this.component.set("value",a)},_processKeyUp:function(a){if(a.keyCode==13){this.component.doAction()}if(a.keyCode==38){this._processIncrement(a)}if(a.keyCode==40){this._processDecrement(a)}},renderFocus:function(){Core.Web.DOM.focusElement(this._incSpan)}});Contrib.TextPane=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("Contrib.TextPane",this)},componentType:"Contrib.TextPane",focusable:true,pane:true,doAction:function(){this.fireEvent({type:"action",source:this,actionCommand:this.get("actionCommand")})}});Contrib.TextPane.Sync=Core.extend(Echo.Render.ComponentSync,{$static:{_supportedPartialProperties:["text"]},$load:function(){Echo.Render.registerPeer("Contrib.TextPane",this)},_div:null,_textArea:null,_processBlur:function(a){if(!this.client.verifyInput(this.component,Echo.Client.FLAG_INPUT_PROPERTY)){return}this.sanitizeInput();this.component.set("text",a.registeredTarget.value)},_processClick:function(a){if(!this.client.verifyInput(this.component,Echo.Client.FLAG_INPUT_PROPERTY)){return}this.component.application.setFocusedComponent(this.component)},_processKeyPress:function(a){if(!this.client.verifyInput(this.component,Echo.Client.FLAG_INPUT_PROPERTY)){Core.Web.DOM.preventEventDefault(a);return true}},_processKeyUp:function(a){if(!this.client.verifyInput(this.component,Echo.Client.FLAG_INPUT_PROPERTY)){Core.Web.DOM.preventEventDefault(a);return true}this.sanitizeInput();this._text=a.registeredTarget.value;this.component.set("text",this._text);if(a.keyCode==13){this.component.doAction()}return true},renderAdd:function(c,a){this._div=document.createElement("div");this._div.id=this.component.renderId;this._div.style.cssText="position:absolute;top:0;left:0;bottom:0;right:0;overflow:hidden;";this._textArea=document.createElement("textarea");this._textArea.style.cssText="margin:0;padding:0;border:0px none;width:100%;";this._div.appendChild(this._textArea);this._textArea.style.overflow="auto";if(this.component.get("text")){this._text=this._textArea.value=this.component.get("text")}var b=this.component.render("border");this._borderSizeVertical=Echo.Sync.Border.getPixelSize(b);if(this.component.isRenderEnabled()){Echo.Sync.Border.render(b,this._div);Echo.Sync.Color.renderFB(this.component,this._textArea);Echo.Sync.Font.render(this.component.render("font"),this._textArea);Echo.Sync.FillImage.render(this.component.render("backgroundImage"),this._textArea)}else{Echo.Sync.Border.render(Echo.Sync.getEffectProperty(this.component,"border","disabledBorder",true),this._div);Echo.Sync.Color.render(Echo.Sync.getEffectProperty(this.component,"foreground","disabledForeground",true),this._textArea,"color");Echo.Sync.Color.render(Echo.Sync.getEffectProperty(this.component,"background","disabledBackground",true),this._textArea,"backgroundColor");Echo.Sync.Font.render(Echo.Sync.getEffectProperty(this.component,"font","disabledFont",true),this._textArea);Echo.Sync.FillImage.render(Echo.Sync.getEffectProperty(this.component,"backgroundImage","disabledBackgroundImage",true),this._textArea)}Core.Web.Event.add(this._textArea,"click",Core.method(this,this._processClick),false);Core.Web.Event.add(this._textArea,"blur",Core.method(this,this._processBlur),false);Core.Web.Event.add(this._textArea,"keypress",Core.method(this,this._processKeyPress),false);Core.Web.Event.add(this._textArea,"keyup",Core.method(this,this._processKeyUp),false);a.appendChild(this._div)},renderDisplay:function(){Core.Web.VirtualPosition.redraw(this._div);var a=this._div.parentNode.offsetHeight-this._borderSizeVertical;if(a>0){this._textArea.style.height=a+"px"}},renderDispose:function(a){Core.Web.Event.removeAll(this._textArea);this._textArea=null;this._div=null},renderFocus:function(){Core.Web.DOM.focusElement(this._textArea)},renderUpdate:function(f){var b=!Core.Arrays.containsAll(Echo.Sync.TextComponent._supportedPartialProperties,f.getUpdatedPropertyNames(),true);if(b){var a=this._textArea;var e=a.parentNode;this.renderDispose(f);e.removeChild(a);this.renderAdd(f,e)}else{if(f.hasUpdatedProperties()){var c=f.getUpdatedProperty("text");if(c&&c.newValue!=this._text){this._textArea.value=c.newValue===null?"":c.newValue}}}this._text=this.component.get("text");return false},sanitizeInput:function(){var a=this.component.render("maximumLength",-1);if(a>=0){if(this._textArea.value&&this._textArea.value.length>a){this._textArea.value=this._textArea.value.substring(0,a)}}}});if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());
/*
 * jQuery JavaScript Library v1.3.2
 * http://jquery.com/
 *
 * Copyright (c) 2009 John Resig
 * Dual licensed under the MIT and GPL licenses.
 * http://docs.jquery.com/License
 *
 * Date: 2009-02-19 17:34:21 -0500 (Thu, 19 Feb 2009)
 * Revision: 6246
 */
(function(){var m=this,h,A=m.jQuery,q=m.$,p=m.jQuery=m.$=function(G,H){return new p.fn.init(G,H)},F=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,g=/^.[^:#\[\.,]*$/;p.fn=p.prototype={init:function(G,J){G=G||document;if(G.nodeType){this[0]=G;this.length=1;this.context=G;return this}if(typeof G==="string"){var I=F.exec(G);if(I&&(I[1]||!J)){if(I[1]){G=p.clean([I[1]],J)}else{var K=document.getElementById(I[3]);if(K&&K.id!=I[3]){return p().find(G)}var H=p(K||[]);H.context=document;H.selector=G;return H}}else{return p(J).find(G)}}else{if(p.isFunction(G)){return p(document).ready(G)}}if(G.selector&&G.context){this.selector=G.selector;this.context=G.context}return this.setArray(p.isArray(G)?G:p.makeArray(G))},selector:"",jquery:"1.3.2",size:function(){return this.length},get:function(G){return G===h?Array.prototype.slice.call(this):this[G]},pushStack:function(H,J,G){var I=p(H);I.prevObject=this;I.context=this.context;if(J==="find"){I.selector=this.selector+(this.selector?" ":"")+G}else{if(J){I.selector=this.selector+"."+J+"("+G+")"}}return I},setArray:function(G){this.length=0;Array.prototype.push.apply(this,G);return this},each:function(H,G){return p.each(this,H,G)},index:function(G){return p.inArray(G&&G.jquery?G[0]:G,this)},attr:function(H,J,I){var G=H;if(typeof H==="string"){if(J===h){return this[0]&&p[I||"attr"](this[0],H)}else{G={};G[H]=J}}return this.each(function(K){for(H in G){p.attr(I?this.style:this,H,p.prop(this,G[H],I,K,H))}})},css:function(G,H){if((G=="width"||G=="height")&&parseFloat(H)<0){H=h}return this.attr(G,H,"curCSS")},text:function(H){if(typeof H!=="object"&&H!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(H))}var G="";p.each(H||this,function(){p.each(this.childNodes,function(){if(this.nodeType!=8){G+=this.nodeType!=1?this.nodeValue:p.fn.text([this])}})});return G},wrapAll:function(G){if(this[0]){var H=p(G,this[0].ownerDocument).clone();if(this[0].parentNode){H.insertBefore(this[0])}H.map(function(){var I=this;while(I.firstChild){I=I.firstChild}return I}).append(this)}return this},wrapInner:function(G){return this.each(function(){p(this).contents().wrapAll(G)})},wrap:function(G){return this.each(function(){p(this).wrapAll(G)})},append:function(){return this.domManip(arguments,true,function(G){if(this.nodeType==1){this.appendChild(G)}})},prepend:function(){return this.domManip(arguments,true,function(G){if(this.nodeType==1){this.insertBefore(G,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(G){this.parentNode.insertBefore(G,this)})},after:function(){return this.domManip(arguments,false,function(G){this.parentNode.insertBefore(G,this.nextSibling)})},end:function(){return this.prevObject||p([])},push:[].push,sort:[].sort,splice:[].splice,find:function(G){if(this.length===1){var H=this.pushStack([],"find",G);H.length=0;p.find(G,this[0],H);return H}else{return this.pushStack(p.unique(p.map(this,function(I){return p.find(G,I)})),"find",G)}},clone:function(I){var G=this.map(function(){if(!p.support.noCloneEvent&&!p.isXMLDoc(this)){var K=this.outerHTML;if(!K){var L=this.ownerDocument.createElement("div");L.appendChild(this.cloneNode(true));K=L.innerHTML}return p.clean([K.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s*/,"")])[0]}else{return this.cloneNode(true)}});if(I===true){var J=this.find("*").andSelf(),H=0;G.find("*").andSelf().each(function(){if(this.nodeName!==J[H].nodeName){return}var K=p.data(J[H],"events");for(var M in K){for(var L in K[M]){p.event.add(this,M,K[M][L],K[M][L].data)}}H++})}return G},filter:function(G){return this.pushStack(p.isFunction(G)&&p.grep(this,function(I,H){return G.call(I,H)})||p.multiFilter(G,p.grep(this,function(H){return H.nodeType===1})),"filter",G)},closest:function(G){var I=p.expr.match.POS.test(G)?p(G):null,H=0;return this.map(function(){var J=this;while(J&&J.ownerDocument){if(I?I.index(J)>-1:p(J).is(G)){p.data(J,"closest",H);return J}J=J.parentNode;H++}})},not:function(G){if(typeof G==="string"){if(g.test(G)){return this.pushStack(p.multiFilter(G,this,true),"not",G)}else{G=p.multiFilter(G,this)}}var H=G.length&&G[G.length-1]!==h&&!G.nodeType;return this.filter(function(){return H?p.inArray(this,G)<0:this!=G})},add:function(G){return this.pushStack(p.unique(p.merge(this.get(),typeof G==="string"?p(G):p.makeArray(G))))},is:function(G){return !!G&&p.multiFilter(G,this).length>0},hasClass:function(G){return !!G&&this.is("."+G)},val:function(M){if(M===h){var G=this[0];if(G){if(p.nodeName(G,"option")){return(G.attributes.value||{}).specified?G.value:G.text}if(p.nodeName(G,"select")){var K=G.selectedIndex,N=[],O=G.options,J=G.type=="select-one";if(K<0){return null}for(var H=J?K:0,L=J?K+1:O.length;H<L;H++){var I=O[H];if(I.selected){M=p(I).val();if(J){return M}N.push(M)}}return N}return(G.value||"").replace(/\r/g,"")}return h}if(typeof M==="number"){M+=""}return this.each(function(){if(this.nodeType!=1){return}if(p.isArray(M)&&/radio|checkbox/.test(this.type)){this.checked=(p.inArray(this.value,M)>=0||p.inArray(this.name,M)>=0)}else{if(p.nodeName(this,"select")){var P=p.makeArray(M);p("option",this).each(function(){this.selected=(p.inArray(this.value,P)>=0||p.inArray(this.text,P)>=0)});if(!P.length){this.selectedIndex=-1}}else{this.value=M}}})},html:function(G){return G===h?(this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,""):null):this.empty().append(G)},replaceWith:function(G){return this.after(G).remove()},eq:function(G){return this.slice(G,+G+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(G){return this.pushStack(p.map(this,function(I,H){return G.call(I,H,I)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(L,O,N){if(this[0]){var K=(this[0].ownerDocument||this[0]).createDocumentFragment(),H=p.clean(L,(this[0].ownerDocument||this[0]),K),J=K.firstChild;if(J){for(var I=0,G=this.length;I<G;I++){N.call(M(this[I],J),this.length>1||I>0?K.cloneNode(true):K)}}if(H){p.each(H,B)}}return this;function M(P,Q){return O&&p.nodeName(P,"table")&&p.nodeName(Q,"tr")?(P.getElementsByTagName("tbody")[0]||P.appendChild(P.ownerDocument.createElement("tbody"))):P}}};p.fn.init.prototype=p.fn;function B(G,H){if(H.src){p.ajax({url:H.src,async:false,dataType:"script"})}else{p.globalEval(H.text||H.textContent||H.innerHTML||"")}if(H.parentNode){H.parentNode.removeChild(H)}}function f(){return +new Date}p.extend=p.fn.extend=function(){var L=arguments[0]||{},J=1,K=arguments.length,G=false,I;if(typeof L==="boolean"){G=L;L=arguments[1]||{};J=2}if(typeof L!=="object"&&!p.isFunction(L)){L={}}if(K==J){L=this;--J}for(;J<K;J++){if((I=arguments[J])!=null){for(var H in I){var M=L[H],N=I[H];if(L===N){continue}if(G&&N&&typeof N==="object"&&!N.nodeType){L[H]=p.extend(G,M||(N.length!=null?[]:{}),N)}else{if(N!==h){L[H]=N}}}}}return L};var b=/z-?index|font-?weight|opacity|zoom|line-?height/i,s=document.defaultView||{},u=Object.prototype.toString;p.extend({noConflict:function(G){m.$=q;if(G){m.jQuery=A}return p},isFunction:function(G){return u.call(G)==="[object Function]"},isArray:function(G){return u.call(G)==="[object Array]"},isXMLDoc:function(G){return G.nodeType===9&&G.documentElement.nodeName!=="HTML"||!!G.ownerDocument&&p.isXMLDoc(G.ownerDocument)},globalEval:function(I){if(I&&/\S/.test(I)){var H=document.getElementsByTagName("head")[0]||document.documentElement,G=document.createElement("script");G.type="text/javascript";if(p.support.scriptEval){G.appendChild(document.createTextNode(I))}else{G.text=I}H.insertBefore(G,H.firstChild);H.removeChild(G)}},nodeName:function(H,G){return H.nodeName&&H.nodeName.toUpperCase()==G.toUpperCase()},each:function(I,M,H){var G,J=0,K=I.length;if(H){if(K===h){for(G in I){if(M.apply(I[G],H)===false){break}}}else{for(;J<K;){if(M.apply(I[J++],H)===false){break}}}}else{if(K===h){for(G in I){if(M.call(I[G],G,I[G])===false){break}}}else{for(var L=I[0];J<K&&M.call(L,J,L)!==false;L=I[++J]){}}}return I},prop:function(J,K,I,H,G){if(p.isFunction(K)){K=K.call(J,H)}return typeof K==="number"&&I=="curCSS"&&!b.test(G)?K+"px":K},className:{add:function(G,H){p.each((H||"").split(/\s+/),function(I,J){if(G.nodeType==1&&!p.className.has(G.className,J)){G.className+=(G.className?" ":"")+J}})},remove:function(G,H){if(G.nodeType==1){G.className=H!==h?p.grep(G.className.split(/\s+/),function(I){return !p.className.has(H,I)}).join(" "):""}},has:function(H,G){return H&&p.inArray(G,(H.className||H).toString().split(/\s+/))>-1}},swap:function(J,I,K){var G={};for(var H in I){G[H]=J.style[H];J.style[H]=I[H]}K.call(J);for(var H in I){J.style[H]=G[H]}},css:function(J,H,L,G){if(H=="width"||H=="height"){var N,I={position:"absolute",visibility:"hidden",display:"block"},M=H=="width"?["Left","Right"]:["Top","Bottom"];function K(){N=H=="width"?J.offsetWidth:J.offsetHeight;if(G==="border"){return}p.each(M,function(){if(!G){N-=parseFloat(p.curCSS(J,"padding"+this,true))||0}if(G==="margin"){N+=parseFloat(p.curCSS(J,"margin"+this,true))||0}else{N-=parseFloat(p.curCSS(J,"border"+this+"Width",true))||0}})}if(J.offsetWidth!==0){K()}else{p.swap(J,I,K)}return Math.max(0,Math.round(N))}return p.curCSS(J,H,L)},curCSS:function(K,H,I){var N,G=K.style;if(H=="opacity"&&!p.support.opacity){N=p.attr(G,"opacity");return N==""?"1":N}if(H.match(/float/i)){H=y}if(!I&&G&&G[H]){N=G[H]}else{if(s.getComputedStyle){if(H.match(/float/i)){H="float"}H=H.replace(/([A-Z])/g,"-$1").toLowerCase();var O=s.getComputedStyle(K,null);if(O){N=O.getPropertyValue(H)}if(H=="opacity"&&N==""){N="1"}}else{if(K.currentStyle){var L=H.replace(/\-(\w)/g,function(P,Q){return Q.toUpperCase()});N=K.currentStyle[H]||K.currentStyle[L];if(!/^\d+(px)?$/i.test(N)&&/^\d/.test(N)){var J=G.left,M=K.runtimeStyle.left;K.runtimeStyle.left=K.currentStyle.left;G.left=N||0;N=G.pixelLeft+"px";G.left=J;K.runtimeStyle.left=M}}}}return N},clean:function(H,M,K){M=M||document;if(typeof M.createElement==="undefined"){M=M.ownerDocument||M[0]&&M[0].ownerDocument||document}if(!K&&H.length===1&&typeof H[0]==="string"){var J=/^<(\w+)\s*\/?>$/.exec(H[0]);if(J){return[M.createElement(J[1])]}}var I=[],G=[],N=M.createElement("div");p.each(H,function(R,U){if(typeof U==="number"){U+=""}if(!U){return}if(typeof U==="string"){U=U.replace(/(<(\w+)[^>]*?)\/>/g,function(W,X,V){return V.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?W:X+"></"+V+">"});var Q=U.replace(/^\s+/,"").substring(0,10).toLowerCase();var S=!Q.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!Q.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||Q.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!Q.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!Q.indexOf("<td")||!Q.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!Q.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!p.support.htmlSerialize&&[1,"div<div>","</div>"]||[0,"",""];N.innerHTML=S[1]+U+S[2];while(S[0]--){N=N.lastChild}if(!p.support.tbody){var T=/<tbody/i.test(U),P=!Q.indexOf("<table")&&!T?N.firstChild&&N.firstChild.childNodes:S[1]=="<table>"&&!T?N.childNodes:[];for(var O=P.length-1;O>=0;--O){if(p.nodeName(P[O],"tbody")&&!P[O].childNodes.length){P[O].parentNode.removeChild(P[O])}}}if(!p.support.leadingWhitespace&&/^\s/.test(U)){N.insertBefore(M.createTextNode(U.match(/^\s*/)[0]),N.firstChild)}U=p.makeArray(N.childNodes)}if(U.nodeType){I.push(U)}else{I=p.merge(I,U)}});if(K){for(var L=0;I[L];L++){if(p.nodeName(I[L],"script")&&(!I[L].type||I[L].type.toLowerCase()==="text/javascript")){G.push(I[L].parentNode?I[L].parentNode.removeChild(I[L]):I[L])}else{if(I[L].nodeType===1){I.splice.apply(I,[L+1,0].concat(p.makeArray(I[L].getElementsByTagName("script"))))}K.appendChild(I[L])}}return G}return I},attr:function(L,I,M){if(!L||L.nodeType==3||L.nodeType==8){return h}var J=!p.isXMLDoc(L),N=M!==h;I=J&&p.props[I]||I;if(L.tagName){var H=/href|src|style/.test(I);if(I=="selected"&&L.parentNode){L.parentNode.selectedIndex}if(I in L&&J&&!H){if(N){if(I=="type"&&p.nodeName(L,"input")&&L.parentNode){throw"type property can't be changed"}L[I]=M}if(p.nodeName(L,"form")&&L.getAttributeNode(I)){return L.getAttributeNode(I).nodeValue}if(I=="tabIndex"){var K=L.getAttributeNode("tabIndex");return K&&K.specified?K.value:L.nodeName.match(/(button|input|object|select|textarea)/i)?0:L.nodeName.match(/^(a|area)$/i)&&L.href?0:h}return L[I]}if(!p.support.style&&J&&I=="style"){return p.attr(L.style,"cssText",M)}if(N){L.setAttribute(I,""+M)}var G=!p.support.hrefNormalized&&J&&H?L.getAttribute(I,2):L.getAttribute(I);return G===null?h:G}if(!p.support.opacity&&I=="opacity"){if(N){L.zoom=1;L.filter=(L.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(M)+""=="NaN"?"":"alpha(opacity="+M*100+")")}return L.filter&&L.filter.indexOf("opacity=")>=0?(parseFloat(L.filter.match(/opacity=([^)]*)/)[1])/100)+"":""}I=I.replace(/-([a-z])/ig,function(O,P){return P.toUpperCase()});if(N){L[I]=M}return L[I]},trim:function(G){return(G||"").replace(/^\s+|\s+$/g,"")},makeArray:function(I){var G=[];if(I!=null){var H=I.length;if(H==null||typeof I==="string"||p.isFunction(I)||I.setInterval){G[0]=I}else{while(H){G[--H]=I[H]}}}return G},inArray:function(I,J){for(var G=0,H=J.length;G<H;G++){if(J[G]===I){return G}}return -1},merge:function(J,G){var H=0,I,K=J.length;if(!p.support.getAll){while((I=G[H++])!=null){if(I.nodeType!=8){J[K++]=I}}}else{while((I=G[H++])!=null){J[K++]=I}}return J},unique:function(M){var H=[],G={};try{for(var I=0,J=M.length;I<J;I++){var L=p.data(M[I]);if(!G[L]){G[L]=true;H.push(M[I])}}}catch(K){H=M}return H},grep:function(H,L,G){var I=[];for(var J=0,K=H.length;J<K;J++){if(!G!=!L(H[J],J)){I.push(H[J])}}return I},map:function(G,L){var H=[];for(var I=0,J=G.length;I<J;I++){var K=L(G[I],I);if(K!=null){H[H.length]=K}}return H.concat.apply([],H)}});var E=navigator.userAgent.toLowerCase();p.browser={version:(E.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(E),opera:/opera/.test(E),msie:/msie/.test(E)&&!/opera/.test(E),mozilla:/mozilla/.test(E)&&!/(compatible|webkit)/.test(E)};p.each({parent:function(G){return G.parentNode},parents:function(G){return p.dir(G,"parentNode")},next:function(G){return p.nth(G,2,"nextSibling")},prev:function(G){return p.nth(G,2,"previousSibling")},nextAll:function(G){return p.dir(G,"nextSibling")},prevAll:function(G){return p.dir(G,"previousSibling")},siblings:function(G){return p.sibling(G.parentNode.firstChild,G)},children:function(G){return p.sibling(G.firstChild)},contents:function(G){return p.nodeName(G,"iframe")?G.contentDocument||G.contentWindow.document:p.makeArray(G.childNodes)}},function(G,H){p.fn[G]=function(I){var J=p.map(this,H);if(I&&typeof I=="string"){J=p.multiFilter(I,J)}return this.pushStack(p.unique(J),G,I)}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(G,H){p.fn[G]=function(I){var L=[],N=p(I);for(var M=0,J=N.length;M<J;M++){var K=(M>0?this.clone(true):this).get();p.fn[H].apply(p(N[M]),K);L=L.concat(K)}return this.pushStack(L,G,I)}});p.each({removeAttr:function(G){p.attr(this,G,"");if(this.nodeType==1){this.removeAttribute(G)}},addClass:function(G){p.className.add(this,G)},removeClass:function(G){p.className.remove(this,G)},toggleClass:function(H,G){if(typeof G!=="boolean"){G=!p.className.has(this,H)}p.className[G?"add":"remove"](this,H)},remove:function(G){if(!G||p.filter(G,[this]).length){p("*",this).add([this]).each(function(){p.event.remove(this);p.removeData(this)});if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){p(this).children().remove();while(this.firstChild){this.removeChild(this.firstChild)}}},function(G,H){p.fn[G]=function(){return this.each(H,arguments)}});function k(G,H){return G[0]&&parseInt(p.curCSS(G[0],H,true),10)||0}var i="jQuery"+f(),x=0,C={};p.extend({cache:{},data:function(H,G,I){H=H==m?C:H;var J=H[i];if(!J){J=H[i]=++x}if(G&&!p.cache[J]){p.cache[J]={}}if(I!==h){p.cache[J][G]=I}return G?p.cache[J][G]:J},removeData:function(H,G){H=H==m?C:H;var J=H[i];if(G){if(p.cache[J]){delete p.cache[J][G];G="";for(G in p.cache[J]){break}if(!G){p.removeData(H)}}}else{try{delete H[i]}catch(I){if(H.removeAttribute){H.removeAttribute(i)}}delete p.cache[J]}},queue:function(H,G,J){if(H){G=(G||"fx")+"queue";var I=p.data(H,G);if(!I||p.isArray(J)){I=p.data(H,G,p.makeArray(J))}else{if(J){I.push(J)}}}return I},dequeue:function(J,I){var G=p.queue(J,I),H=G.shift();if(!I||I==="fx"){H=G[0]}if(H!==h){H.call(J)}}});p.fn.extend({data:function(G,I){var J=G.split(".");J[1]=J[1]?"."+J[1]:"";if(I===h){var H=this.triggerHandler("getData"+J[1]+"!",[J[0]]);if(H===h&&this.length){H=p.data(this[0],G)}return H===h&&J[1]?this.data(J[0]):H}else{return this.trigger("setData"+J[1]+"!",[J[0],I]).each(function(){p.data(this,G,I)})}},removeData:function(G){return this.each(function(){p.removeData(this,G)})},queue:function(G,H){if(typeof G!=="string"){H=G;G="fx"}if(H===h){return p.queue(this[0],G)}return this.each(function(){var I=p.queue(this,G,H);if(G=="fx"&&I.length==1){I[0].call(this)}})},dequeue:function(G){return this.each(function(){p.dequeue(this,G)})}});
/*
 * Sizzle CSS Selector Engine - v0.9.3
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var T=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,N=0,J=Object.prototype.toString;var H=function(aa,W,ad,ae){ad=ad||[];W=W||document;if(W.nodeType!==1&&W.nodeType!==9){return[]}if(!aa||typeof aa!=="string"){return ad}var ab=[],Y,ah,ak,V,af,X,Z=true;T.lastIndex=0;while((Y=T.exec(aa))!==null){ab.push(Y[1]);if(Y[2]){X=RegExp.rightContext;break}}if(ab.length>1&&O.exec(aa)){if(ab.length===2&&K.relative[ab[0]]){ah=L(ab[0]+ab[1],W)}else{ah=K.relative[ab[0]]?[W]:H(ab.shift(),W);while(ab.length){aa=ab.shift();if(K.relative[aa]){aa+=ab.shift()}ah=L(aa,ah)}}}else{var ag=ae?{expr:ab.pop(),set:G(ae)}:H.find(ab.pop(),ab.length===1&&W.parentNode?W.parentNode:W,S(W));ah=H.filter(ag.expr,ag.set);if(ab.length>0){ak=G(ah)}else{Z=false}while(ab.length){var aj=ab.pop(),ai=aj;if(!K.relative[aj]){aj=""}else{ai=ab.pop()}if(ai==null){ai=W}K.relative[aj](ak,ai,S(W))}}if(!ak){ak=ah}if(!ak){throw"Syntax error, unrecognized expression: "+(aj||aa)}if(J.call(ak)==="[object Array]"){if(!Z){ad.push.apply(ad,ak)}else{if(W.nodeType===1){for(var ac=0;ak[ac]!=null;ac++){if(ak[ac]&&(ak[ac]===true||ak[ac].nodeType===1&&M(W,ak[ac]))){ad.push(ah[ac])}}}else{for(var ac=0;ak[ac]!=null;ac++){if(ak[ac]&&ak[ac].nodeType===1){ad.push(ah[ac])}}}}}else{G(ak,ad)}if(X){H(X,W,ad,ae);if(I){hasDuplicate=false;ad.sort(I);if(hasDuplicate){for(var ac=1;ac<ad.length;ac++){if(ad[ac]===ad[ac-1]){ad.splice(ac--,1)}}}}}return ad};H.matches=function(V,W){return H(V,null,null,W)};H.find=function(ac,V,ad){var ab,Z;if(!ac){return[]}for(var Y=0,X=K.order.length;Y<X;Y++){var aa=K.order[Y],Z;if((Z=K.match[aa].exec(ac))){var W=RegExp.leftContext;if(W.substr(W.length-1)!=="\\"){Z[1]=(Z[1]||"").replace(/\\/g,"");ab=K.find[aa](Z,V,ad);if(ab!=null){ac=ac.replace(K.match[aa],"");break}}}}if(!ab){ab=V.getElementsByTagName("*")}return{set:ab,expr:ac}};H.filter=function(af,ae,ai,Y){var X=af,ak=[],ac=ae,aa,V,ab=ae&&ae[0]&&S(ae[0]);while(af&&ae.length){for(var ad in K.filter){if((aa=K.match[ad].exec(af))!=null){var W=K.filter[ad],aj,ah;V=false;if(ac==ak){ak=[]}if(K.preFilter[ad]){aa=K.preFilter[ad](aa,ac,ai,ak,Y,ab);if(!aa){V=aj=true}else{if(aa===true){continue}}}if(aa){for(var Z=0;(ah=ac[Z])!=null;Z++){if(ah){aj=W(ah,aa,Z,ac);var ag=Y^!!aj;if(ai&&aj!=null){if(ag){V=true}else{ac[Z]=false}}else{if(ag){ak.push(ah);V=true}}}}}if(aj!==h){if(!ai){ac=ak}af=af.replace(K.match[ad],"");if(!V){return[]}break}}}if(af==X){if(V==null){throw"Syntax error, unrecognized expression: "+af}else{break}}X=af}return ac};var K=H.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(V){return V.getAttribute("href")}},relative:{"+":function(ac,V,ab){var Z=typeof V==="string",ad=Z&&!/\W/.test(V),aa=Z&&!ad;if(ad&&!ab){V=V.toUpperCase()}for(var Y=0,X=ac.length,W;Y<X;Y++){if((W=ac[Y])){while((W=W.previousSibling)&&W.nodeType!==1){}ac[Y]=aa||W&&W.nodeName===V?W||false:W===V}}if(aa){H.filter(V,ac,true)}},">":function(ab,W,ac){var Z=typeof W==="string";if(Z&&!/\W/.test(W)){W=ac?W:W.toUpperCase();for(var X=0,V=ab.length;X<V;X++){var aa=ab[X];if(aa){var Y=aa.parentNode;ab[X]=Y.nodeName===W?Y:false}}}else{for(var X=0,V=ab.length;X<V;X++){var aa=ab[X];if(aa){ab[X]=Z?aa.parentNode:aa.parentNode===W}}if(Z){H.filter(W,ab,true)}}},"":function(Y,W,aa){var X=N++,V=U;if(!W.match(/\W/)){var Z=W=aa?W:W.toUpperCase();V=R}V("parentNode",W,X,Y,Z,aa)},"~":function(Y,W,aa){var X=N++,V=U;if(typeof W==="string"&&!W.match(/\W/)){var Z=W=aa?W:W.toUpperCase();V=R}V("previousSibling",W,X,Y,Z,aa)}},find:{ID:function(W,X,Y){if(typeof X.getElementById!=="undefined"&&!Y){var V=X.getElementById(W[1]);return V?[V]:[]}},NAME:function(X,aa,ab){if(typeof aa.getElementsByName!=="undefined"){var W=[],Z=aa.getElementsByName(X[1]);for(var Y=0,V=Z.length;Y<V;Y++){if(Z[Y].getAttribute("name")===X[1]){W.push(Z[Y])}}return W.length===0?null:W}},TAG:function(V,W){return W.getElementsByTagName(V[1])}},preFilter:{CLASS:function(Y,W,X,V,ab,ac){Y=" "+Y[1].replace(/\\/g,"")+" ";if(ac){return Y}for(var Z=0,aa;(aa=W[Z])!=null;Z++){if(aa){if(ab^(aa.className&&(" "+aa.className+" ").indexOf(Y)>=0)){if(!X){V.push(aa)}}else{if(X){W[Z]=false}}}}return false},ID:function(V){return V[1].replace(/\\/g,"")},TAG:function(W,V){for(var X=0;V[X]===false;X++){}return V[X]&&S(V[X])?W[1]:W[1].toUpperCase()},CHILD:function(V){if(V[1]=="nth"){var W=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(V[2]=="even"&&"2n"||V[2]=="odd"&&"2n+1"||!/\D/.test(V[2])&&"0n+"+V[2]||V[2]);V[2]=(W[1]+(W[2]||1))-0;V[3]=W[3]-0}V[0]=N++;return V},ATTR:function(Z,W,X,V,aa,ab){var Y=Z[1].replace(/\\/g,"");if(!ab&&K.attrMap[Y]){Z[1]=K.attrMap[Y]}if(Z[2]==="~="){Z[4]=" "+Z[4]+" "}return Z},PSEUDO:function(Z,W,X,V,aa){if(Z[1]==="not"){if(Z[3].match(T).length>1||/^\w/.test(Z[3])){Z[3]=H(Z[3],null,null,W)}else{var Y=H.filter(Z[3],W,X,true^aa);if(!X){V.push.apply(V,Y)}return false}}else{if(K.match.POS.test(Z[0])||K.match.CHILD.test(Z[0])){return true}}return Z},POS:function(V){V.unshift(true);return V}},filters:{enabled:function(V){return V.disabled===false&&V.type!=="hidden"},disabled:function(V){return V.disabled===true},checked:function(V){return V.checked===true},selected:function(V){V.parentNode.selectedIndex;return V.selected===true},parent:function(V){return !!V.firstChild},empty:function(V){return !V.firstChild},has:function(X,W,V){return !!H(V[3],X).length},header:function(V){return/h\d/i.test(V.nodeName)},text:function(V){return"text"===V.type},radio:function(V){return"radio"===V.type},checkbox:function(V){return"checkbox"===V.type},file:function(V){return"file"===V.type},password:function(V){return"password"===V.type},submit:function(V){return"submit"===V.type},image:function(V){return"image"===V.type},reset:function(V){return"reset"===V.type},button:function(V){return"button"===V.type||V.nodeName.toUpperCase()==="BUTTON"},input:function(V){return/input|select|textarea|button/i.test(V.nodeName)}},setFilters:{first:function(W,V){return V===0},last:function(X,W,V,Y){return W===Y.length-1},even:function(W,V){return V%2===0},odd:function(W,V){return V%2===1},lt:function(X,W,V){return W<V[3]-0},gt:function(X,W,V){return W>V[3]-0},nth:function(X,W,V){return V[3]-0==W},eq:function(X,W,V){return V[3]-0==W}},filter:{PSEUDO:function(ab,X,Y,ac){var W=X[1],Z=K.filters[W];if(Z){return Z(ab,Y,X,ac)}else{if(W==="contains"){return(ab.textContent||ab.innerText||"").indexOf(X[3])>=0}else{if(W==="not"){var aa=X[3];for(var Y=0,V=aa.length;Y<V;Y++){if(aa[Y]===ab){return false}}return true}}}},CHILD:function(V,Y){var ab=Y[1],W=V;switch(ab){case"only":case"first":while(W=W.previousSibling){if(W.nodeType===1){return false}}if(ab=="first"){return true}W=V;case"last":while(W=W.nextSibling){if(W.nodeType===1){return false}}return true;case"nth":var X=Y[2],ae=Y[3];if(X==1&&ae==0){return true}var aa=Y[0],ad=V.parentNode;if(ad&&(ad.sizcache!==aa||!V.nodeIndex)){var Z=0;for(W=ad.firstChild;W;W=W.nextSibling){if(W.nodeType===1){W.nodeIndex=++Z}}ad.sizcache=aa}var ac=V.nodeIndex-ae;if(X==0){return ac==0}else{return(ac%X==0&&ac/X>=0)}}},ID:function(W,V){return W.nodeType===1&&W.getAttribute("id")===V},TAG:function(W,V){return(V==="*"&&W.nodeType===1)||W.nodeName===V},CLASS:function(W,V){return(" "+(W.className||W.getAttribute("class"))+" ").indexOf(V)>-1},ATTR:function(aa,Y){var X=Y[1],V=K.attrHandle[X]?K.attrHandle[X](aa):aa[X]!=null?aa[X]:aa.getAttribute(X),ab=V+"",Z=Y[2],W=Y[4];return V==null?Z==="!=":Z==="="?ab===W:Z==="*="?ab.indexOf(W)>=0:Z==="~="?(" "+ab+" ").indexOf(W)>=0:!W?ab&&V!==false:Z==="!="?ab!=W:Z==="^="?ab.indexOf(W)===0:Z==="$="?ab.substr(ab.length-W.length)===W:Z==="|="?ab===W||ab.substr(0,W.length+1)===W+"-":false},POS:function(Z,W,X,aa){var V=W[2],Y=K.setFilters[V];if(Y){return Y(Z,X,W,aa)}}}};var O=K.match.POS;for(var Q in K.match){K.match[Q]=RegExp(K.match[Q].source+/(?![^\[]*\])(?![^\(]*\))/.source)}var G=function(W,V){W=Array.prototype.slice.call(W);if(V){V.push.apply(V,W);return V}return W};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(P){G=function(Z,Y){var W=Y||[];if(J.call(Z)==="[object Array]"){Array.prototype.push.apply(W,Z)}else{if(typeof Z.length==="number"){for(var X=0,V=Z.length;X<V;X++){W.push(Z[X])}}else{for(var X=0;Z[X];X++){W.push(Z[X])}}}return W}}var I;if(document.documentElement.compareDocumentPosition){I=function(W,V){var X=W.compareDocumentPosition(V)&4?-1:W===V?0:1;if(X===0){hasDuplicate=true}return X}}else{if("sourceIndex" in document.documentElement){I=function(W,V){var X=W.sourceIndex-V.sourceIndex;if(X===0){hasDuplicate=true}return X}}else{if(document.createRange){I=function(Y,W){var X=Y.ownerDocument.createRange(),V=W.ownerDocument.createRange();X.selectNode(Y);X.collapse(true);V.selectNode(W);V.collapse(true);var Z=X.compareBoundaryPoints(Range.START_TO_END,V);if(Z===0){hasDuplicate=true}return Z}}}}(function(){var W=document.createElement("form"),X="script"+(new Date).getTime();W.innerHTML="<input name='"+X+"'/>";var V=document.documentElement;V.insertBefore(W,V.firstChild);if(!!document.getElementById(X)){K.find.ID=function(Z,aa,ab){if(typeof aa.getElementById!=="undefined"&&!ab){var Y=aa.getElementById(Z[1]);return Y?Y.id===Z[1]||typeof Y.getAttributeNode!=="undefined"&&Y.getAttributeNode("id").nodeValue===Z[1]?[Y]:h:[]}};K.filter.ID=function(aa,Y){var Z=typeof aa.getAttributeNode!=="undefined"&&aa.getAttributeNode("id");return aa.nodeType===1&&Z&&Z.nodeValue===Y}}V.removeChild(W)})();(function(){var V=document.createElement("div");V.appendChild(document.createComment(""));if(V.getElementsByTagName("*").length>0){K.find.TAG=function(W,aa){var Z=aa.getElementsByTagName(W[1]);if(W[1]==="*"){var Y=[];for(var X=0;Z[X];X++){if(Z[X].nodeType===1){Y.push(Z[X])}}Z=Y}return Z}}V.innerHTML="<a href='#'></a>";if(V.firstChild&&typeof V.firstChild.getAttribute!=="undefined"&&V.firstChild.getAttribute("href")!=="#"){K.attrHandle.href=function(W){return W.getAttribute("href",2)}}})();if(document.querySelectorAll){(function(){var V=H,W=document.createElement("div");W.innerHTML="<p class='TEST'></p>";if(W.querySelectorAll&&W.querySelectorAll(".TEST").length===0){return}H=function(aa,Z,X,Y){Z=Z||document;if(!Y&&Z.nodeType===9&&!S(Z)){try{return G(Z.querySelectorAll(aa),X)}catch(ab){}}return V(aa,Z,X,Y)};H.find=V.find;H.filter=V.filter;H.selectors=V.selectors;H.matches=V.matches})()}if(document.getElementsByClassName&&document.documentElement.getElementsByClassName){(function(){var V=document.createElement("div");V.innerHTML="<div class='test e'></div><div class='test'></div>";if(V.getElementsByClassName("e").length===0){return}V.lastChild.className="e";if(V.getElementsByClassName("e").length===1){return}K.order.splice(1,0,"CLASS");K.find.CLASS=function(W,X,Y){if(typeof X.getElementsByClassName!=="undefined"&&!Y){return X.getElementsByClassName(W[1])}}})()}function R(W,ab,aa,af,ac,ae){var ad=W=="previousSibling"&&!ae;for(var Y=0,X=af.length;Y<X;Y++){var V=af[Y];if(V){if(ad&&V.nodeType===1){V.sizcache=aa;V.sizset=Y}V=V[W];var Z=false;while(V){if(V.sizcache===aa){Z=af[V.sizset];break}if(V.nodeType===1&&!ae){V.sizcache=aa;V.sizset=Y}if(V.nodeName===ab){Z=V;break}V=V[W]}af[Y]=Z}}}function U(W,ab,aa,af,ac,ae){var ad=W=="previousSibling"&&!ae;for(var Y=0,X=af.length;Y<X;Y++){var V=af[Y];if(V){if(ad&&V.nodeType===1){V.sizcache=aa;V.sizset=Y}V=V[W];var Z=false;while(V){if(V.sizcache===aa){Z=af[V.sizset];break}if(V.nodeType===1){if(!ae){V.sizcache=aa;V.sizset=Y}if(typeof ab!=="string"){if(V===ab){Z=true;break}}else{if(H.filter(ab,[V]).length>0){Z=V;break}}}V=V[W]}af[Y]=Z}}}var M=document.compareDocumentPosition?function(W,V){return W.compareDocumentPosition(V)&16}:function(W,V){return W!==V&&(W.contains?W.contains(V):true)};var S=function(V){return V.nodeType===9&&V.documentElement.nodeName!=="HTML"||!!V.ownerDocument&&S(V.ownerDocument)};var L=function(V,ac){var Y=[],Z="",aa,X=ac.nodeType?[ac]:ac;while((aa=K.match.PSEUDO.exec(V))){Z+=aa[0];V=V.replace(K.match.PSEUDO,"")}V=K.relative[V]?V+"*":V;for(var ab=0,W=X.length;ab<W;ab++){H(V,X[ab],Y)}return H.filter(Z,Y)};p.find=H;p.filter=H.filter;p.expr=H.selectors;p.expr[":"]=p.expr.filters;H.selectors.filters.hidden=function(V){return V.offsetWidth===0||V.offsetHeight===0};H.selectors.filters.visible=function(V){return V.offsetWidth>0||V.offsetHeight>0};H.selectors.filters.animated=function(V){return p.grep(p.timers,function(W){return V===W.elem}).length};p.multiFilter=function(X,V,W){if(W){X=":not("+X+")"}return H.matches(X,V)};p.dir=function(X,W){var V=[],Y=X[W];while(Y&&Y!=document){if(Y.nodeType==1){V.push(Y)}Y=Y[W]}return V};p.nth=function(Z,V,X,Y){V=V||1;var W=0;for(;Z;Z=Z[X]){if(Z.nodeType==1&&++W==V){break}}return Z};p.sibling=function(X,W){var V=[];for(;X;X=X.nextSibling){if(X.nodeType==1&&X!=W){V.push(X)}}return V};return;m.Sizzle=H})();p.event={add:function(K,H,J,M){if(K.nodeType==3||K.nodeType==8){return}if(K.setInterval&&K!=m){K=m}if(!J.guid){J.guid=this.guid++}if(M!==h){var I=J;J=this.proxy(I);J.data=M}var G=p.data(K,"events")||p.data(K,"events",{}),L=p.data(K,"handle")||p.data(K,"handle",function(){return typeof p!=="undefined"&&!p.event.triggered?p.event.handle.apply(arguments.callee.elem,arguments):h});L.elem=K;p.each(H.split(/\s+/),function(O,P){var Q=P.split(".");P=Q.shift();J.type=Q.slice().sort().join(".");var N=G[P];if(p.event.specialAll[P]){p.event.specialAll[P].setup.call(K,M,Q)}if(!N){N=G[P]={};if(!p.event.special[P]||p.event.special[P].setup.call(K,M,Q)===false){if(K.addEventListener){K.addEventListener(P,L,false)}else{if(K.attachEvent){K.attachEvent("on"+P,L)}}}}N[J.guid]=J;p.event.global[P]=true});K=null},guid:1,global:{},remove:function(M,J,L){if(M.nodeType==3||M.nodeType==8){return}var I=p.data(M,"events"),H,G;if(I){if(J===h||(typeof J==="string"&&J.charAt(0)==".")){for(var K in I){this.remove(M,K+(J||""))}}else{if(J.type){L=J.handler;J=J.type}p.each(J.split(/\s+/),function(O,Q){var S=Q.split(".");Q=S.shift();var P=RegExp("(^|\\.)"+S.slice().sort().join(".*\\.")+"(\\.|$)");if(I[Q]){if(L){delete I[Q][L.guid]}else{for(var R in I[Q]){if(P.test(I[Q][R].type)){delete I[Q][R]}}}if(p.event.specialAll[Q]){p.event.specialAll[Q].teardown.call(M,S)}for(H in I[Q]){break}if(!H){if(!p.event.special[Q]||p.event.special[Q].teardown.call(M,S)===false){if(M.removeEventListener){M.removeEventListener(Q,p.data(M,"handle"),false)}else{if(M.detachEvent){M.detachEvent("on"+Q,p.data(M,"handle"))}}}H=null;delete I[Q]}}})}for(H in I){break}if(!H){var N=p.data(M,"handle");if(N){N.elem=null}p.removeData(M,"events");p.removeData(M,"handle")}}},trigger:function(K,M,J,G){var I=K.type||K;if(!G){K=typeof K==="object"?K[i]?K:p.extend(p.Event(I),K):p.Event(I);if(I.indexOf("!")>=0){K.type=I=I.slice(0,-1);K.exclusive=true}if(!J){K.stopPropagation();if(this.global[I]){p.each(p.cache,function(){if(this.events&&this.events[I]){p.event.trigger(K,M,this.handle.elem)}})}}if(!J||J.nodeType==3||J.nodeType==8){return h}K.result=h;K.target=J;M=p.makeArray(M);M.unshift(K)}K.currentTarget=J;var L=p.data(J,"handle");if(L){L.apply(J,M)}if((!J[I]||(p.nodeName(J,"a")&&I=="click"))&&J["on"+I]&&J["on"+I].apply(J,M)===false){K.result=false}if(!G&&J[I]&&!K.isDefaultPrevented()&&!(p.nodeName(J,"a")&&I=="click")){this.triggered=true;try{J[I]()}catch(N){}}this.triggered=false;if(!K.isPropagationStopped()){var H=J.parentNode||J.ownerDocument;if(H){p.event.trigger(K,M,H,true)}}},handle:function(M){var L,G;M=arguments[0]=p.event.fix(M||m.event);M.currentTarget=this;var N=M.type.split(".");M.type=N.shift();L=!N.length&&!M.exclusive;var K=RegExp("(^|\\.)"+N.slice().sort().join(".*\\.")+"(\\.|$)");G=(p.data(this,"events")||{})[M.type];for(var I in G){var J=G[I];if(L||K.test(J.type)){M.handler=J;M.data=J.data;var H=J.apply(this,arguments);if(H!==h){M.result=H;if(H===false){M.preventDefault();M.stopPropagation()}}if(M.isImmediatePropagationStopped()){break}}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(J){if(J[i]){return J}var H=J;J=p.Event(H);for(var I=this.props.length,L;I;){L=this.props[--I];J[L]=H[L]}if(!J.target){J.target=J.srcElement||document}if(J.target.nodeType==3){J.target=J.target.parentNode}if(!J.relatedTarget&&J.fromElement){J.relatedTarget=J.fromElement==J.target?J.toElement:J.fromElement}if(J.pageX==null&&J.clientX!=null){var K=document.documentElement,G=document.body;J.pageX=J.clientX+(K&&K.scrollLeft||G&&G.scrollLeft||0)-(K.clientLeft||0);J.pageY=J.clientY+(K&&K.scrollTop||G&&G.scrollTop||0)-(K.clientTop||0)}if(!J.which&&((J.charCode||J.charCode===0)?J.charCode:J.keyCode)){J.which=J.charCode||J.keyCode}if(!J.metaKey&&J.ctrlKey){J.metaKey=J.ctrlKey}if(!J.which&&J.button){J.which=(J.button&1?1:(J.button&2?3:(J.button&4?2:0)))}return J},proxy:function(H,G){G=G||function(){return H.apply(this,arguments)};G.guid=H.guid=H.guid||G.guid||this.guid++;return G},special:{ready:{setup:D,teardown:function(){}}},specialAll:{live:{setup:function(G,H){p.event.add(this,H[0],c)},teardown:function(I){if(I.length){var G=0,H=RegExp("(^|\\.)"+I[0]+"(\\.|$)");p.each((p.data(this,"events").live||{}),function(){if(H.test(this.type)){G++}});if(G<1){p.event.remove(this,I[0],c)}}}}}};p.Event=function(G){if(!this.preventDefault){return new p.Event(G)}if(G&&G.type){this.originalEvent=G;this.type=G.type}else{this.type=G}this.timeStamp=f();this[i]=true};function l(){return false}function w(){return true}p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=w;var G=this.originalEvent;if(!G){return}if(G.preventDefault){G.preventDefault()}G.returnValue=false},stopPropagation:function(){this.isPropagationStopped=w;var G=this.originalEvent;if(!G){return}if(G.stopPropagation){G.stopPropagation()}G.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=w;this.stopPropagation()},isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l};var a=function(H){var G=H.relatedTarget;while(G&&G!=this){try{G=G.parentNode}catch(I){G=this}}if(G!=this){H.type=H.data;p.event.handle.apply(this,arguments)}};p.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(H,G){p.event.special[G]={setup:function(){p.event.add(this,H,a,G)},teardown:function(){p.event.remove(this,H,a)}}});p.fn.extend({bind:function(H,I,G){return H=="unload"?this.one(H,I,G):this.each(function(){p.event.add(this,H,G||I,G&&I)})},one:function(I,J,H){var G=p.event.proxy(H||J,function(K){p(this).unbind(K,G);return(H||J).apply(this,arguments)});return this.each(function(){p.event.add(this,I,G,H&&J)})},unbind:function(H,G){return this.each(function(){p.event.remove(this,H,G)})},trigger:function(G,H){return this.each(function(){p.event.trigger(G,H,this)})},triggerHandler:function(G,I){if(this[0]){var H=p.Event(G);H.preventDefault();H.stopPropagation();p.event.trigger(H,I,this[0]);return H.result}},toggle:function(I){var G=arguments,H=1;while(H<G.length){p.event.proxy(I,G[H++])}return this.click(p.event.proxy(I,function(J){this.lastToggle=(this.lastToggle||0)%H;J.preventDefault();return G[this.lastToggle++].apply(this,arguments)||false}))},hover:function(G,H){return this.mouseenter(G).mouseleave(H)},ready:function(G){D();if(p.isReady){G.call(document,p)}else{p.readyList.push(G)}return this},live:function(I,H){var G=p.event.proxy(H);G.guid+=this.selector+I;p(document).bind(j(I,this.selector),this.selector,G);return this},die:function(H,G){p(document).unbind(j(H,this.selector),G?{guid:G.guid+this.selector+H}:null);return this}});function c(J){var G=RegExp("(^|\\.)"+J.type+"(\\.|$)"),I=true,H=[];p.each(p.data(this,"events").live||[],function(K,L){if(G.test(L.type)){var M=p(J.target).closest(L.data)[0];if(M){H.push({elem:M,fn:L})}}});H.sort(function(L,K){return p.data(L.elem,"closest")-p.data(K.elem,"closest")});p.each(H,function(){if(this.fn.call(this.elem,J,this.fn.data)===false){return(I=false)}});return I}function j(H,G){return["live",H,G.replace(/\./g,"`").replace(/ /g,"|")].join(".")}p.extend({isReady:false,readyList:[],ready:function(){if(!p.isReady){p.isReady=true;if(p.readyList){p.each(p.readyList,function(){this.call(document,p)});p.readyList=null}p(document).triggerHandler("ready")}}});var z=false;function D(){if(z){return}z=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);p.ready()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);p.ready()}});if(document.documentElement.doScroll&&m==m.top){(function(){if(p.isReady){return}try{document.documentElement.doScroll("left")}catch(G){setTimeout(arguments.callee,0);return}p.ready()})()}}}p.event.add(m,"load",p.ready)}p.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error").split(","),function(H,G){p.fn[G]=function(I){return I?this.bind(G,I):this.trigger(G)}});p(m).bind("unload",function(){for(var G in p.cache){if(G!=1&&p.cache[G].handle){p.event.remove(p.cache[G].handle.elem)}}});(function(){p.support={};var H=document.documentElement,I=document.createElement("script"),M=document.createElement("div"),L="script"+(new Date).getTime();M.style.display="none";M.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';var J=M.getElementsByTagName("*"),G=M.getElementsByTagName("a")[0];if(!J||!J.length||!G){return}p.support={leadingWhitespace:M.firstChild.nodeType==3,tbody:!M.getElementsByTagName("tbody").length,objectAll:!!M.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!M.getElementsByTagName("link").length,style:/red/.test(G.getAttribute("style")),hrefNormalized:G.getAttribute("href")==="/a",opacity:G.style.opacity==="0.5",cssFloat:!!G.style.cssFloat,scriptEval:false,noCloneEvent:true,boxModel:null};I.type="text/javascript";try{I.appendChild(document.createTextNode("window."+L+"=1;"))}catch(K){}H.insertBefore(I,H.firstChild);if(m[L]){p.support.scriptEval=true;delete m[L]}H.removeChild(I);if(M.attachEvent&&M.fireEvent){M.attachEvent("onclick",function(){p.support.noCloneEvent=false;M.detachEvent("onclick",arguments.callee)});M.cloneNode(true).fireEvent("onclick")}p(function(){var N=document.createElement("div");N.style.width=N.style.paddingLeft="1px";document.body.appendChild(N);p.boxModel=p.support.boxModel=N.offsetWidth===2;document.body.removeChild(N).style.display="none"})})();var y=p.support.cssFloat?"cssFloat":"styleFloat";p.props={"for":"htmlFor","class":"className","float":y,cssFloat:y,styleFloat:y,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"};p.fn.extend({_load:p.fn.load,load:function(I,L,M){if(typeof I!=="string"){return this._load(I)}var K=I.indexOf(" ");if(K>=0){var G=I.slice(K,I.length);I=I.slice(0,K)}var J="GET";if(L){if(p.isFunction(L)){M=L;L=null}else{if(typeof L==="object"){L=p.param(L);J="POST"}}}var H=this;p.ajax({url:I,type:J,dataType:"html",data:L,complete:function(O,N){if(N=="success"||N=="notmodified"){H.html(G?p("<div/>").append(O.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(G):O.responseText)}if(M){H.each(M,[O.responseText,N,O])}}});return this},serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(G,H){var I=p(this).val();return I==null?null:p.isArray(I)?p.map(I,function(K,J){return{name:H.name,value:K}}):{name:H.name,value:I}}).get()}});p.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(G,H){p.fn[H]=function(I){return this.bind(H,I)}});var t=f();p.extend({get:function(G,I,J,H){if(p.isFunction(I)){J=I;I=null}return p.ajax({type:"GET",url:G,data:I,success:J,dataType:H})},getScript:function(G,H){return p.get(G,null,H,"script")},getJSON:function(G,H,I){return p.get(G,H,I,"json")},post:function(G,I,J,H){if(p.isFunction(I)){J=I;I={}}return p.ajax({type:"POST",url:G,data:I,success:J,dataType:H})},ajaxSetup:function(G){p.extend(p.ajaxSettings,G)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return m.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest()},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(O){O=p.extend(true,O,p.extend(true,{},p.ajaxSettings,O));var Y,H=/=\?(&|$)/g,T,X,I=O.type.toUpperCase();if(O.data&&O.processData&&typeof O.data!=="string"){O.data=p.param(O.data)}if(O.dataType=="jsonp"){if(I=="GET"){if(!O.url.match(H)){O.url+=(O.url.match(/\?/)?"&":"?")+(O.jsonp||"callback")+"=?"}}else{if(!O.data||!O.data.match(H)){O.data=(O.data?O.data+"&":"")+(O.jsonp||"callback")+"=?"}}O.dataType="json"}if(O.dataType=="json"&&(O.data&&O.data.match(H)||O.url.match(H))){Y="jsonp"+t++;if(O.data){O.data=(O.data+"").replace(H,"="+Y+"$1")}O.url=O.url.replace(H,"="+Y+"$1");O.dataType="script";m[Y]=function(Z){X=Z;K();N();m[Y]=h;try{delete m[Y]}catch(aa){}if(J){J.removeChild(V)}}}if(O.dataType=="script"&&O.cache==null){O.cache=false}if(O.cache===false&&I=="GET"){var G=f();var W=O.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+G+"$2");O.url=W+((W==O.url)?(O.url.match(/\?/)?"&":"?")+"_="+G:"")}if(O.data&&I=="GET"){O.url+=(O.url.match(/\?/)?"&":"?")+O.data;O.data=null}if(O.global&&!p.active++){p.event.trigger("ajaxStart")}var S=/^(\w+:)?\/\/([^\/?#]+)/.exec(O.url);if(O.dataType=="script"&&I=="GET"&&S&&(S[1]&&S[1]!=location.protocol||S[2]!=location.host)){var J=document.getElementsByTagName("head")[0];var V=document.createElement("script");V.src=O.url;if(O.scriptCharset){V.charset=O.scriptCharset}if(!Y){var Q=false;V.onload=V.onreadystatechange=function(){if(!Q&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){Q=true;K();N();V.onload=V.onreadystatechange=null;J.removeChild(V)}}}J.appendChild(V);return h}var M=false;var L=O.xhr();if(O.username){L.open(I,O.url,O.async,O.username,O.password)}else{L.open(I,O.url,O.async)}try{if(O.data){L.setRequestHeader("Content-Type",O.contentType)}if(O.ifModified){L.setRequestHeader("If-Modified-Since",p.lastModified[O.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}L.setRequestHeader("X-Requested-With","XMLHttpRequest");L.setRequestHeader("Accept",O.dataType&&O.accepts[O.dataType]?O.accepts[O.dataType]+", */*":O.accepts._default)}catch(U){}if(O.beforeSend&&O.beforeSend(L,O)===false){if(O.global&&!--p.active){p.event.trigger("ajaxStop")}L.abort();return false}if(O.global){p.event.trigger("ajaxSend",[L,O])}var P=function(Z){if(L.readyState==0){if(R){clearInterval(R);R=null;if(O.global&&!--p.active){p.event.trigger("ajaxStop")}}}else{if(!M&&L&&(L.readyState==4||Z=="timeout")){M=true;if(R){clearInterval(R);R=null}T=Z=="timeout"?"timeout":!p.httpSuccess(L)?"error":O.ifModified&&p.httpNotModified(L,O.url)?"notmodified":"success";if(T=="success"){try{X=p.httpData(L,O.dataType,O)}catch(ab){T="parsererror"}}if(T=="success"){var aa;try{aa=L.getResponseHeader("Last-Modified")}catch(ab){}if(O.ifModified&&aa){p.lastModified[O.url]=aa}if(!Y){K()}}else{p.handleError(O,L,T)}N();if(Z){L.abort()}if(O.async){L=null}}}};if(O.async){var R=setInterval(P,13);if(O.timeout>0){setTimeout(function(){if(L&&!M){P("timeout")}},O.timeout)}}try{L.send(O.data)}catch(U){p.handleError(O,L,null,U)}if(!O.async){P()}function K(){if(O.success){O.success(X,T)}if(O.global){p.event.trigger("ajaxSuccess",[L,O])}}function N(){if(O.complete){O.complete(L,T)}if(O.global){p.event.trigger("ajaxComplete",[L,O])}if(O.global&&!--p.active){p.event.trigger("ajaxStop")}}return L},handleError:function(H,J,G,I){if(H.error){H.error(J,G,I)}if(H.global){p.event.trigger("ajaxError",[J,H,I])}},active:0,httpSuccess:function(H){try{return !H.status&&location.protocol=="file:"||(H.status>=200&&H.status<300)||H.status==304||H.status==1223}catch(G){}return false},httpNotModified:function(I,G){try{var J=I.getResponseHeader("Last-Modified");return I.status==304||J==p.lastModified[G]}catch(H){}return false},httpData:function(L,J,I){var H=L.getResponseHeader("content-type"),G=J=="xml"||!J&&H&&H.indexOf("xml")>=0,K=G?L.responseXML:L.responseText;if(G&&K.documentElement.tagName=="parsererror"){throw"parsererror"}if(I&&I.dataFilter){K=I.dataFilter(K,J)}if(typeof K==="string"){if(J=="script"){p.globalEval(K)}if(J=="json"){K=m["eval"]("("+K+")")}}return K},param:function(G){var I=[];function J(K,L){I[I.length]=encodeURIComponent(K)+"="+encodeURIComponent(L)}if(p.isArray(G)||G.jquery){p.each(G,function(){J(this.name,this.value)})}else{for(var H in G){if(p.isArray(G[H])){p.each(G[H],function(){J(H,this)})}else{J(H,p.isFunction(G[H])?G[H]():G[H])}}}return I.join("&").replace(/%20/g,"+")}});var n={},o,e=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];function v(H,G){var I={};p.each(e.concat.apply([],e.slice(0,G)),function(){I[this]=H});return I}p.fn.extend({show:function(L,N){if(L){return this.animate(v("show",3),L,N)}else{for(var J=0,H=this.length;J<H;J++){var G=p.data(this[J],"olddisplay");this[J].style.display=G||"";if(p.css(this[J],"display")==="none"){var I=this[J].tagName,M;if(n[I]){M=n[I]}else{var K=p("<"+I+" />").appendTo("body");M=K.css("display");if(M==="none"){M="block"}K.remove();n[I]=M}p.data(this[J],"olddisplay",M)}}for(var J=0,H=this.length;J<H;J++){this[J].style.display=p.data(this[J],"olddisplay")||""}return this}},hide:function(J,K){if(J){return this.animate(v("hide",3),J,K)}else{for(var I=0,H=this.length;I<H;I++){var G=p.data(this[I],"olddisplay");if(!G&&G!=="none"){p.data(this[I],"olddisplay",p.css(this[I],"display"))}}for(var I=0,H=this.length;I<H;I++){this[I].style.display="none"}return this}},_toggle:p.fn.toggle,toggle:function(I,H){var G=typeof I==="boolean";return p.isFunction(I)&&p.isFunction(H)?this._toggle.apply(this,arguments):I==null||G?this.each(function(){var J=G?I:p(this).is(":hidden");p(this)[J?"show":"hide"]()}):this.animate(v("toggle",3),I,H)},fadeTo:function(G,I,H){return this.animate({opacity:I},G,H)},animate:function(K,H,J,I){var G=p.speed(H,J,I);return this[G.queue===false?"each":"queue"](function(){var M=p.extend({},G),O,N=this.nodeType==1&&p(this).is(":hidden"),L=this;for(O in K){if(K[O]=="hide"&&N||K[O]=="show"&&!N){return M.complete.call(this)}if((O=="height"||O=="width")&&this.style){M.display=p.css(this,"display");M.overflow=this.style.overflow}}if(M.overflow!=null){this.style.overflow="hidden"}M.curAnim=p.extend({},K);p.each(K,function(Q,U){var T=new p.fx(L,M,Q);if(/toggle|show|hide/.test(U)){T[U=="toggle"?N?"show":"hide":U](K)}else{var S=U.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),V=T.cur(true)||0;if(S){var P=parseFloat(S[2]),R=S[3]||"px";if(R!="px"){L.style[Q]=(P||1)+R;V=((P||1)/T.cur(true))*V;L.style[Q]=V+R}if(S[1]){P=((S[1]=="-="?-1:1)*P)+V}T.custom(V,P,R)}else{T.custom(V,U,"")}}});return true})},stop:function(H,G){var I=p.timers;if(H){this.queue([])}this.each(function(){for(var J=I.length-1;J>=0;J--){if(I[J].elem==this){if(G){I[J](true)}I.splice(J,1)}}});if(!G){this.dequeue()}return this}});p.each({slideDown:v("show",1),slideUp:v("hide",1),slideToggle:v("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(G,H){p.fn[G]=function(I,J){return this.animate(H,I,J)}});p.extend({speed:function(I,J,H){var G=typeof I==="object"?I:{complete:H||!H&&J||p.isFunction(I)&&I,duration:I,easing:H&&J||J&&!p.isFunction(J)&&J};G.duration=p.fx.off?0:typeof G.duration==="number"?G.duration:p.fx.speeds[G.duration]||p.fx.speeds._default;G.old=G.complete;G.complete=function(){if(G.queue!==false){p(this).dequeue()}if(p.isFunction(G.old)){G.old.call(this)}};return G},easing:{linear:function(I,J,G,H){return G+H*I},swing:function(I,J,G,H){return((-Math.cos(I*Math.PI)/2)+0.5)*H+G}},timers:[],fx:function(H,G,I){this.options=G;this.elem=H;this.prop=I;if(!G.orig){G.orig={}}}});p.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(p.fx.step[this.prop]||p.fx.step._default)(this);if((this.prop=="height"||this.prop=="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(H){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var G=parseFloat(p.css(this.elem,this.prop,H));return G&&G>-10000?G:parseFloat(p.curCSS(this.elem,this.prop))||0},custom:function(K,J,I){this.startTime=f();this.start=K;this.end=J;this.unit=I||this.unit||"px";this.now=this.start;this.pos=this.state=0;var G=this;function H(L){return G.step(L)}H.elem=this.elem;if(H()&&p.timers.push(H)&&!o){o=setInterval(function(){var M=p.timers;for(var L=0;L<M.length;L++){if(!M[L]()){M.splice(L--,1)}}if(!M.length){clearInterval(o);o=h}},13)}},show:function(){this.options.orig[this.prop]=p.attr(this.elem.style,this.prop);this.options.show=true;this.custom(this.prop=="width"||this.prop=="height"?1:0,this.cur());p(this.elem).show()},hide:function(){this.options.orig[this.prop]=p.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(J){var I=f();if(J||I>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var G=true;for(var H in this.options.curAnim){if(this.options.curAnim[H]!==true){G=false}}if(G){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(p.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){p(this.elem).hide()}if(this.options.hide||this.options.show){for(var K in this.options.curAnim){p.attr(this.elem.style,K,this.options.orig[K])}}this.options.complete.call(this.elem)}return false}else{var L=I-this.startTime;this.state=L/this.options.duration;this.pos=p.easing[this.options.easing||(p.easing.swing?"swing":"linear")](this.state,L,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};p.extend(p.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(G){p.attr(G.elem.style,"opacity",G.now)},_default:function(G){if(G.elem.style&&G.elem.style[G.prop]!=null){G.elem.style[G.prop]=G.now+G.unit}else{G.elem[G.prop]=G.now}}}});if(document.documentElement.getBoundingClientRect){p.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return p.offset.bodyOffset(this[0])}var I=this[0].getBoundingClientRect(),L=this[0].ownerDocument,H=L.body,G=L.documentElement,N=G.clientTop||H.clientTop||0,M=G.clientLeft||H.clientLeft||0,K=I.top+(self.pageYOffset||p.boxModel&&G.scrollTop||H.scrollTop)-N,J=I.left+(self.pageXOffset||p.boxModel&&G.scrollLeft||H.scrollLeft)-M;return{top:K,left:J}}}else{p.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return p.offset.bodyOffset(this[0])}p.offset.initialized||p.offset.initialize();var L=this[0],I=L.offsetParent,H=L,Q=L.ownerDocument,O,J=Q.documentElement,M=Q.body,N=Q.defaultView,G=N.getComputedStyle(L,null),P=L.offsetTop,K=L.offsetLeft;while((L=L.parentNode)&&L!==M&&L!==J){O=N.getComputedStyle(L,null);P-=L.scrollTop,K-=L.scrollLeft;if(L===I){P+=L.offsetTop,K+=L.offsetLeft;if(p.offset.doesNotAddBorder&&!(p.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(L.tagName))){P+=parseInt(O.borderTopWidth,10)||0,K+=parseInt(O.borderLeftWidth,10)||0}H=I,I=L.offsetParent}if(p.offset.subtractsBorderForOverflowNotVisible&&O.overflow!=="visible"){P+=parseInt(O.borderTopWidth,10)||0,K+=parseInt(O.borderLeftWidth,10)||0}G=O}if(G.position==="relative"||G.position==="static"){P+=M.offsetTop,K+=M.offsetLeft}if(G.position==="fixed"){P+=Math.max(J.scrollTop,M.scrollTop),K+=Math.max(J.scrollLeft,M.scrollLeft)}return{top:P,left:K}}}p.offset={initialize:function(){if(this.initialized){return}var N=document.body,H=document.createElement("div"),J,I,P,K,O,G,L=N.style.marginTop,M='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';O={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(G in O){H.style[G]=O[G]}H.innerHTML=M;N.insertBefore(H,N.firstChild);J=H.firstChild,I=J.firstChild,K=J.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(I.offsetTop!==5);this.doesAddBorderForTableAndCells=(K.offsetTop===5);J.style.overflow="hidden",J.style.position="relative";this.subtractsBorderForOverflowNotVisible=(I.offsetTop===-5);N.style.marginTop="1px";this.doesNotIncludeMarginInBodyOffset=(N.offsetTop===0);N.style.marginTop=L;N.removeChild(H);this.initialized=true},bodyOffset:function(G){p.offset.initialized||p.offset.initialize();var I=G.offsetTop,H=G.offsetLeft;if(p.offset.doesNotIncludeMarginInBodyOffset){I+=parseInt(p.curCSS(G,"marginTop",true),10)||0,H+=parseInt(p.curCSS(G,"marginLeft",true),10)||0}return{top:I,left:H}}};p.fn.extend({position:function(){var K=0,J=0,H;if(this[0]){var I=this.offsetParent(),L=this.offset(),G=/^body|html$/i.test(I[0].tagName)?{top:0,left:0}:I.offset();L.top-=k(this,"marginTop");L.left-=k(this,"marginLeft");G.top+=k(I,"borderTopWidth");G.left+=k(I,"borderLeftWidth");H={top:L.top-G.top,left:L.left-G.left}}return H},offsetParent:function(){var G=this[0].offsetParent||document.body;while(G&&(!/^body|html$/i.test(G.tagName)&&p.css(G,"position")=="static")){G=G.offsetParent}return p(G)}});p.each(["Left","Top"],function(H,G){var I="scroll"+G;p.fn[I]=function(J){if(!this[0]){return null}return J!==h?this.each(function(){this==m||this==document?m.scrollTo(!H?J:p(m).scrollLeft(),H?J:p(m).scrollTop()):this[I]=J}):this[0]==m||this[0]==document?self[H?"pageYOffset":"pageXOffset"]||p.boxModel&&document.documentElement[I]||document.body[I]:this[0][I]}});p.each(["Height","Width"],function(K,I){var G=K?"Left":"Top",J=K?"Right":"Bottom",H=I.toLowerCase();p.fn["inner"+I]=function(){return this[0]?p.css(this[0],H,false,"padding"):null};p.fn["outer"+I]=function(M){return this[0]?p.css(this[0],H,false,M?"margin":"border"):null};var L=I.toLowerCase();p.fn[L]=function(M){return this[0]==m?document.compatMode=="CSS1Compat"&&document.documentElement["client"+I]||document.body["client"+I]:this[0]==document?Math.max(document.documentElement["client"+I],document.body["scroll"+I],document.documentElement["scroll"+I],document.body["offset"+I],document.documentElement["offset"+I]):M===h?(this.length?p.css(this[0],L):null):this.css(L,typeof M==="string"?M:M+"px")}})})();(function($){$.toJSON=function(o){if(typeof(JSON)=="object"&&JSON.stringify){return JSON.stringify(o)}var type=typeof(o);if(o===null){return"null"}if(type=="undefined"){return undefined}if(type=="number"||type=="boolean"){return o+""}if(type=="string"){return $.quoteString(o)}if(type=="object"){if(typeof o.toJSON=="function"){return $.toJSON(o.toJSON())}if(o.constructor===Date){var month=o.getUTCMonth()+1;if(month<10){month="0"+month}var day=o.getUTCDate();if(day<10){day="0"+day}var year=o.getUTCFullYear();var hours=o.getUTCHours();if(hours<10){hours="0"+hours}var minutes=o.getUTCMinutes();if(minutes<10){minutes="0"+minutes}var seconds=o.getUTCSeconds();if(seconds<10){seconds="0"+seconds}var milli=o.getUTCMilliseconds();if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i])||"null")}return"["+ret.join(",")+"]"}var pairs=[];for(var k in o){var name;var type=typeof k;if(type=="number"){name='"'+k+'"'}else{if(type=="string"){name=$.quoteString(k)}else{continue}}if(typeof o[k]=="function"){continue}var val=$.toJSON(o[k]);pairs.push(name+":"+val)}return"{"+pairs.join(", ")+"}"}};$.evalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}return eval("("+src+")")};$.secureEvalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else{throw new SyntaxError("Error parsing JSON, source is not valid.")}};$.quoteString=function(string){if(string.match(_escapeable)){return'"'+string.replace(_escapeable,function(a){var c=_meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+string+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var _meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}})(jQuery);
/*
 * jQuery UI 1.8.5
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,c){a.ui=a.ui||{};if(a.ui.version){return}a.extend(a.ui,{version:"1.8.5",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(e,f){return typeof e==="number"?this.each(function(){var g=this;setTimeout(function(){a(g).focus();if(f){f.call(g)}},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){e=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}else{e=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!e.length?a(document):e},zIndex:function(h){if(h!==c){return this.css("zIndex",h)}if(this.length){var f=a(this[0]),e,g;while(f.length&&f[0]!==document){e=f.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){g=parseInt(f.css("zIndex"));if(!isNaN(g)&&g!=0){return g}}f=f.parent()}}return 0},disableSelection:function(){return this.bind("mousedown.ui-disableSelection selectstart.ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(g,e){var f=e==="Width"?["Left","Right"]:["Top","Bottom"],h=e.toLowerCase(),k={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function j(m,l,i,n){a.each(f,function(){l-=parseFloat(a.curCSS(m,"padding"+this,true))||0;if(i){l-=parseFloat(a.curCSS(m,"border"+this+"Width",true))||0}if(n){l-=parseFloat(a.curCSS(m,"margin"+this,true))||0}});return l}a.fn["inner"+e]=function(i){if(i===c){return k["inner"+e].call(this)}return this.each(function(){a.style(this,h,j(this,i)+"px")})};a.fn["outer"+e]=function(i,l){if(typeof i!=="number"){return k["outer"+e].call(this,i)}return this.each(function(){a.style(this,h,j(this,i,true,l)+"px")})}});function b(e){return !a(e).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.extend(a.expr[":"],{data:function(g,f,e){return !!a.data(g,e[3])},focusable:function(g){var j=g.nodeName.toLowerCase(),e=a.attr(g,"tabindex");if("area"===j){var i=g.parentNode,h=i.name,f;if(!g.href||!h||i.nodeName.toLowerCase()!=="map"){return false}f=a("img[usemap=#"+h+"]")[0];return !!f&&b(f)}return(/input|select|textarea|button|object/.test(j)?!g.disabled:"a"==j?g.href||!isNaN(e):!isNaN(e))&&b(g)},tabbable:function(f){var e=a.attr(f,"tabindex");return(isNaN(e)||e>=0)&&a(f).is(":focusable")}});a(function(){var f=document.createElement("div"),e=document.body;a.extend(f.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=e.appendChild(f).offsetHeight===100;e.removeChild(f).style.display="none"});a.extend(a.ui,{plugin:{add:function(f,g,j){var h=a.ui[f].prototype;for(var e in j){h.plugins[e]=h.plugins[e]||[];h.plugins[e].push([g,j[e]])}},call:function(e,g,f){var j=e.plugins[g];if(!j||!e.element[0].parentNode){return}for(var h=0;h<j.length;h++){if(e.options[j[h][0]]){j[h][1].apply(e.element,f)}}}},contains:function(f,e){return document.compareDocumentPosition?f.compareDocumentPosition(e)&16:f!==e&&f.contains(e)},hasScroll:function(h,f){if(a(h).css("overflow")==="hidden"){return false}var e=(f&&f==="left")?"scrollLeft":"scrollTop",g=false;if(h[e]>0){return true}h[e]=1;g=(h[e]>0);h[e]=0;return g},isOverAxis:function(f,e,g){return(f>e)&&(f<(e+g))},isOver:function(j,f,i,h,e,g){return a.ui.isOverAxis(j,i,e)&&a.ui.isOverAxis(f,h,g)}})})(jQuery);
/*
 * jQuery UI Widget 1.8.5
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,e){if(b.cleanData){var c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){b(h).triggerHandler("remove")}c(f)}}else{var a=b.fn.remove;b.fn.remove=function(f,g){return this.each(function(){if(!g){if(!f||b.filter(f,[this]).length){b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")})}}return a.call(b(this),f,g)})}}b.widget=function(g,i,f){var h=g.split(".")[0],k;g=g.split(".")[1];k=h+"-"+g;if(!f){f=i;i=b.Widget}b.expr[":"][k]=function(l){return !!b.data(l,g)};b[h]=b[h]||{};b[h][g]=function(l,m){if(arguments.length){this._createWidget(l,m)}};var j=new i();j.options=b.extend(true,{},j.options);b[h][g].prototype=b.extend(true,j,{namespace:h,widgetName:g,widgetEventPrefix:b[h][g].prototype.widgetEventPrefix||g,widgetBaseClass:k},f);b.widget.bridge(g,b[h][g])};b.widget.bridge=function(g,f){b.fn[g]=function(j){var h=typeof j==="string",i=Array.prototype.slice.call(arguments,1),k=this;j=!h&&i.length?b.extend.apply(null,[true,j].concat(i)):j;if(h&&j.substring(0,1)==="_"){return k}if(h){this.each(function(){var l=b.data(this,g);if(!l){throw"cannot call methods on "+g+" prior to initialization; attempted to call method '"+j+"'"}if(!b.isFunction(l[j])){throw"no such method '"+j+"' for "+g+" widget instance"}var m=l[j].apply(l,i);if(m!==l&&m!==e){k=m;return false}})}else{this.each(function(){var l=b.data(this,g);if(l){l.option(j||{})._init()}else{b.data(this,g,new f(j,this))}})}return k}};b.Widget=function(f,g){if(arguments.length){this._createWidget(f,g)}};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(g,h){b.data(h,this.widgetName,this);this.element=b(h);this.options=b.extend(true,{},this.options,b.metadata&&b.metadata.get(h)[this.widgetName],g);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(h,i){var g=h,f=this;if(arguments.length===0){return b.extend({},f.options)}if(typeof h==="string"){if(i===e){return this.options[h]}g={};g[h]=i}b.each(g,function(j,k){f._setOption(j,k)});return f},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget()[g?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",g)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(g,h,j){var l=this.options[g];h=b.Event(h);h.type=(g===this.widgetEventPrefix?g:this.widgetEventPrefix+g).toLowerCase();j=j||{};if(h.originalEvent){for(var f=b.event.props.length,k;f;){k=b.event.props[--f];h[k]=h.originalEvent[k]}}this.element.trigger(h,j);return !(b.isFunction(l)&&l.call(this.element[0],h,j)===false||h.isDefaultPrevented())}}})(jQuery);(function(g,h){g.ui=g.ui||{};var e=/left|center|right/,f=/top|center|bottom/,a="center",b=g.fn.position,c=g.fn.offset;g.fn.position=function(j){if(!j||!j.of){return b.apply(this,arguments)}j=g.extend({},j);var n=g(j.of),m=n[0],p=(j.collision||"flip").split(" "),o=j.offset?j.offset.split(" "):[0,0],l,i,k;if(m.nodeType===9){l=n.width();i=n.height();k={top:0,left:0}}else{if(m.scrollTo&&m.document){l=n.width();i=n.height();k={top:n.scrollTop(),left:n.scrollLeft()}}else{if(m.preventDefault){j.at="left top";l=i=0;k={top:j.of.pageY,left:j.of.pageX}}else{l=n.outerWidth();i=n.outerHeight();k=n.offset()}}}g.each(["my","at"],function(){var q=(j[this]||"").split(" ");if(q.length===1){q=e.test(q[0])?q.concat([a]):f.test(q[0])?[a].concat(q):[a,a]}q[0]=e.test(q[0])?q[0]:a;q[1]=f.test(q[1])?q[1]:a;j[this]=q});if(p.length===1){p[1]=p[0]}o[0]=parseInt(o[0],10)||0;if(o.length===1){o[1]=o[0]}o[1]=parseInt(o[1],10)||0;if(j.at[0]==="right"){k.left+=l}else{if(j.at[0]===a){k.left+=l/2}}if(j.at[1]==="bottom"){k.top+=i}else{if(j.at[1]===a){k.top+=i/2}}k.left+=o[0];k.top+=o[1];return this.each(function(){var u=g(this),w=u.outerWidth(),t=u.outerHeight(),v=parseInt(g.curCSS(this,"marginLeft",true))||0,s=parseInt(g.curCSS(this,"marginTop",true))||0,y=w+v+parseInt(g.curCSS(this,"marginRight",true))||0,z=t+s+parseInt(g.curCSS(this,"marginBottom",true))||0,x=g.extend({},k),q;if(j.my[0]==="right"){x.left-=w}else{if(j.my[0]===a){x.left-=w/2}}if(j.my[1]==="bottom"){x.top-=t}else{if(j.my[1]===a){x.top-=t/2}}x.left=parseInt(x.left);x.top=parseInt(x.top);q={left:x.left-v,top:x.top-s};g.each(["left","top"],function(B,A){if(g.ui.position[p[B]]){g.ui.position[p[B]][A](x,{targetWidth:l,targetHeight:i,elemWidth:w,elemHeight:t,collisionPosition:q,collisionWidth:y,collisionHeight:z,offset:o,my:j.my,at:j.at})}});if(g.fn.bgiframe){u.bgiframe()}u.offset(g.extend(x,{using:j.using}))})};g.ui.position={fit:{left:function(i,j){var l=g(window),k=j.collisionPosition.left+j.collisionWidth-l.width()-l.scrollLeft();i.left=k>0?i.left-k:Math.max(i.left-j.collisionPosition.left,i.left)},top:function(i,j){var l=g(window),k=j.collisionPosition.top+j.collisionHeight-l.height()-l.scrollTop();i.top=k>0?i.top-k:Math.max(i.top-j.collisionPosition.top,i.top)}},flip:{left:function(j,l){if(l.at[0]===a){return}var n=g(window),m=l.collisionPosition.left+l.collisionWidth-n.width()-n.scrollLeft(),i=l.my[0]==="left"?-l.elemWidth:l.my[0]==="right"?l.elemWidth:0,k=l.at[0]==="left"?l.targetWidth:-l.targetWidth,o=-2*l.offset[0];j.left+=l.collisionPosition.left<0?i+k+o:m>0?i+k+o:0},top:function(j,l){if(l.at[1]===a){return}var n=g(window),m=l.collisionPosition.top+l.collisionHeight-n.height()-n.scrollTop(),i=l.my[1]==="top"?-l.elemHeight:l.my[1]==="bottom"?l.elemHeight:0,k=l.at[1]==="top"?l.targetHeight:-l.targetHeight,o=-2*l.offset[1];j.top+=l.collisionPosition.top<0?i+k+o:m>0?i+k+o:0}}};if(!g.offset.setOffset){g.offset.setOffset=function(m,j){if(/static/.test(g.curCSS(m,"position"))){m.style.position="relative"}var l=g(m),o=l.offset(),i=parseInt(g.curCSS(m,"top",true),10)||0,n=parseInt(g.curCSS(m,"left",true),10)||0,k={top:(j.top-o.top)+i,left:(j.left-o.left)+n};if("using" in j){j.using.call(m,k)}else{l.css(k)}};g.fn.offset=function(i){var j=this[0];if(!j||!j.ownerDocument){return null}if(i){return this.each(function(){g.offset.setOffset(this,i)})}return c.call(this)}}}(jQuery));(function(a,b){a.widget("ui.autocomplete",{styling:{},default_styling:{color:"white",suggestAreaColor:"white",suggestAreaHover:"#dadada",magnifier_img:false,loading_img:false},options:{appendTo:"body",delay:300,minLength:1,position:{my:"right top",at:"right bottom",collision:"none",offset:"0 0"},source:null,styling:null,doServerFilter:false},_create:function(){var e=this,h=this.element[0].ownerDocument;a.extend(true,this.styling,this.default_styling,this.options.styling);var f={position:"absolute",cursor:"default",background:this.styling.suggestAreaColor};var g=this.element.css("backgroundColor");if(!g){g="transparent"}var c={background:" url("+this.styling.magnifier_img+") right center no-repeat "+g};if(this.styling.magnifier_img){this.element.css(c)}this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(i){if(e.options.disabled){return}var j=a.ui.keyCode;switch(i.keyCode){case j.PAGE_UP:e._move("previousPage",i);break;case j.PAGE_DOWN:e._move("nextPage",i);break;case j.UP:e._move("previous",i);i.preventDefault();break;case j.DOWN:e._move("next",i);i.preventDefault();break;case j.ENTER:case j.NUMPAD_ENTER:if(e.menu.element.is(":visible")){i.preventDefault()}case j.TAB:if(!e.menu.active){return}e.menu.select(i);break;case j.ESCAPE:if(e.isSuggestBoxVisible){e.element.val(e.term)}break;default:clearTimeout(e.searching);e.searching=setTimeout(function(){if(e.term!=e.element.val()){e.selectedItem=null;if(!e.options.doServerFilter){e.search(null,i)}}},e.options.delay);break}}).bind("focus.autocomplete",function(){if(e.options.disabled){return}e.selectedItem=null;e.previous=e.element.val()}).bind("blur.autocomplete",function(i){if(e.options.disabled){return}clearTimeout(e.searching);e.closing=setTimeout(function(){e.close(i);e._change(i)},150)});this._initSource();this.response=function(){return e._response.apply(e,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").css(f).appendTo(a(this.options.appendTo||"body",h)[0]).mousedown(function(i){var j=e.menu.element[0];if(i.target===j){setTimeout(function(){a(document).one("mousedown",function(k){if(k.target!==e.element[0]&&k.target!==j&&!a.ui.contains(j,k.target)){e.close()}})},1)}setTimeout(function(){clearTimeout(e.closing)},13)}).menu({focus:function(j,k){var i=k.item.data("item.autocomplete");if(false!==e._trigger("focus",null,{item:i})){if(/^key/.test(j.originalEvent.type)){e.element.val(i.value)}}},selected:function(k,l){var j=l.item.data("item.autocomplete"),i=e.previous;if(e.element[0]!==h.activeElement){e.element.focus();e.previous=i}if(false!==e._trigger("select",k,{item:j})){e.term=j.value;e.element.val(j.value)}e.close(k);e.selectedItem=j},blur:function(i,j){if(e.menu.element.is(":visible")&&(e.element.val()!==e.term)){e.element.val(e.term)}}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");this.menu.styleMe(this.options.styling);if(a.fn.bgiframe){this.menu.element.bgiframe()}},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(c,e){a.Widget.prototype._setOption.apply(this,arguments);if(c==="source"){this._initSource()}if(c==="appendTo"){this.menu.element.appendTo(a(e||"body",this.element[0].ownerDocument)[0])}},setLoadingAnimation:function(f){var e=this.element.css("backgroundColor");if(!e){e="transparent"}if(f&&this.styling.loading_img){var c={background:" url("+this.styling.loading_img+") right center no-repeat "+e};this.element.css(c)}else{if(!f&&this.styling.magnifier_img){var c={background:" url("+this.styling.magnifier_img+") right center no-repeat "+e};this.element.css(c)}}},_initSource:function(){var c=this,f,e;if(a.isArray(this.options.source)){f=this.options.source;this.source=function(h,g){g(a.ui.autocomplete.filter(f,h.term))}}else{if(typeof this.options.source==="string"){e=this.options.source;this.source=function(h,g){if(c.xhr){c.xhr.abort()}c.xhr=a.getJSON(e,h,function(j,i,k){if(k===c.xhr){g(j)}c.xhr=null})}}else{this.source=this.options.source}}},search:function(e,c){e=e!=null?e:this.element.val();this.term=this.element.val();if(e.length<this.options.minLength){return this.close(c)}clearTimeout(this.closing);if(this._trigger("search")===false){return}return this._search(e)},_search:function(c){this.element.addClass("ui-autocomplete-loading");this.source({term:c},this.response)},_response:function(c){if(c.length){c=this._normalize(c);this._suggest(c);this._trigger("open")}else{this.close()}this.element.removeClass("ui-autocomplete-loading")},close:function(c){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this._trigger("close",c);this.menu.element.hide();this.menu.deactivate()}},_change:function(c){if(this.previous!==this.element.val()){this._trigger("change",c,{item:this.selectedItem})}},_normalize:function(c){if(c.length&&c[0].label&&c[0].value){return c}return a.map(c,function(e){if(typeof e==="string"){return{label:e,value:e}}return a.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(c){var e=this.menu.element.empty().zIndex(this.element.zIndex()+1),f,g;this._renderMenu(e,c);this.menu.deactivate();this.menu.refresh();this.menu.element.show().position(a.extend({of:this.element},this.options.position));f=e.width("").outerWidth();g=this.element.outerWidth()},repos:function(){this.menu.element.show().position(a.extend({of:this.element},this.options.position))},isSuggestBoxVisible:function(){return this.menu.element.is(":visible")},_renderMenu:function(f,e){var c=this;a.each(e,function(g,h){c._renderItem(f,h)})},_renderItem:function(c,e){return a("<li></li>").data("item.autocomplete",e).append(a("<a></a>").text(e.label)).appendTo(c)},_move:function(e,c){if(!this.menu.element.is(":visible")){this.search(null,c);return}if(this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)){this.element.val(this.term);this.menu.deactivate();return}this.menu[e](c)},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(f,c){var e=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(f,function(g){return e.test(g.label||g.value||g)})}})}(jQuery));(function(a){a.widget("ui.menu",{styling:{},default_styling:{suggestAreaHover:"#dadada"},_create:function(){var b=0.9;var g={"list-style":"none",padding:"2px",margin:0,display:"block","float":"left",opacity:b,"-moz-opacity":b,filter:"alpha(opacity="+b*100+")"};var e={"font-family":"Verdana,Arial,sans-serif","font-size":"1.1em"};var h={border:"1px solid #aaaaaa"};var f={"-moz-border-radius":"4px","-webkit-border-radius":"4px","border-radius":"4px","-moz-box-shadow":"2px 2px 1px #000","-webkit-box-shadow":"2px 2px 1px #000","box-shadow":"2px 2px 1px #000"};var c=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").css(g).css(e).css(h).css(f).attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){if(!a(i.target).closest(".ui-menu-item a").length){return}i.preventDefault();c.select(i)});this.refresh()},refresh:function(){var e=this;var f={margin:0,padding:0,zoom:1,"float":"left",clear:"left",width:"100%"};var g={"-moz-border-radius":"4px","-webkit-border-radius":"4px","border-radius":"4px"};var b={"text-decoration":"none",display:"block",padding:".2em .4em","line-height":1.5,zoom:1};var c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").css(f).attr("role","menuitem");c.children("a").addClass("ui-corner-all").css(g).css(b).attr("tabindex",-1).mouseenter(function(h){e.activate(h,a(this).parent())}).mouseleave(function(){e.deactivate()})},styleMe:function(b){a.extend(true,this.styling,this.default_styling,b)},activate:function(g,f){var c={margin:"-1px",border:"1px solid #999999",background:this.styling.suggestAreaHover};this.deactivate();if(this.hasScroll()){var h=f.offset().top-this.element.offset().top,b=this.element.attr("scrollTop"),e=this.element.height();if(h<0){this.element.attr("scrollTop",b+h)}else{if(h>=e){this.element.attr("scrollTop",b+h-e+f.height())}}}this.active=f.eq(0).children("a").addClass("ui-state-hover").css(c).attr("id","ui-active-menuitem").end();this._trigger("focus",g,{item:f})},deactivate:function(){var b={margin:"0px",border:"none",background:"transparent"};if(!this.active){return}this.active.children("a").removeClass("ui-state-hover").css(b).removeAttr("id");this._trigger("blur");this.active=null},next:function(b){this.move("next",".ui-menu-item:first",b)},previous:function(b){this.move("prev",".ui-menu-item:last",b)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(f,e,c){if(!this.active){this.activate(c,this.element.children(e));return}var b=this.active[f+"All"](".ui-menu-item").eq(0);if(b.length){this.activate(c,b)}else{this.activate(c,this.element.children(e))}},nextPage:function(e){if(this.hasScroll()){if(!this.active||this.last()){this.activate(e,this.element.children(":first"));return}var f=this.active.offset().top,c=this.element.height(),b=this.element.children("li").filter(function(){var g=a(this).offset().top-f-c+a(this).height();return g<10&&g>-10});if(!b.length){b=this.element.children(":last")}this.activate(e,b)}else{this.activate(e,this.element.children(!this.active||this.last()?":first":":last"))}},previousPage:function(c){if(this.hasScroll()){if(!this.active||this.first()){this.activate(c,this.element.children(":last"));return}var e=this.active.offset().top,b=this.element.height();result=this.element.children("li").filter(function(){var f=a(this).offset().top-e+b-a(this).height();return f<10&&f>-10});if(!result.length){result=this.element.children(":first")}this.activate(c,result)}else{this.activate(c,this.element.children(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(b){this._trigger("selected",b,{item:this.active})}})}(jQuery));(function(a){a.addPicker=function(j,k){if(j.picker){return false}k=a.extend({flat:false,starts:1,prev:"&lt;",next:"&gt;",mode:"single",view:"days",calendars:1,format:"Y-m-d",position:"bottom",owner:false,onRender:function(){return{}},onChange:false,onShow:false,onBeforeShow:false,onHide:false,hideOnSelect:true,locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekMin:"wk"}},k);var i={current:null,date:null,lastSel:null,calendars:null,mode:null,gDiv:null,lastSelTime:new Date().valueOf(),templateCache:null,views:null,template:null,processing:false,fill:function(){var t=a(this.gDiv);var m=Math.floor(k.calendars/2);var D,u,E,A=0,x,o,n,p,s,v;t.find("td>table tbody").remove();for(var B=0;B<k.calendars;B++){D=new Date(this.current);this.addMonths(D,-m+B);v=t.find("table").eq(B+1);switch(v[0].className){case"datepickerViewDays":u=this.formatDate(D,"B, yyyy");break;case"datepickerViewMonths":u=D.getFullYear();break;case"datepickerViewYears":u=(D.getFullYear()-6)+" - "+(D.getFullYear()+5);break}v.find("thead tr:first th:eq(1) span").text(u);u=D.getFullYear()-6;var C={data:[],className:"datepickerYears"};for(var z=0;z<12;z++){C.data.push(u+z)}s=this.tmpl(this.template.months.join(""),C);D.setDate(1);var G={weeks:[],test:10};E=D.getMonth();u=(D.getDay()-k.starts)%7;this.addDays(D,-(u+(u<0?7:0)));x=-1;A=0;while(A<42){n=parseInt(A/7,10);p=A%7;if(!G.weeks[n]){x=this.getWeekNumber(D);var y={week:x,days:[]};G.weeks[n]=y}var l={text:D.getDate(),classname:[]};G.weeks[n].days[p]=l;if(E!=D.getMonth()){G.weeks[n].days[p].classname.push("datepickerNotInMonth")}if(D.getDay()===0){G.weeks[n].days[p].classname.push("datepickerSunday")}if(D.getDay()===6){G.weeks[n].days[p].classname.push("datepickerSaturday")}var w=k.onRender(D);var F=D.valueOf();if(w.selected||this.date===F||a.inArray(F,this.date)>-1||(k.mode==="range"&&this.date[0]&&F>=this.date[0]&&F<=this.date[1])){G.weeks[n].days[p].classname.push("datepickerSelected")}if(w.disabled){G.weeks[n].days[p].classname.push("datepickerDisabled")}if(w.className){G.weeks[n].days[p].classname.push(w.className)}G.weeks[n].days[p].classname=G.weeks[n].days[p].classname.join(" ");A++;this.addDays(D,1)}s=this.tmpl(this.template.days.join(""),G)+s;var q={data:k.locale.monthsShort,className:"datepickerMonths"};s=this.tmpl(this.template.months.join(""),q)+s;v.append(s)}},parseDate:function(n,w){if(n.constructor==Date){return new Date(n)}var q=n.split(/\W+/);var o=w.split(/\W+/);var u,p,v;for(var s=0;s<q.length;s++){switch(o[s]){case"d":case"dd":u=parseInt(q[s],10);break;case"M":case"MM":p=parseInt(q[s],10)-1;break;case"yyyy":case"yy":v=parseInt(q[s],10);v+=v>100?0:(v<29?2000:1900);break}}var l=new Date();var t=new Date((isNaN(v)||v<1900||v>2100)?l.getFullYear():v,(isNaN(p)||p<0||p>11)?l.getMonth():p,(isNaN(u)||u<0||u>31)?l.getDate():u,5,0,0);return isNaN(t.valueOf())?l:t},formatDate:function(o,v){var p=o.getMonth();var t=o.getDate();var u=o.getFullYear(o);var w=this.getWeekNumber(o);var l=v.match(/\W+/);var q=v.split(/\W+/),n;for(var s=0;s<q.length;s++){n=q[s];switch(q[s]){case"a":n=this.getDayName(o);break;case"A":n=this.getDayName(o,true);break;case"b":n=this.getMonthName(o);break;case"B":n=this.getMonthName(o,true);break;case"dd":n=(t<10)?("0"+t):t;break;case"d":n=t;break;case"MM":n=(p<9)?("0"+(1+p)):(1+p);break;case"M":n=p;break;case"yy":n=(""+u).substr(2,2);break;case"yyyy":n=u;break}q[s]=n}return q.join(l)},layout:function(o){var q=a(this.gDiv);if(!k.extraHeight){var n=a(o).find("div");k.extraHeight=n.get(0).offsetHeight+n.get(1).offsetHeight;k.extraWidth=n.get(2).offsetWidth+n.get(3).offsetWidth}var p=q.find("table:first").get(0);var m=p.offsetWidth;var l=p.offsetHeight;q.css({width:m+k.extraWidth+"px",height:l+k.extraHeight+"px"}).find("div.datepickerContainer").css({width:m+"px",height:l+"px"})},selectElement:function(n){this.lastSelTime=new Date();if(window.console&&window.console.log){window.console.log("DatePicker.selectElement("+n+" ), id: "+this.gDiv.id)}if(n.is("a")){if(n.hasClass("datepickerDisabled")){return false}var s=n.parent();var m=s.parent().parent().parent();var v=m.get(0);var u=a("table",this.gDiv).index(v)-1;var q=new Date(this.current);var p=false;var l=false;if(s.is("th")){if(s.hasClass("datepickerWeek")&&k.mode=="range"&&!s.next().hasClass("datepickerDisabled")){var o=parseInt(s.next().text(),10);this.addMonths(q,u-Math.floor(k.calendars/2));if(s.next().hasClass("datepickerNotInMonth")){this.addMonths(q,o>15?-1:1)}q.setDate(o);this.date[0]=(q.setHours(0,0,0,0)).valueOf();q.setHours(23,59,59,0);this.addDays(q,6);this.date[1]=q.valueOf();l=true;p=true;this.lastSel=false}else{if(s.hasClass("datepickerMonth")){this.addMonths(q,u-Math.floor(k.calendars/2));switch(v.className){case"datepickerViewDays":v.className="datepickerViewMonths";n.find("span").text(q.getFullYear());break;case"datepickerViewMonths":v.className="datepickerViewYears";n.find("span").text((q.getFullYear()-6)+" - "+(q.getFullYear()+5));break;case"datepickerViewYears":v.className="datepickerViewDays";n.find("span").text(this.formatDate(q,"B, yyyy"));break}}else{if(s.parent().parent().is("thead")){switch(v.className){case"datepickerViewDays":this.addMonths(this.current,s.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewMonths":this.addYears(this.current,s.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewYears":this.addYears(this.current,s.hasClass("datepickerGoPrev")?-12:12);break}l=true}}}}else{if(s.is("td")&&!s.hasClass("datepickerDisabled")){switch(v.className){case"datepickerViewMonths":this.current.setMonth(m.find("tbody.datepickerMonths td").index(s));this.current.setFullYear(parseInt(m.find("thead th.datepickerMonth span").text(),10));this.addMonths(this.current,Math.floor(k.calendars/2)-u);v.className="datepickerViewDays";break;case"datepickerViewYears":this.current.setFullYear(parseInt(n.text(),10));v.className="datepickerViewMonths";break;default:var t=parseInt(n.text(),10);this.addMonths(q,u-Math.floor(k.calendars/2));if(s.hasClass("datepickerNotInMonth")){this.addMonths(q,t>15?-1:1)}q.setDate(t);switch(k.mode){case"multiple":t=(q.setHours(0,0,0,0));if(a.inArray(t,this.date)>-1){a.each(this.date,function(w,x){if(x==t){this.date.splice(w,1);return false}})}else{this.date.push(t)}break;case"range":if(!this.lastSel){this.date[0]=(q.setHours(0,0,0,0)).valueOf()}t=(q.setHours(23,59,59,0)).valueOf();if(t<this.date[0]){this.date[1]=this.date[0]+86399000;this.date[0]=t-86399000}else{this.date[1]=t}this.lastSel=!this.lastSel;break;default:this.date=q.valueOf();i.processing=false;break}p=true;break}l=true}}if(l){this.fill()}if(p){if(k.onChange){k.onChange.apply(k.owner,this.prepareDate(k))}}}q=null},prepareDate:function(l){var m;if(l.mode=="single"){m=new Date(this.date);return[this.formatDate(m,l.format),m,j]}else{m=[[],[],l.el];var n=this;a.each(this.date,function(p,q){var o=new Date(q);m[0].push(n.formatDate(o,l.format));m[1].push(o)});return m}},getViewport:function(){var l=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(l?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(l?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(l?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(l?document.documentElement.clientHeight:document.body.clientHeight)}},showCalendar:function(l){var p=a(this.gDiv);if(p.is(":hidden")&&!j.readOnly){if(j.value){i.setPickerDate(j.value)}if(k.onBeforeShow){k.onBeforeShow.apply(k.owner,[this.gDiv])}var q=a(l).position();var o=q.top;var n=q.left;this.fill();var m=a.curCSS(this.gDiv,"display");p.css({visibility:"hidden",display:"block"});this.layout(this.gDiv);switch(k.position){case"top":o-=l.offsetHeight;break;case"left":n-=l.offsetWidth;break;case"right":n+=l.offsetWidth;break;case"bottom":o+=l.offsetHeight;break;case"bottom-left":o+=l.offsetHeight;n-=p.outerWidth()-l.offsetWidth;break}p.css({visibility:"visible",display:"block",top:o+"px",left:n+"px",position:"absolute"});if(k.onShow){k.onShow.apply(k.owner,[this.gDiv])}this.gDiv.style.display="block"}return false},hide:function(){if(a(this.gDiv).is(":hidden")){return}if(window.console&&window.console.log){window.console.log("DatePicker.hide()")}if(k.onHide){k.onHide.apply(k.owner)}this.gDiv.style.display="none";return true},focusPicker:function(l,m){if(window.console&&window.console.log){window.console.log("DatePicker.focusPicker("+l+" ), id: "+this.gDiv.id)}if(l){this.showCalendar(m);a(this.gDiv).focus()}else{this.hide()}},setPickerDate:function(l,n){if(l){this.current=this.parseDate(l,k.format)}else{this.current=new Date()}this.current.setHours(0,0,0,0);this.date=l;if(this.date.constructor==String){this.date=this.parseDate(this.date,k.format);this.date.setHours(0,0,0,0)}if(k.mode!="single"){if(this.date!=Array){this.date=[new Date(this.date.valueOf())];if(k.mode=="range"){this.date.push(new Date(((new Date(this.date[0])).setHours(23,59,59,0)).valueOf()))}}else{for(var m=0;m<this.date.length;m++){this.date[m]=new Date((this.parseDate(this.date[m],k.format).setHours(0,0,0,0)).valueOf())}if(k.mode=="range"){this.date[1]=new Date(((new Date(this.date[1])).setHours(23,59,59,0)).valueOf())}}}else{this.date=this.date.valueOf()}if(n){this.current=new Date(k.mode!="single"?this.date[0]:this.date)}},getPickerDate:function(l){if(this.size()>0){return this.prepareDate(k)[l?0:1]}},clearPicker:function(){if(k.mode!="single"){this.date=[];this.fill()}},tmpl:function(n,m){var l=!/\W/.test(n)?this.templateCache[n]=this.templateCache[n]||this.tmpl(document.getElementById(n).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return m?l(m):l},getHtml:function(l){var o="";for(var n=0;n<k.calendars;n++){var m=k.starts;if(n>0){o+=l.space}var p={week:k.locale.weekMin,prev:k.prev,next:k.next,day1:k.locale.daysMin[(m++)%7],day2:k.locale.daysMin[(m++)%7],day3:k.locale.daysMin[(m++)%7],day4:k.locale.daysMin[(m++)%7],day5:k.locale.daysMin[(m++)%7],day6:k.locale.daysMin[(m++)%7],day7:k.locale.daysMin[(m++)%7]};o+=this.tmpl(l.head.join(""),p)}return o},getMonthName:function(l,m){if(m){return k.locale.months[l.getMonth()]}else{return k.locale.monthsShort[l.getMonth()]}},getDayName:function(l,m){if(m){return k.locale.days[l.getDay()]}else{return k.locale.daysShort[l.getDay()]}},addDays:function(l,m){l.setDate(l.getDate()+m)},addMonths:function(m,o){var l=new Date(m);m.setDate(1);m.setMonth(m.getMonth()+o);m.setDate(Math.min(l.getDate(),this.getMaxDays(m)))},addYears:function(m,o){var l=new Date(m);m.setDate(1);m.setFullYear(m.getFullYear()+o);m.setDate(Math.min(l.getDate(),this.getMaxDays(m)))},getMaxDays:function(o){var n=new Date(Date.parse(o,10)),p=28,l;l=n.getMonth();p=28;while(n.getMonth()==l){p++;n.setDate(p)}return p-1},getFirstDay:function(m){var l=new Date(Date.parse(m,10));l.setDate(1);return l.getDay()},getWeekNumber:function(l){var m=new Date(l);m.setDate(m.getDate()-(m.getDay()+6)%7+3);var n=m.valueOf();m.setMonth(0);m.setDate(4);return Math.round((n-m.valueOf())/(604800000))+1},getDayOfYear:function(m){var l=new Date(m.getFullYear(),m.getMonth(),m.getDate(),0,0,0);var o=new Date(m.getFullYear(),0,0,0,0,0);var n=l-o;return Math.floor(n/24*60*60*1000)},init:function(l){this.calendars=Math.max(1,parseInt(l.calendars,10)||1);this.mode=/single|multiple|range/.test(l.mode)?l.mode:"single";i.setPickerDate(j.value);i.templateCache={};i.views={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"};i.template={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:["<td>",'<table cellspacing="0" cellpadding="0">',"<thead>","<tr>",'<th class="datepickerGoPrev"><a href="#"><span><%=prev%></span></a></th>','<th colspan="6" class="datepickerMonth"><a href="#"><span></span></a></th>','<th class="datepickerGoNext"><a href="#"><span><%=next%></span></a></th>',"</tr>",'<tr class="datepickerDoW">',"<th><span><%=week%></span></th>","<th><span><%=day1%></span></th>","<th><span><%=day2%></span></th>","<th><span><%=day3%></span></th>","<th><span><%=day4%></span></th>","<th><span><%=day5%></span></th>","<th><span><%=day6%></span></th>","<th><span><%=day7%></span></th>","</tr>","</thead>","</table></td>"],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">',"<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[0].week%></span></a></th>','<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[1].week%></span></a></th>','<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[2].week%></span></a></th>','<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[3].week%></span></a></th>','<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[4].week%></span></a></th>','<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[5].week%></span></a></th>','<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>',"</tr>","</tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[3]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[7]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[11]%></span></a></td>',"</tr>","</tbody>"]}}};if(window.console&&window.console.log){window.console.log("DatePicker.init()")}i.init(k);var b=a(i.template.wrapper);i.cal=b;if(!k.flat){b.appendTo(a(j).parent());a(j).mousedown(h)}function f(l){if(!i.processing&&k.hideOnSelect){i.hide();a(document).unbind("mousedown",f);a(j.cal).unbind("mousedown",e);a(j).unbind("blur",c);a(j).focus()}else{i.processing=false}}function c(m){if(!i.processing&&k.hideOnSelect){var l=new Date().valueOf()-i.lastSelTime;if(window.console&&window.console.log){window.console.log("DatePicker.hideOnBlur(). Time since last selection: "+l)}if(l>700){i.hide();a(document).unbind("mousedown",f);a(j.cal).unbind("mousedown",e);a(j).unbind("blur",c)}else{m.preventDefault();j.focus()}}else{i.processing=false}}function e(m){if(a(m.target).is("span")){m.target=m.target.parentNode}var l=(m.target||m.srcElement);i.processing=true;i.selectElement(a(l));m.preventDefault();j.focus()}function h(l){if(j.cal.is(":hidden")&&!j.readOnly){i.processing=true;i.showCalendar(j);b=b.mousedown(e);a(document).mousedown(f);a(j).blur(c)}}i.destroyPicker=function(){if(j.picker){if(window.console&&window.console.log){window.console.log("DatePicker.cleanup(), id: "+i.gDiv.id)}a(document).unbind("mousedown",f);a(j.cal).unbind("mousedown",e);a(j).unbind("mousedown",h);a(j).unbind("blur",c);a(j).removeData();j.p.prev=null;j.p.next=null;j.p.owner=null;j.p.onRender=null;j.p.onChange=null;j.p.onShow=null;j.p.onBeforeShow=null;j.p.onHide=null;j.p.locale=null;j.p=null;j.picker=null;j.cal=null;j=null;i.lastSel=null;i.current=null;a(i.gDiv).removeData();l(i.gDiv);a(i.gDiv).empty();a(i.gDiv).remove();i.templateCache=null;i.gDiv=null;i=null;a(this).removeData()}function l(q){var o=q.attributes,p,m,s;if(o){m=o.length;for(p=0;p<m;p+=1){s=o[p].name;if("function"===typeof q[s]){q[s]=null}}}o=q.childNodes;if(o){m=o.length;for(p=0;p<m;p+=1){l(q.childNodes[p])}}}};i.remoteControl=function(l){i.hide()};if(k.className){b.addClass(k.className)}var g=i.getHtml(i.template);b.find("tr:first").append(g).find("table").addClass(i.views[k.view]);i.gDiv=b.get(0);j.picker=i;j.p=k;j.cal=b;return j};a.fn.datePicker=function(b){return this.each(function(){a.addPicker(this,b)})};a.fn.pickerHide=function(){return this.each(function(){if(this.picker){this.picker.hide()}})};a.fn.pickerDestroy=function(){return this.each(function(){if(this.picker){this.picker.destroyPicker()}})};a.fn.pickerFocus=function(b){return this.each(function(){if(this.picker){this.picker.focusPicker(b)}})};a.fn.pickerRemoteControl=function(b){return this.each(function(){if(this.picker){this.picker.remoteControl(b)}})}})(jQuery);(function(a){a.addFlex=function(G,I){if(G.grid){return false}I=a.extend({height:"auto",width:"auto",striped:true,novstripe:false,minwidth:30,minheight:80,resizable:false,url:false,method:"POST",dataType:"xml",errormsg:"Connection Error",usepager:false,nowrap:true,page:1,total:1,useRp:true,rp:15,rpOptions:[10,15,20,25,40],title:false,colModel:false,pagestat:"Displaying {from} to {to} of {total} items",procmsg:"Processing, please wait ...",hidecolmsg:"Hide/Show Columns",mintablemsg:"Minimize/Maximize Table",query:"",qtype:"",nomsg:"No items",minColToggle:1,showToggleBtn:true,showPageStat:true,hideOnSubmit:true,autoload:true,blockOpacity:0.5,onToggleCol:false,onChangeSort:false,onSuccess:false,onChangePage:false,onSubmit:false,onPopulateCallback:false,onDragCol:false,onResizeCol:false,onResizeGrid:false,owner:false,debug:false,sortorder:"asc",sortModel:{columns:[]},clientsort:true,digitGroupDL:".",decimalDelimiter:",",heightOffset:100,searchitems:false},I);a(G).show().attr({cellPadding:0,cellSpacing:0,border:0}).removeAttr("width");var M={hset:{},rePosDrag:function(){if(I.debug){var t=new Date()}var s=0-this.hDiv.scrollLeft;if(this.hDiv.scrollLeft>0){s-=Math.floor(I.cgwidth/2)}a(M.cDrag).css({top:M.hDiv.offsetTop+1});var p=this.cdpad;var i=a("div",M.cDrag);i.hide();var g=a("thead tr:first th:visible",this.hDiv);for(var T=0;T<g.length;T++){var S=parseInt(a("div",g[T]).width());if(s==0){s-=Math.floor(I.cgwidth/2)}S=S+s+p;a(i[T]).css("left",S+"px").show();s=S}if(I.debug&&window.console&&window.console.log){console.log("Duration of rePosDrag :"+(new Date()-t)+"ms")}},autoColumnWidth:function(){if(I.debug){var i=new Date()}var s=0;var g=this;a("thead tr:first th:visible",this.hDiv).each(function(){var t=a("th:visible div:eq("+s+")",this.hDiv).width();a("tr",g.bDiv).each(function(){var S=a("td:visible div:eq("+s+")",this).width();if(t<S){t=S}});a("th:visible div:eq("+s+")",g.hDiv).css("width",t);a("tr",g.bDiv).each(function(){a("td:visible div:eq("+s+")",this).css("width",t)});a(g.hDiv).scrollLeft(a(g.bDiv).scrollLeft);g.rePosDrag();g.fixHeight();s++});if(I.debug&&window.console&&window.console.log){var p=new Date();console.log("Duration of autoColumnWidth :"+(p-i)+"ms")}},fixHeight:function(i){if(I.debug){var p=new Date()}i=false;if(!i){i=a(M.bDiv).height()}var t=a(this.hDiv).height();a("div",this.cDrag).each(function(){a(this).height(i+t)});a(M.block).css({height:i,marginBottom:(i*-1)});var g=M.bDiv.offsetTop+i;if(I.height!="auto"&&I.resizable){g=M.vDiv.offsetTop}a(M.rDiv).css({height:g});if(I.debug&&window.console&&window.console.log){var s=new Date();console.log("Duration of fixHeight :"+(s-p)+"ms")}},dragStart:function(t,s,p){if(t=="colresize"){a(M.nDiv).hide();a(M.nBtn).hide();var S=a("div",this.cDrag).index(p);var g=a("th:visible div:eq("+S+")",this.hDiv).width();a(p).addClass("dragging").siblings().hide();a(p).prev().addClass("dragging").show();this.colresize={startX:s.pageX,ol:parseInt(p.style.left),ow:g,n:S};a("body").css("cursor","col-resize")}else{if(t=="vresize"){var i=false;a("body").css("cursor","row-resize");if(p){i=true;a("body").css("cursor","col-resize")}this.vresize={h:I.height,sy:s.pageY,w:I.width,sx:s.pageX,hgo:i}}else{if(t=="colMove"){a(M.nDiv).hide();a(M.nBtn).hide();this.hset=a(this.hDiv).offset();this.hset.right=this.hset.left+a("table",this.hDiv).width();this.hset.bottom=this.hset.top+a("table",this.hDiv).height();this.dcol=p;this.dcoln=a("th",this.hDiv).index(p);this.colCopy=document.createElement("div");this.colCopy.className="colCopy";this.colCopy.innerHTML=p.innerHTML;if(a.browser.msie){this.colCopy.className="colCopy ie"}a(this.colCopy).css({position:"absolute","float":"left",display:"none",textAlign:p.align});a("body").append(this.colCopy);a(this.cDrag).hide()}}}a(M.gDiv).noSelect()},dragMove:function(t){if(this.colresize){var i=this.colresize.n;var W=t.pageX-this.colresize.startX;var S=this.colresize.ol+W;var s=this.colresize.ow+W;if(s>I.minwidth){a("div:eq("+i+")",this.cDrag).css("left",S);this.colresize.nw=s}}else{if(this.vresize){var X=this.vresize;var U=t.pageY;var W=U-X.sy;if(!I.defwidth){I.defwidth=I.width}if(I.width!="auto"&&!I.nohresize&&X.hgo){var V=t.pageX;var p=V-X.sx;var g=X.w+p;if(g>I.defwidth){this.gDiv.style.width=g+"px";I.width=g}}var T=X.h+W;if((T>I.minheight||I.height<I.minheight)&&!X.hgo){this.bDiv.style.height=T+"px";I.height=T;this.fixHeight(T)}X=null}else{if(this.colCopy){a(this.dcol).addClass("thMove").removeClass("thOver");if(t.pageX>this.hset.right||t.pageX<this.hset.left||t.pageY>this.hset.bottom||t.pageY<this.hset.top){a("body").css("cursor","move")}else{a("body").css("cursor","pointer")}a(this.colCopy).css({top:t.pageY+10,left:t.pageX+20,display:"block"})}}}},dragEnd:function(){if(I.debug){var t=new Date()}if(this.colresize){var U=this.colresize.n;var g=this.colresize.nw;var s=a("th:visible div:eq("+U+")",this.hDiv);s.css("width",g);a("tr",this.bDiv).each(function(){a("td:visible div:eq("+U+")",this).css("width",g)});this.hDiv.scrollLeft=this.bDiv.scrollLeft;a("div:eq("+U+")",this.cDrag).siblings().show();a(".dragging",this.cDrag).removeClass("dragging");this.rePosDrag();this.fixHeight();this.colresize=false;if(I.onResizeCol&&I.colModel){var T=I.colModel[U].name;I.onResizeCol.call(I.owner,T,g)}if(I.debug&&window.console&&window.console.log){var S=new Date();console.log("Duration of dragEnd (colresize) :"+(S-t)+"ms")}}else{if(this.vresize){this.vresize=false;if(I.onResizeGrid){I.onResizeGrid.call(I.owner,I.width,I.height)}}else{if(this.colCopy){a(this.colCopy).remove();if(this.dcolt!=null){if(this.dcoln>this.dcolt){a("th:eq("+this.dcolt+")",this.hDiv).before(this.dcol)}else{a("th:eq("+this.dcolt+")",this.hDiv).after(this.dcol)}this.switchCol(this.dcoln,this.dcolt);a(this.cdropleft).remove();a(this.cdropright).remove();this.rePosDrag();if(I.onDragCol&&I.colModel){var p=I.colModel[this.dcoln].name}var i=I.colModel[this.dcolt].name;I.onDragCol.call(I.owner,p,i)}this.dcol=null;this.hset=null;this.dcoln=null;this.dcolt=null;this.colCopy=null;a(".thMove",this.hDiv).removeClass("thMove");a(this.cDrag).show();if(I.debug&&window.console&&window.console.log){var S=new Date();console.log("Duration of dragEnd (colCopy) :"+(S-t)+"ms")}}}}a("body").css("cursor","default");a(M.gDiv).noSelect(false)},toggleCol:function(S,s){var i=a("th[axis='col"+S+"']",this.hDiv)[0];var t=a("thead th",M.hDiv).index(i);var g=a("input[value="+S+"]",M.nDiv)[0];if(s==null){s=i.hide}if(a("input:checked",M.nDiv).length<I.minColToggle&&!s){return false}if(s){i.hide=false;a(i).show();g.checked=true}else{i.hide=true;a(i).hide();g.checked=false}a("tbody tr",G).each(function(){if(s){a("td:eq("+t+")",this).show()}else{a("td:eq("+t+")",this).hide()}});this.rePosDrag();if(I.onToggleCol&&I.colModel){var p=I.colModel[S].name;I.onToggleCol.call(I.owner,p,s)}return s},switchCol:function(i,g){a("tbody tr",G).each(function(){if(i>g){a("td:eq("+g+")",this).before(a("td:eq("+i+")",this))}else{a("td:eq("+g+")",this).after(a("td:eq("+i+")",this))}});if(i>g){a("tr:eq("+g+")",this.nDiv).before(a("tr:eq("+i+")",this.nDiv))}else{a("tr:eq("+g+")",this.nDiv).after(a("tr:eq("+i+")",this.nDiv))}if(a.browser.msie&&a.browser.version<7){a("tr:eq("+g+") input",this.nDiv)[0].attr("checked",true)}this.hDiv.scrollLeft=this.bDiv.scrollLeft;if(I.debug&&window.console&&window.console.log){console.log("Triggered switchCol.")}},scroll:function(){this.hDiv.scrollLeft=this.bDiv.scrollLeft;this.rePosDrag()},addData:function(U){if(!U){M.setBusy(false);S();return false}if(I.dataType=="xml"){I.total=+a("rows total",U).text()}else{I.total=U.total}if(I.total==0){a("tr, a, td, div",G).unbind();a(G).empty();I.pages=1;I.page=1;this.buildpager();a(".pPageStat",this.pDiv).html(I.nomsg);if(I.onSuccess){I.onSuccess.call(I.owner)}M.setBusy(false);return false}I.pages=Math.ceil(I.total/I.rp);if(I.dataType=="xml"){I.page=+a("rows page",U).text()}else{I.page=U.page}var V=document.createElement("tbody");var i=a(V);if(I.height=="auto"){var g=a(M.gDiv);var t=g.offsetParent().attr("offsetHeight")-I.heightOffset;t=t>50?t:50;a(M.bDiv).css({height:t+"px"});var T=t-100;a(M.nDiv).height(T>50?T:100).width(200);if(I.debug&&window.console&&window.console.log){console.log("Finalize calculated height :"+t+" px, heightOffset: "+I.heightOffset+" px, menuHeight: "+T)}}if(I.debug){var p=new Date()}function S(){var ae=a(G);a("tr",ae).unbind();ae.empty();ae.append(i);M.rePosDrag();V=null;i=null;U=null;if(I.onSuccess){I.onSuccess.call(I.owner)}M.setBusy(false);if(M.lazyFocus){M.lazyFocus.call(this,true)}M.buildpager();if(I.debug&&window.console&&window.console.log){var ad=new Date();console.log('Duration of rendering data of type "'+I.dataType+'": '+(ad-p)+"ms")}return false}var s=a("thead tr:first th",M.hDiv);if(I.dataType=="json"){var Y=0;var ac=null;function X(){var aj=20;do{aj--;if(U&&U.rows.length>Y&&U.rows[Y]){ac=U.rows[Y];var ah=document.createElement("tr");var ag=a(ah);if(Y%2&&I.striped){ah.className="erow"}if(ac.id===null){}else{ah.id="row"+ac.id}var af=s.length;for(var ad=0;ad<af;ad++){var ae=s[ad];var ai=a(ae).data("rowDataIndex");var ak=document.createElement("td");if(ae){ak.align=ae.align}ag.append(ak);M.addCellProp(ak,ag,ac.cell[ai],ae)}i.append(ah);M.addRowProp(ag);Y++;if(aj<=0){setTimeout(X,1);return true}}else{aj=0}}while(aj>0);S();return false}setTimeout(X,1)}else{if(I.dataType=="xml"){var W=1;var aa=0;var ab=a("rows row",U);function Z(){if(aa<ab.length){var al=ab[aa];if(al){var ah=a(al);W++;var ai=document.createElement("tr");var af=a(ai);if(W%2&&I.striped){ai.className="erow"}var ad=ah.attr("id");if(ad===null){}else{ai.id="row"+ad}ad=null;var ak=a("cell",al);for(var aj=0;aj<ak.length;aj++){var ag=document.createElement("td");var ae=aj<s.length?s[aj]:null;if(ae){ag.align=ae.align}af.append(ag);M.addCellProp(ag,af,a(ak[aj]).text(),ae)}i.append(ai);ai=null;aa++;setTimeout(Z,1)}else{S()}}else{S()}}setTimeout(Z,1)}else{throw new Error('DataType "'+I.dataType+'" could not be handled.')}}},changeSort:function(g,t){if(I.debug){var p=new Date()}if(this.loading){return true}this.setBusy(true);a(M.nDiv).hide();a(M.nBtn).hide();if(!t){if(I.debug){var U=new Date()}I.sortModel.columns=[];var aa=a("div",g);a("thead tr:first th div",this.hDiv).not(aa).removeClass("sdesc").removeClass("sasc");a(g).siblings().removeClass("sorted");if(I.debug&&window.console&&window.console.log){console.log("Multiselect is false, cleaned up columns in "+(new Date()-U)+'ms. remaining column: "'+a(g).attr("abbr")+'" classes: "'+aa.attr("class")+'"')}}var Y=a("div",g);var s=a(g).hasClass("sorted");var i=new Object();var X=a(g).attr("abbr");if(s){var Z="";if(I.sortModel.columns.length>0){for(var V=0;V<I.sortModel.columns.length;V++){var S=I.sortModel.columns[V];if(S.columnId==X){S.sortOrder=(a(Y).hasClass("sasc")?"asc":"desc");i=S;break}}}else{var i=new Object({columnId:X,sortOrder:(a(Y).hasClass("sasc")?"asc":"desc")});I.sortModel.columns.push(i)}}else{if(!s){a(g).addClass("sorted");Y.addClass("s"+I.sortorder);var i=new Object({columnId:X,sortOrder:I.sortorder});I.sortModel.columns.push(i)}}if(I.onChangeSort){I.onChangeSort.call(I.owner,I.sortModel)}this.setBusy(false);if(I.debug&&window.console&&window.console.log){var W=new Date();var T=t?"yes":"no";console.log("Change sort to "+i.sortOrder+" for column "+i.columnId+":"+(W-p)+"ms (CRTL pressed: "+T+")")}},buildpager:function(){a(".pcontrol input",this.pDiv).val(I.page);a(".pcontrol span",this.pDiv).html(I.pages);var i=(I.page-1)*I.rp+1;var g=i+I.rp-1;if(I.total<g){g=I.total}var p=I.pagestat;p=p.replace(/{from}/,i);p=p.replace(/{to}/,g);p=p.replace(/{total}/,I.total);a(".pPageStat",this.pDiv).html(p)},setBusy:function(p){var g=false;if(p){if(!this.loading){this.loading=true;a(".pPageStat",this.pDiv).html(I.procmsg);a(".pReload",this.pDiv).addClass("loading");a(M.block).css({top:M.bDiv.offsetTop});if(I.hideOnSubmit){a(this.gDiv).prepend(M.block)}if(a.browser.opera){a(G).css("visibility","hidden")}g=true}}else{if(this.loading){var i=a(".pPageStat",this.pDiv);if(i.html()==I.procmsg){a(".pPageStat",this.pDiv).text("")}a(".pReload",this.pDiv).removeClass("loading");if(I.hideOnSubmit){a(M.block).remove()}M.hDiv.scrollLeft=M.bDiv.scrollLeft;if(a.browser.opera){a(G).css("visibility","visible")}this.loading=false;g=true}}return g},populate:function(){if(this.loading){return true}if(I.onSubmit){var g=I.onSubmit();if(!g){return false}}if(!I.url){return false}this.setBusy(true);if(!I.newp){I.newp=1}if(I.page>I.pages){I.page=I.pages}var s=[{name:"page",value:I.newp},{name:"rp",value:I.rp},{name:"query",value:I.query},{name:"qtype",value:I.qtype}];var i=[];for(K in s){var p=s[K];if(p&&p.name&&p.value){i.push(p)}}i=I.onPopulateCallback.call(I.owner,i);M.addData(i);if(i&&I.clientsort&&I.sortModel&&I.sortModel.columns.length>0){this.multiSort(I.sortModel,new exxcellent.model.ColumnModel(I.colModel),new exxcellent.model.TableModel(new Array(i)))}},doSearch:function(){I.query=a("input[name=q]",M.sDiv).val();I.qtype=a("select[name=qtype]",M.sDiv).val();I.newp=1;this.populate()},changePage:function(i){if(this.loading){return true}switch(i){case"first":I.newp=1;break;case"prev":if(I.page>1){I.newp=parseInt(I.page)-1}break;case"next":if(I.page<I.pages){I.newp=parseInt(I.page)+1}break;case"last":I.newp=I.pages;break;case"input":var g=parseInt(a(".pcontrol input",this.pDiv).val());if(isNaN(g)){g=1}if(g<1){g=1}else{if(g>I.pages){g=I.pages}}a(".pcontrol input",this.pDiv).val(g);I.newp=g;break}if(I.newp==I.page){return false}if(I.onChangePage){I.onChangePage.call(I.owner,I.newp)}this.populate()},addCellProp:function(g,p,i,T){var t=document.createElement("div");var s=a(t);var S=a(g);if(T!=null){if(a(T).hasClass("sorted")){S.addClass("sorted")}s.css({textAlign:T.align,width:a("div:first",T)[0].style.width});if(T.hide){S.css("display","none")}}if(!I.nowrap){s.css("white-space","normal")}if(!i||i==""){i="&nbsp;"}t.innerHTML=i;S.empty().append(t).removeAttr("width")},getCellDim:function(p){var T=parseInt(a(p).height());var g=parseInt(a(p).parent().height());var t=parseInt(p.style.width);var V=parseInt(a(p).parent().width());var S=p.offsetParent.offsetTop;var i=p.offsetParent.offsetLeft;var U=parseInt(a(p).css("paddingLeft"));var s=parseInt(a(p).css("paddingTop"));return{ht:T,wt:t,top:S,left:i,pdl:U,pdt:s,pht:g,pwt:V}},addRowProp:function(g){g.click(function(p){var i=(p.target||p.srcElement);if(i.href||i.type){return true}a(this).toggleClass("trSelected");if(I.singleSelect){g.siblings().removeClass("trSelected")}M.selectedRow=a(this);p.stopPropagation()}).mousedown(function(i){if(i.shiftKey){a(this).toggleClass("trSelected");M.multisel=true;a(M.gDiv).noSelect()}}).mouseup(function(s){s.stopPropagation();if(M.multisel){M.multisel=false;a(M.gDiv).noSelect(false)}var p=(s.target||s.srcElement);if(I.onSelectRow){var i=this.id.substr(3);I.onSelectRow.call(I.owner,i,p)}}).hover(function(){if(M.multisel){a(this).toggleClass("trSelected")}},function(){});if(a.browser.msie&&a.browser.version<7){g.hover(function(){a(this).addClass("trOver")},function(){a(this).removeClass("trOver")})}},pager:0};if(I.colModel){var v=document.createElement("thead");var O=document.createElement("tr");for(var K=0;K<I.colModel.length;K++){var w=I.colModel[K];var c=document.createElement("th");c.innerHTML=w.display;if(w.name!==null&&w.sortable){a(c).attr("abbr",w.name)}if(w.tooltip!==null){a(c).attr("title",w.tooltip)}a(c).attr("axis","col"+K);if(w.align){c.align=w.align}if(w.width){a(c).attr("width",w.width)}if(w.hide){c.hide=true}if(w.process){c.process=w.process}a(c).data("rowDataIndex",K);a(O).append(c)}a(v).append(O);a(G).prepend(v)}M.gDiv=document.createElement("div");M.mDiv=document.createElement("div");M.hDiv=document.createElement("div");M.bDiv=document.createElement("div");M.vDiv=document.createElement("div");M.rDiv=document.createElement("div");M.cDrag=document.createElement("div");M.block=document.createElement("div");M.nDiv=document.createElement("div");M.nBtn=document.createElement("div");M.iDiv=document.createElement("div");M.tDiv=document.createElement("div");M.sDiv=document.createElement("div");if(I.usepager||I.showPageStat){M.pDiv=document.createElement("div")}M.hTable=document.createElement("table");M.gDiv.className="flexigrid";if(I.width!="auto"){M.gDiv.style.width=I.width+"px"}if(a.browser.msie){a(M.gDiv).addClass("ie")}if(I.novstripe){a(M.gDiv).addClass("novstripe")}a(G).before(M.gDiv);a(M.gDiv).append(G);if(I.buttons){M.tDiv.className="tDiv";var R=document.createElement("div");R.className="tDiv2";if(I.debug&&window.console&&window.console.log){console.log("Grid has "+I.buttons.length+" custom buttons.")}for(K=0;K<I.buttons.length;K++){var D=I.buttons[K];if(!D.separator){var B=document.createElement("div");B.className="fbutton";B.innerHTML="<div><span>"+D.name+"</span></div>";if(D.bclass){a("span",B).addClass(D.bclass).css({paddingLeft:20})}B.onpress=D.onpress;B.name=D.name;if(D.onpress){a(B).click(function(){this.onpress(this.name,M.gDiv)})}a(R).append(B);if(a.browser.msie&&a.browser.version<7){a(B).hover(function(){a(this).addClass("fbOver")},function(){a(this).removeClass("fbOver")})}}else{a(R).append("<div class='btnseparator'></div>")}}a(M.tDiv).append(R);a(M.tDiv).append("<div style='clear:both'></div>");a(M.gDiv).prepend(M.tDiv)}M.hDiv.className="hDiv";a(G).before(M.hDiv);M.hTable.cellPadding=0;M.hTable.cellSpacing=0;a(M.hDiv).append('<div class="hDivBox"></div>');a("div",M.hDiv).append(M.hTable);var v=a("thead:first",G).get(0);if(v){a(M.hTable).append(v)}v=null;if(!I.colmodel){var y=0}if(I.debug&&window.console&&window.console.log){console.log("Building table header")}a("thead tr:first th",M.hDiv).each(function(){var s=document.createElement("div");var i=a(this);var g=i.attr("abbr");if(g){i.click(function(T){if(!a(this).hasClass("thOver")){return false}var S=(T.target||T.srcElement);if(S.href||S.type){return true}var t=a("div",this);if(t.hasClass("active")){t.toggleClass("sasc");t.toggleClass("sdesc")}else{t.addClass("active")}M.changeSort(this,T.ctrlKey)});if(I.sortModel&&I.sortModel.columns){for(K=0;K<I.sortModel.columns.length;K++){var p=I.sortModel.columns[K];if(g===p.columnId){i.addClass("sorted");s.className="s"+p.sortOrder}}}}if(this.hide){i.hide()}if(!I.colmodel){i.attr("axis","col"+y++)}a(s).css({textAlign:this.align,width:this.width+"px"});s.innerHTML=this.innerHTML;i.empty().append(s).removeAttr("width").mousedown(function(t){M.dragStart("colMove",t,this)}).hover(function(){if(!M.colresize&&!a(this).hasClass("thMove")&&!M.colCopy){a(this).addClass("thOver")}if(a(this).attr("abbr")){var V=a("div",this);var Y=a(this).hasClass("sorted");if(!Y&&!M.colCopy&&!M.colresize){V.addClass("s"+I.sortorder)}else{if(Y&&!M.colCopy&&!M.colresize){V.toggleClass("sasc");V.toggleClass("sdesc")}}}if(M.colCopy){var X=a("th",M.hDiv).index(this);if(X==M.dcoln){return false}if(X<M.dcoln){a(this).append(M.cdropleft)}else{a(this).append(M.cdropright)}M.dcolt=X}else{if(!M.colresize){var T=a("th:visible",M.hDiv).index(this);var W=parseInt(a("div:eq("+T+")",M.cDrag).css("left"));var S=parseInt(a(M.nBtn).width())+parseInt(a(M.nBtn).css("borderLeftWidth"));var t=W-S+Math.floor(I.cgwidth/2);a(M.nDiv).hide();a(M.nBtn).hide();a(M.nBtn).css({left:t,top:M.hDiv.offsetTop}).show();var U=parseInt(a(M.nDiv).width());a(M.nDiv).css({top:M.bDiv.offsetTop});if((t+U)>a(M.gDiv).width()){a(M.nDiv).css("left",W-U+1)}else{a(M.nDiv).css("left",t)}if(a(this).hasClass("sorted")){a(M.nBtn).addClass("srtd")}else{a(M.nBtn).removeClass("srtd")}}}},function(){a(this).removeClass("thOver");var t=a("div",this);if(!a(t).hasClass("active")){var t=a("div",this);if(!a(this).hasClass("sorted")){t.removeClass("s"+I.sortorder)}else{t.toggleClass("sasc");t.toggleClass("sdesc")}}else{a(t).removeClass("active")}if(M.colCopy){a(M.cdropleft).remove();a(M.cdropright).remove();M.dcolt=null}})});M.bDiv.className="bDiv";a(G).before(M.bDiv);a(M.bDiv).css({height:(I.height=="auto")?"50 px":I.height+"px"}).scroll(function(g){M.scroll();return true}).append(G);if(I.height=="auto"){a("table",M.bDiv).addClass("autoht")}a("tbody",M.bDiv).hide();var h=a("thead tr:first th:first",M.hDiv).get(0);if(h!=null){M.cDrag.className="cDrag";M.cdpad=0;M.cdpad+=(isNaN(parseInt(a("div",h).css("borderLeftWidth")))?0:parseInt(a("div",h).css("borderLeftWidth")));M.cdpad+=(isNaN(parseInt(a("div",h).css("borderRightWidth")))?0:parseInt(a("div",h).css("borderRightWidth")));M.cdpad+=(isNaN(parseInt(a("div",h).css("paddingLeft")))?0:parseInt(a("div",h).css("paddingLeft")));M.cdpad+=(isNaN(parseInt(a("div",h).css("paddingRight")))?0:parseInt(a("div",h).css("paddingRight")));M.cdpad+=(isNaN(parseInt(a(h).css("borderLeftWidth")))?0:parseInt(a(h).css("borderLeftWidth")));M.cdpad+=(isNaN(parseInt(a(h).css("borderRightWidth")))?0:parseInt(a(h).css("borderRightWidth")));M.cdpad+=(isNaN(parseInt(a(h).css("paddingLeft")))?0:parseInt(a(h).css("paddingLeft")));M.cdpad+=(isNaN(parseInt(a(h).css("paddingRight")))?0:parseInt(a(h).css("paddingRight")));a(M.bDiv).before(M.cDrag);var e=a(M.bDiv).height();var o=a(M.hDiv).height();a(M.cDrag).css({top:-o+"px"});a("thead tr:first th",M.hDiv).each(function(){var g=document.createElement("div");a(M.cDrag).append(g);if(!I.cgwidth){I.cgwidth=a(g).width()}a(g).css({height:e+o}).mousedown(function(i){M.dragStart("colresize",i,this)});if(a.browser.msie&&a.browser.version<7){M.fixHeight(a(M.gDiv).height());a(g).hover(function(){M.fixHeight();a(this).addClass("dragging")},function(){if(!M.colresize){a(this).removeClass("dragging")}})}})}if(I.striped){a("tbody tr:odd",M.bDiv).addClass("erow")}if(I.resizable&&I.height!="auto"){M.vDiv.className="vGrip";a(M.vDiv).mousedown(function(g){M.dragStart("vresize",g)}).html("<span></span>");a(M.bDiv).after(M.vDiv)}if(I.resizable&&I.width!="auto"&&!I.nohresize){M.rDiv.className="hGrip";a(M.rDiv).mousedown(function(g){M.dragStart("vresize",g,true)}).html("<span></span>").css("height",a(M.gDiv).height());if(a.browser.msie&&a.browser.version<7){a(M.rDiv).hover(function(){a(this).addClass("hgOver")},function(){a(this).removeClass("hgOver")})}a(M.gDiv).append(M.rDiv)}if(I.usepager||I.showPageStat){M.pDiv.className="pDiv";M.pDiv.innerHTML='<div class="pDiv2"></div>';a(M.bDiv).after(M.pDiv);if(I.usepager){var N=' <div class="pGroup"> <div class="pFirst pButton"><span></span></div><div class="pPrev pButton"><span></span></div> </div> <div class="btnseparator"></div> <div class="pGroup"><span class="pcontrol">Page <input type="text" size="4" value="1" /> of <span> 1 </span></span></div> <div class="btnseparator"></div> <div class="pGroup"> <div class="pNext pButton"><span></span></div><div class="pLast pButton"><span></span></div> </div>';a("div",M.pDiv).html(N);a(".pReload",M.pDiv).click(function(){M.populate()});a(".pFirst",M.pDiv).click(function(){M.changePage("first")});a(".pPrev",M.pDiv).click(function(){M.changePage("prev")});a(".pNext",M.pDiv).click(function(){M.changePage("next")});a(".pLast",M.pDiv).click(function(){M.changePage("last")});a(".pcontrol input",M.pDiv).keydown(function(g){if(g.keyCode==13){M.changePage("input")}});if(a.browser.msie&&a.browser.version<7){a(".pButton",M.pDiv).hover(function(){a(this).addClass("pBtnOver")},function(){a(this).removeClass("pBtnOver")})}if(I.useRp){var m="";for(var J=0;J<I.rpOptions.length;J++){if(I.rp==I.rpOptions[J]){x='selected="selected"'}else{x=""}m+="<option value='"+I.rpOptions[J]+"' "+x+" >"+I.rpOptions[J]+"&nbsp;&nbsp;</option>"}a(".pDiv2",M.pDiv).prepend("<div class='pGroup'><select name='rp'>"+m+"</select></div> <div class='btnseparator'></div>");a("select",M.pDiv).change(function(){if(I.onRpChange){I.onRpChange(+this.value)}else{I.newp=1;I.rp=+this.value;M.populate()}})}}if(I.showPageStat){var C=' <div class="btnseparator"></div> <div class="pGroup"> <div class="pReload pButton"><span></span></div> </div> <div class="btnseparator"></div> <div class="pGroup"><span class="pPageStat"></span></div>';a(".pDiv2",M.pDiv).append(C);a(".pReload",M.pDiv).click(function(){M.populate()})}if(I.searchitems){a(".pDiv2",M.pDiv).prepend("<div class='pGroup'> <div class='pSearch pButton'><span></span></div> </div>  <div class='btnseparator'></div>");a(".pSearch",M.pDiv).click(function(){a(M.sDiv).slideToggle("fast",function(){a(".sDiv:visible input:first",M.gDiv).trigger("focus")})});M.sDiv.className="sDiv";var F=I.searchitems;var z="";for(var H=0;H<F.length;H++){if(I.qtype==""&&F[H].isdefault==true){I.qtype=F[H].name;var x='selected="selected"'}else{x=""}z+="<option value='"+F[H].name+"' "+x+" >"+F[H].display+"&nbsp;&nbsp;</option>"}if(I.qtype==""){I.qtype=F[0].name}a(M.sDiv).append("<div class='sDiv2'>Quick Search <input type='text' size='30' name='q' class='qsbox' /> <select name='qtype'>"+z+"</select> <input type='button' value='Clear' /></div>");a("input[name=q],select[name=qtype]",M.sDiv).keydown(function(g){if(g.keyCode==13){M.doSearch()}});a("input[value=Clear]",M.sDiv).click(function(){a("input[name=q]",M.sDiv).val("");I.query="";M.doSearch()});a(M.bDiv).after(M.sDiv)}}a(M.pDiv,M.sDiv).append("<div style='clear:both'></div>");if(I.title){M.mDiv.className="mDiv";M.mDiv.innerHTML='<div class="ftitle">'+I.title+"</div>";a(M.gDiv).prepend(M.mDiv);if(I.showTableToggleBtn){a(M.mDiv).append('<div class="ptogtitle" title="'+I.mintablemsg+'"><span></span></div>');a("div.ptogtitle",M.mDiv).click(function(){a(M.gDiv).toggleClass("hideBody");a(this).toggleClass("vsble")})}}M.cdropleft=document.createElement("span");M.cdropleft.className="cdropleft";M.cdropright=document.createElement("span");M.cdropright.className="cdropright";M.block.className="gBlock";var l=a(M.bDiv).height();var n=M.bDiv.offsetTop;a(M.block).css({width:M.bDiv.style.width,height:l,background:"white",position:"relative",marginBottom:(l*-1),zIndex:1,top:n,left:"0px"});a(M.block).fadeTo(0,I.blockOpacity);if(a("th",M.hDiv).length){M.nDiv.className="nDiv";M.nDiv.innerHTML="<table cellpadding='0' cellspacing='0'><tbody></tbody></table>";a(M.nDiv).css({marginBottom:(l*-1),display:"none",top:n}).noSelect();var u=0;a("th div",M.hDiv).each(function(){var i=a("th[axis='col"+u+"']",M.hDiv)[0];var g='checked="checked"';if(i.style.display=="none"){g=""}a("tbody",M.nDiv).append('<tr><td class="ndcol1"><input type="checkbox" '+g+' class="togCol" value="'+u+'" /></td><td class="ndcol2">'+this.innerHTML+"</td></tr>");u++});if(a.browser.msie&&a.browser.version<7){a("tr",M.nDiv).hover(function(){a(this).addClass("ndcolover")},function(){a(this).removeClass("ndcolover")})}a("td.ndcol2",M.nDiv).click(function(){if(a("input:checked",M.nDiv).length<=I.minColToggle&&a(this).prev().find("input")[0].checked){return false}return M.toggleCol(a(this).prev().find("input").val())});a("input.togCol",M.nDiv).click(function(){if(a("input:checked",M.nDiv).length<I.minColToggle&&!this.checked){return false}a(this).parent().next().trigger("click")});a(M.gDiv).prepend(M.nDiv);a(M.nBtn).addClass("nBtn").html("<div></div>").attr("title",I.hidecolmsg).click(function(){a(M.nDiv).slideToggle("fast");return true});if(I.showToggleBtn){a(M.gDiv).prepend(M.nBtn)}}a(M.iDiv).addClass("iDiv").css({display:"none"});a(M.bDiv).append(M.iDiv);a(M.bDiv).hover(function(){a(M.nDiv).hide();a(M.nBtn).hide()},function(){if(M.multisel){M.multisel=false}});a(M.gDiv).hover(function(){},function(){a(M.nDiv).hide();a(M.nBtn).hide()});a(document).mousemove(q).mouseup(E).mouseenter(P).mouseleave(j);function q(g){M.dragMove(g)}function E(){M.dragEnd()}function P(){}function j(){M.dragEnd()}M.cleanup=function(){a(document).unbind("mousemove",q).unbind("mouseup",E).unbind("mouseenter",P).unbind("mouseleave",j);a(G.grid.gDiv).remove();I.onToggleCol=null;I.onChangeSort=null;I.preProcess=null;I.onSuccess=null;I.onChangePage=null;I.onSubmit=null;I.onPopulateCallback=null;I.onDragCol=null;I.onResizeCol=null;I.onResizeGrid=null;I=null;M=null;G.grid=null;G.p=null;G=null};M.focus=function(g){if(I.debug&&window.console&&window.console.log){console.log("FlexFocus: focus is "+g)}if(this.loading){M.lazyFocus=M.focus}else{M.lazyFocus=null;if(!a("table tbody tr").hasClass("trSelected")){M.selectedRow=a("table tbody tr:first-child",M.bDiv);if(g){M.selectedRow.addClass("trSelected")}else{a("table tbody tr").removeClass("trSelected")}}}};M.remoteControl=function(i){if(I.debug&&window.console&&window.console.log){var s=new Date();console.log("Triggered remoteControl keycode: "+i)}if(i==13){M.selectedRow.trigger("mouseup")}else{if(i==40){var p=M.selectedRow.next();if(p.is("tr")){M.selectedRow=p;M.selectedRow.toggleClass("trSelected");if(I.singleSelect){M.selectedRow.siblings().removeClass("trSelected")}var t=0;p.prevAll().each(function(){t+=a(this).height()});if(a(M.bDiv).height()/2.3<t){M.bDiv.scrollTop=M.bDiv.scrollTop+p.height()}}}else{if(i==38){var g=M.selectedRow.prev();if(g.is("tr")){M.selectedRow=g;M.selectedRow.toggleClass("trSelected");if(I.singleSelect){M.selectedRow.siblings().removeClass("trSelected")}var t=0;g.nextAll().each(function(){t+=a(this).height()});if(a(M.bDiv).height()/2.3<t){M.bDiv.scrollTop=M.bDiv.scrollTop-g.height()}}}else{if(i==39){M.bDiv.scrollLeft=M.bDiv.scrollLeft+50;M.scroll()}else{if(i==37){M.bDiv.scrollLeft=M.bDiv.scrollLeft-50;M.scroll()}}}}}if(I.debug&&window.console&&window.console.log){console.log("Processed scrolltop: "+M.bDiv.scrollTop+", cHeight: "+a(M.bDiv).height()+" in :"+(new Date()-s)+"ms")}return true};M.multiSort=function(p,S,Y){var X=p.columns;var U=new Array();for(W=0;W<X.length;W++){var Z=X[W];for(var g=0;g<S.columns.length;g++){if(S.columns[g].name==Z.columnId){U.push(new Object({index:g,order:Z.sortOrder}))}}}U.reverse();if(I.debug&&window.console&&window.console.log){console.log("Sorting columns: "+U)}var V=new Array();for(var W=0;W<Y.pages.length;W++){V=V.concat(Y.pages[W].rows)}var T=new RegExp("[\\"+I.digitGroupDL+"]","g");var i=new RegExp("[\\"+I.decimalDelimiter+"]","g");V=t(U,V);var s=Y.pages[0];s.rows=V;return Y;function t(ab,ah){if(I.debug){var ad=new Date()}for(W=0;W<ab.length;W++){var ae=ab[W].index;var ac=ab[W].order;if(I.debug&&window.console&&window.console.log){console.log("Sorting column: "+ae+", "+ac)}ah.sort(af)}if(I.debug&&window.console&&window.console.log){var ag=new Date();console.log("Duration of multiSort on "+ah.length+" rows :"+(ag-ad)+"ms")}return ah;function af(an,am){var ak=an.cell[ae];var aj=am.cell[ae];if(!ak&&!aj){return 0}else{if(!ak&&aj){return -1}else{if(ak&&!aj){return 1}}}if(aa(ak)&&aa(aj)){if(typeof ak!="number"){var ao=ak.replace(T,"")}if(typeof(ao)!="undefined"){ao=(+ao.replace(i,"."))}if(typeof aj!="number"){var al=aj.replace(T,"")}if(typeof(al)!="undefined"){al=al.replace(i,".")}if(I.debug&&window.console&&window.console.log){console.log('Tested row type = "number" '+ao+" to "+al)}var ai=ac=="asc"?ao-al:al-ao;return ai}else{if(I.debug&&window.console&&window.console.log){console.log('Tested row type = "string" '+ak+" to "+aj)}if(ak==aj){return 0}if(ac=="asc"){return(ak<aj)?-1:1}else{return(ak>aj)?-1:1}}}function aa(aj){if(typeof aj=="number"){return true}var al="\\"+I.digitGroupDL;var ai="\\"+I.decimalDelimiter;var ak="(^([-+]?[\\d"+al+ai+"]*)$)";return RegExp(ak).test(a.trim(aj))}}};M.reload=function(){M.loading=false;M.populate()};if(a.browser.msie&&a.browser.version<7){a(".hDiv,.bDiv,.mDiv,.pDiv,.vGrip,.tDiv, .sDiv",M.gDiv).css({width:"100%"});a(M.gDiv).addClass("ie6");if(I.width!="auto"){a(M.gDiv).addClass("ie6fullwidthbug")}}M.rePosDrag();M.fixHeight();G.p=I;G.grid=M;if(I.url&&I.autoload){M.populate()}else{if(I.debug){var f=new Date()}M.setBusy(true);function A(){M.setBusy(false);a("tbody",M.bDiv).show();if(I.debug&&window.console&&window.console.log){var g=new Date();console.log('Duration of rendering data of type "inlineHtml": '+(g-f)+"ms")}}var Q=a("thead tr:first th",M.hDiv);var L=a("tbody tr",M.bDiv);var b=0;function k(){if(b<L.length){var s=L[b];if(s){var p=a(s);var g=0;a("td",s).each(function(){var i=false;if(Q.length>g){i=Q[g]||false}M.addCellProp(this,s,this.innerHTML,i);g++});M.addRowProp(p);b++;setTimeout(k,1)}else{A()}}else{A()}}setTimeout(k,1)}return G};a.fn.flexigrid=function(b){return this.each(function(){a.addFlex(this,b)})};a.fn.flexReload=function(b){return this.each(function(){if(this.grid){return this.grid.reload()}})};a.fn.flexOptions=function(b){return this.each(function(){if(this.grid){a.extend(this.p,b)}})};a.fn.flexToggleCol=function(c,b){return this.each(function(){if(this.grid){this.grid.toggleCol(c,b)}})};a.fn.flexAddData=function(b){return this.each(function(){if(this.grid){this.grid.addData(b)}})};a.fn.noSelect=function(c){if(c==null){var b=true}else{b=c}if(b){return this.each(function(){if(a.browser.msie||a.browser.safari){a(this).bind("selectstart",function(){return false})}else{if(a.browser.mozilla){a(this).css("MozUserSelect","none");a("body").trigger("focus")}else{if(a.browser.opera){a(this).bind("mousedown",function(){return false})}else{a(this).attr("unselectable","on")}}}})}else{return this.each(function(){if(a.browser.msie||a.browser.safari){a(this).unbind("selectstart")}else{if(a.browser.mozilla){a(this).css("MozUserSelect","inherit")}else{if(a.browser.opera){a(this).unbind("mousedown")}else{a(this).removeAttr("unselectable","on")}}}})}};a.fn.flexDestroy=function(){return this.each(function(){if(this.grid){var b=this.p.debug;if(b){var c=new Date()}this.grid.cleanup();if(b&&window.console&&window.console.log){console.log("flexDestroy took :"+(new Date()-c)+"ms")}}})};a.fn.flexMultiSort=function(c,b,e){return this.each(function(){if(this.grid){this.grid.multiSort(c,b,e)}})};a.fn.flexFocus=function(b){return this.each(function(){if(this.grid){this.grid.focus(b)}})};a.fn.flexRemoteControl=function(b){return this.each(function(){if(this.grid){this.grid.remoteControl(b)}})}})(jQuery);(function(a){a.addNotifier=function(y,u){var o="center";var j="topright";var w="bottomright";var p="bottomleft";var z="topleft";var b="bottomcenter";var q="topcenter";var v="ntf-container";var f="ntfClose";var g={};var l={title:"",text:"",icon:false,position:o,width:300,height:false,duration:4000,sticky:false,humanized:false,hoverInterrupt:true,fade:"slow",background:"#333333",border:"white solid 2px",padding:"5px",hFont:{color:"white",sizePx:14,face:"Helvetica,Arial,sans-serif",weight:"bold"},pFont:{color:"white",sizePx:10,face:"Helvetica,Arial,sans-serif",weight:"normal"},opacity:"0.8",borderRadius:"7px",overlayed:false,msgId:"id not set",btnShow:false,btnText:"Details",onBtnClick:false};var t=a.extend(true,g,l,u);var x="cursor: pointer;float: right;font-size: 12px; font-weight: bold; margin-top: -4px; padding: 2px; text-decoration: none; text-shadow: 0 1px 1px #FFFFFF;";var h="color: "+t.hFont.color+";";var k='<a id="'+f+'" href="#" style="'+x+h+'">x</a><div style="float:left;margin:0 10px 0 0"><img src="#{icon}" alt="An icon." style="float: left;"></div><h1 style="margin: 0;padding: 0;">#{title}</h1><p>#{text}</p>';var A='<a id="'+f+'" href="#" style="'+x+h+'">x</a><h1 style="text-align: center;margin: 0;padding: 0;">#{title}</h1><p style="text-align: left;">#{text}</p>';var s={oDiv:null,container:null,mDiv:null,gDiv:null,btnDiv:null,showMsg:function(n,B){var e=n.replace(/#(?:\{|%7B)(.*?)(?:\}|%7D)/g,function(C,D){return(D in B)?B[D]:""});s.mDiv=document.createElement("div");a(s.mDiv).html(e).hide();if(t.overlayed){s.oDiv=document.createElement("div");document.body.appendChild(s.oDiv)}if(t.btnShow){s.btnDiv=document.createElement("input");s.btnDiv.type="button";s.btnDiv.value=t.btnText;s.mDiv.appendChild(s.btnDiv);if(t.onBtnClick){a(s.btnDiv).bind("click",function(){t.onBtnClick.call(this,t.msgId)})}}s.styleMsg();s.gDiv.appendChild(s.mDiv);a(s.mDiv).fadeIn(t.fade).bind("click",function(){c()});if(t.humanized){a(document).bind("mousemove",function(){c()})}if(!t.sticky){var m=setTimeout(c,t.duration);if(t.hoverInterrupt){a(s.mDiv).bind("mouseover",function(){i(m)})}}},styleMsg:function(){var n=a(s.mDiv);var m=a(s.gDiv);if(t.overlayed){m.css({"z-index":32767});a(s.oDiv).css({position:"absolute",bottom:0,right:0,top:0,left:0,display:"block","z-index":32766,opacity:"0.5",background:"#000000"})}if(t.position===o||t.position===q||t.position===b){m.css({"margin-left":-(t.width/2),position:"absolute",left:"50%"});if(t.position===o){m.css({top:"50%"});if(t.height){m.css("margin-top",-(t.height/2))}else{var e=Math.round(((t.text.length*t.pFont.sizePx)/t.width)*t.pFont.sizePx);m.css("margin-top",-(e/2))}}else{if(t.position===q){m.css({top:"7px"})}else{if(t.position===b){m.css({bottom:"7px"})}}}}else{if(t.position===j){m.css({position:"absolute","float":"right",top:"7px",right:"7px"})}else{if(t.position===z){m.css({position:"absolute","float":"left",top:"7px",left:"7px"})}else{if(t.position===w){m.css({position:"absolute","float":"right",bottom:"20px",right:"7px"})}else{if(t.position===p){m.css({position:"absolute","float":"left",bottom:"20px",left:"7px"})}}}}}n.css({overflow:"auto",background:t.background,border:t.border,padding:t.padding,opacity:t.opacity,"-moz-opacity":t.opacity,filter:"alpha(opacity="+t.opacity*100+")","border-radius":t.borderRadius,"-o-border-radius":t.borderRadius,"-moz-border-radius":t.borderRadius,"-webkit-border-radius":t.borderRadius,"-moz-box-shadow":"0 0 6px #000","-webkit-box-shadow":"0 0 6px #000","box-shadow":"0 0 6px #000",width:t.width});if(t.height){n.css("height",t.height)}if(!t.sticky){a("#"+f,s.mDiv).hide()}a("p",s.mDiv).css({color:t.pFont.color,"font-size":t.pFont.sizePx+"px","font-family":t.pFont.face,"font-weight":t.pFont.weight});a("h1",s.mDiv).css({color:t.hFont.color,"font-size":t.hFont.sizePx+"px","font-family":t.hFont.face,"font-weight":t.hFont.weight})},remove:function(){a(s.mDiv).fadeOut(t.fade,function(){a(s.mDiv).unbind("click").remove();if(!s.gDiv.hasChildNodes()){a(s.gDiv).remove()}})}};function c(){if(a(s.mDiv).is(":visible")){s.remove()}if(t.humanized){a(document).unbind("mouseover")}if(a(s.oDiv).is(":visible")){a(s.oDiv).remove()}}function i(e){clearTimeout(e);a("#"+f,s.mDiv).show()}s.container=y==window||y==document?document.body:y;s.gDiv=a("div."+v+t.position,s.container).get(0);if(!s.gDiv){s.gDiv=document.createElement("div");a(s.gDiv).addClass(v+t.position);a(s.container).append(s.gDiv)}if(t.icon){s.showMsg(k,t)}else{s.showMsg(A,t)}};a.fn.notifier=function(b){return this.each(function(){a.addNotifier(this,b)})}})(jQuery);(function(){function aJ(){if(aJ.is(arguments[0],a8)){var b=arguments[0],e=G[bC](aJ,b.splice(0,3+aJ.is(b[0],aG))),S=e.set();for(var R=0,bI=b[t];R<bI;R++){var E=b[R]||{};bq[ah](E.type)&&S[k](e[E.type]().attr(E))}return S}return G[bC](aJ,arguments)}aJ.version="1.5.2";var a=/[, ]+/,bq={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},bo=/\{(\d+)\}/g,bF="prototype",ah="hasOwnProperty",ab=document,aR=window,s={was:Object[bF][ah].call(aR,"Raphael"),is:aR.Raphael},bA=function(){this.customAttributes={}},a0,bl="appendChild",bC="apply",bx="concat",X="createTouch" in ab,aQ="",aI=" ",bD=String,J="split",T="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[J](aI),br={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},aX="join",t="length",bH=bD[bF].toLowerCase,ap=Math,m=Math.max,bj=Math.min,ar=Math.abs,bm=Math.pow,aN=Math.PI,aG="number",ag="string",a8="array",a1="toString",a5="fill",aU=Object[bF][a1],bu={},k="push",h=/^url\(['"]?([^\)]+?)['"]?\)$/i,H=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,aq={"NaN":1,"Infinity":1,"-Infinity":1},c=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,ae=Math.round,F="setAttribute",ak=parseFloat,U=parseInt,a6=" progid:DXImageTransform.Microsoft",bp=bD[bF].toUpperCase,q={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},an={along:"along",blur:aG,"clip-rect":"csv",cx:aG,cy:aG,fill:"colour","fill-opacity":aG,"font-size":aG,height:aG,opacity:aG,path:"path",r:aG,rotation:"csv",rx:aG,ry:aG,scale:"csv",stroke:"colour","stroke-opacity":aG,"stroke-width":aG,translation:"csv",width:aG,x:aG,y:aG},bt="replace",bg=/^(from|to|\d+%?)$/,be=/\s*,\s*/,n={hs:1,rg:1},bb=/,?([achlmqrstvxz]),?/gi,aS=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,aH=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,aP=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,bn=function(i,e){return i.key-e.key};aJ.type=(aR.SVGAngle||ab.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML");if(aJ.type=="VML"){var ay=ab.createElement("div"),aC;ay.innerHTML='<v:shape adj="1"/>';aC=ay.firstChild;aC.style.behavior="url(#default#VML)";if(!(aC&&typeof aC.adj=="object")){return aJ.type=null}ay=null}aJ.svg=!(aJ.vml=aJ.type=="VML");bA[bF]=aJ[bF];a0=bA[bF];aJ._id=0;aJ._oid=0;aJ.fn={};aJ.is=function(e,b){b=bH.call(b);if(b=="finite"){return !aq[ah](+e)}return(b=="null"&&e===null)||(b==typeof e&&e!==null)||(b=="object"&&e===Object(e))||(b=="array"&&Array.isArray&&Array.isArray(e))||aU.call(e).slice(8,-1).toLowerCase()==b};aJ.angle=function(R,bI,i,S,e,E){if(e==null){var b=R-i,bJ=bI-S;if(!b&&!bJ){return 0}return((b<0)*180+ap.atan(-bJ/-b)*180/aN+360)%360}else{return aJ.angle(R,bI,e,E)-aJ.angle(i,S,e,E)}};aJ.rad=function(b){return b%360*aN/180};aJ.deg=function(b){return b*180/aN%360};aJ.snapTo=function(e,R,b){b=aJ.is(b,"finite")?b:10;if(aJ.is(e,a8)){var E=e.length;while(E--){if(ar(e[E]-R)<=b){return e[E]}}}else{e=+e;var S=R%e;if(S<b){return R-S}if(S>e-b){return R-S+e}}return R};function j(){var e=[],b=0;for(;b<32;b++){e[b]=(~~(ap.random()*16))[a1](16)}e[12]=4;e[16]=((e[16]&3)|8)[a1](16);return"r-"+e[aX]("")}aJ.setWindow=function(b){aR=b;ab=aR.document};var ba=function(R){if(aJ.vml){var b=/^\s+|\s+$/g;var bI;try{var bJ=new ActiveXObject("htmlfile");bJ.write("<body>");bJ.close();bI=bJ.body}catch(bK){bI=createPopup().document.body}var E=bI.createTextRange();ba=aB(function(i){try{bI.style.color=bD(i)[bt](b,aQ);var bL=E.queryCommandValue("ForeColor");bL=((bL&255)<<16)|(bL&65280)|((bL&16711680)>>>16);return"#"+("000000"+bL[a1](16)).slice(-6)}catch(bM){return"none"}})}else{var S=ab.createElement("i");S.title="Rapha\xebl Colour Picker";S.style.display="none";ab.body[bl](S);ba=aB(function(e){S.style.color=e;return ab.defaultView.getComputedStyle(S,aQ).getPropertyValue("color")})}return ba(R)},aD=function(){return"hsb("+[this.h,this.s,this.b]+")"},N=function(){return"hsl("+[this.h,this.s,this.l]+")"},C=function(){return this.hex};aJ.hsb2rgb=function(E,i,e,R){if(aJ.is(E,"object")&&"h" in E&&"s" in E&&"b" in E){e=E.b;i=E.s;E=E.h;R=E.o}return aJ.hsl2rgb(E,i,e/2,R)};aJ.hsl2rgb=function(bJ,bQ,R,E){if(aJ.is(bJ,"object")&&"h" in bJ&&"s" in bJ&&"l" in bJ){R=bJ.l;bQ=bJ.s;bJ=bJ.h}if(bJ>1||bQ>1||R>1){bJ/=360;bQ/=100;R/=100}var bO={},bL=["r","g","b"],bK,bN,bI,e,bM,bP;if(!bQ){bO={r:R,g:R,b:R}}else{if(R<0.5){bK=R*(1+bQ)}else{bK=R+bQ-R*bQ}bN=2*R-bK;for(var S=0;S<3;S++){bI=bJ+1/3*-(S-1);bI<0&&bI++;bI>1&&bI--;if(bI*6<1){bO[bL[S]]=bN+(bK-bN)*6*bI}else{if(bI*2<1){bO[bL[S]]=bK}else{if(bI*3<2){bO[bL[S]]=bN+(bK-bN)*(2/3-bI)*6}else{bO[bL[S]]=bN}}}}}bO.r*=255;bO.g*=255;bO.b*=255;bO.hex="#"+(16777216|bO.b|(bO.g<<8)|(bO.r<<16)).toString(16).slice(1);aJ.is(E,"finite")&&(bO.opacity=E);bO.toString=C;return bO};aJ.rgb2hsb=function(b,e,bJ){if(e==null&&aJ.is(b,"object")&&"r" in b&&"g" in b&&"b" in b){bJ=b.b;e=b.g;b=b.r}if(e==null&&aJ.is(b,ag)){var bL=aJ.getRGB(b);b=bL.r;e=bL.g;bJ=bL.b}if(b>1||e>1||bJ>1){b/=255;e/=255;bJ/=255}var bI=m(b,e,bJ),i=bj(b,e,bJ),R,E,S=bI;if(i==bI){return{h:0,s:0,b:bI,toString:aD}}else{var bK=(bI-i);E=bK/bI;if(b==bI){R=(e-bJ)/bK}else{if(e==bI){R=2+((bJ-b)/bK)}else{R=4+((b-e)/bK)}}R/=6;R<0&&R++;R>1&&R--}return{h:R,s:E,b:S,toString:aD}};aJ.rgb2hsl=function(e,i,bI){if(i==null&&aJ.is(e,"object")&&"r" in e&&"g" in e&&"b" in e){bI=e.b;i=e.g;e=e.r}if(i==null&&aJ.is(e,ag)){var bM=aJ.getRGB(e);e=bM.r;i=bM.g;bI=bM.b}if(e>1||i>1||bI>1){e/=255;i/=255;bI/=255}var S=m(e,i,bI),E=bj(e,i,bI),R,bL,b=(S+E)/2,bK;if(E==S){bK={h:0,s:0,l:b}}else{var bJ=S-E;bL=b<0.5?bJ/(S+E):bJ/(2-S-E);if(e==S){R=(i-bI)/bJ}else{if(i==S){R=2+(bI-e)/bJ}else{R=4+(e-i)/bJ}}R/=6;R<0&&R++;R>1&&R--;bK={h:R,s:bL,l:b}}bK.toString=N;return bK};aJ._path2string=function(){return this.join(",")[bt](bb,"$1")};function aB(E,e,b){function i(){var R=Array.prototype.slice.call(arguments,0),bI=R.join("\u2400"),S=i.cache=i.cache||{},bJ=i.count=i.count||[];if(S[ah](bI)){return b?b(S[bI]):S[bI]}bJ[t]>=1000&&delete S[bJ.shift()];bJ.push(bI);S[bI]=E[bC](e,R);return b?b(S[bI]):S[bI]}return i}aJ.getRGB=aB(function(b){if(!b||!!((b=bD(b)).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(b=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}!(n[ah](b.toLowerCase().substring(0,2))||b.charAt()=="#")&&(b=ba(b));var R,e,i,bI,E,bK,bJ,S=b.match(H);if(S){if(S[2]){bI=U(S[2].substring(5),16);i=U(S[2].substring(3,5),16);e=U(S[2].substring(1,3),16)}if(S[3]){bI=U((bK=S[3].charAt(3))+bK,16);i=U((bK=S[3].charAt(2))+bK,16);e=U((bK=S[3].charAt(1))+bK,16)}if(S[4]){bJ=S[4][J](be);e=ak(bJ[0]);bJ[0].slice(-1)=="%"&&(e*=2.55);i=ak(bJ[1]);bJ[1].slice(-1)=="%"&&(i*=2.55);bI=ak(bJ[2]);bJ[2].slice(-1)=="%"&&(bI*=2.55);S[1].toLowerCase().slice(0,4)=="rgba"&&(E=ak(bJ[3]));bJ[3]&&bJ[3].slice(-1)=="%"&&(E/=100)}if(S[5]){bJ=S[5][J](be);e=ak(bJ[0]);bJ[0].slice(-1)=="%"&&(e*=2.55);i=ak(bJ[1]);bJ[1].slice(-1)=="%"&&(i*=2.55);bI=ak(bJ[2]);bJ[2].slice(-1)=="%"&&(bI*=2.55);(bJ[0].slice(-3)=="deg"||bJ[0].slice(-1)=="\xb0")&&(e/=360);S[1].toLowerCase().slice(0,4)=="hsba"&&(E=ak(bJ[3]));bJ[3]&&bJ[3].slice(-1)=="%"&&(E/=100);return aJ.hsb2rgb(e,i,bI,E)}if(S[6]){bJ=S[6][J](be);e=ak(bJ[0]);bJ[0].slice(-1)=="%"&&(e*=2.55);i=ak(bJ[1]);bJ[1].slice(-1)=="%"&&(i*=2.55);bI=ak(bJ[2]);bJ[2].slice(-1)=="%"&&(bI*=2.55);(bJ[0].slice(-3)=="deg"||bJ[0].slice(-1)=="\xb0")&&(e/=360);S[1].toLowerCase().slice(0,4)=="hsla"&&(E=ak(bJ[3]));bJ[3]&&bJ[3].slice(-1)=="%"&&(E/=100);return aJ.hsl2rgb(e,i,bI,E)}S={r:e,g:i,b:bI};S.hex="#"+(16777216|bI|(i<<8)|(e<<16)).toString(16).slice(1);aJ.is(E,"finite")&&(S.opacity=E);return S}return{r:-1,g:-1,b:-1,hex:"none",error:1}},aJ);aJ.getColor=function(e){var i=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||0.75},b=this.hsb2rgb(i.h,i.s,i.b);i.h+=0.075;if(i.h>1){i.h=0;i.s-=0.2;i.s<=0&&(this.getColor.start={h:0,s:1,b:i.b})}return b.hex};aJ.getColor.reset=function(){delete this.start};aJ.parsePathString=aB(function(b){if(!b){return null}var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=[];if(aJ.is(b,a8)&&aJ.is(b[0],a8)){e=aT(b)}if(!e[t]){bD(b)[bt](aS,function(R,E,bJ){var bI=[],S=bH.call(E);bJ[bt](aH,function(bL,bK){bK&&bI[k](+bK)});if(S=="m"&&bI[t]>2){e[k]([E][bx](bI.splice(0,2)));S="l";E=E=="m"?"l":"L"}while(bI[t]>=i[S]){e[k]([E][bx](bI.splice(0,i[S])));if(!i[S]){break}}})}e[a1]=aJ._path2string;return e});aJ.findDotsAtSegment=function(e,b,bW,bU,bI,R,bK,bJ,bQ){var bO=1-bQ,bN=bm(bO,3)*e+bm(bO,2)*3*bQ*bW+bO*3*bQ*bQ*bI+bm(bQ,3)*bK,bL=bm(bO,3)*b+bm(bO,2)*3*bQ*bU+bO*3*bQ*bQ*R+bm(bQ,3)*bJ,bS=e+2*bQ*(bW-e)+bQ*bQ*(bI-2*bW+e),bR=b+2*bQ*(bU-b)+bQ*bQ*(R-2*bU+b),bV=bW+2*bQ*(bI-bW)+bQ*bQ*(bK-2*bI+bW),bT=bU+2*bQ*(R-bU)+bQ*bQ*(bJ-2*R+bU),bP=(1-bQ)*e+bQ*bW,bM=(1-bQ)*b+bQ*bU,E=(1-bQ)*bI+bQ*bK,i=(1-bQ)*R+bQ*bJ,S=(90-ap.atan((bS-bV)/(bR-bT))*180/aN);(bS>bV||bR<bT)&&(S+=180);return{x:bN,y:bL,m:{x:bS,y:bR},n:{x:bV,y:bT},start:{x:bP,y:bM},end:{x:E,y:i},alpha:S}};var aj=aB(function(bN){if(!bN){return{x:0,y:0,width:0,height:0}}bN=W(bN);var bK=0,bJ=0,R=[],e=[],E;for(var S=0,bM=bN[t];S<bM;S++){E=bN[S];if(E[0]=="M"){bK=E[1];bJ=E[2];R[k](bK);e[k](bJ)}else{var bI=a7(bK,bJ,E[1],E[2],E[3],E[4],E[5],E[6]);R=R[bx](bI.min.x,bI.max.x);e=e[bx](bI.min.y,bI.max.y);bK=E[5];bJ=E[6]}}var b=bj[bC](0,R),bL=bj[bC](0,e);return{x:b,y:bL,width:m[bC](0,R)-b,height:m[bC](0,e)-bL}}),aT=function(bI){var E=[];if(!aJ.is(bI,a8)||!aJ.is(bI&&bI[0],a8)){bI=aJ.parsePathString(bI)}for(var e=0,R=bI[t];e<R;e++){E[e]=[];for(var b=0,S=bI[e][t];b<S;b++){E[e][b]=bI[e][b]}}E[a1]=aJ._path2string;return E},av=aB(function(R){if(!aJ.is(R,a8)||!aJ.is(R&&R[0],a8)){R=aJ.parsePathString(R)}var bM=[],bO=0,bN=0,bR=0,bQ=0,E=0;if(R[0][0]=="M"){bO=R[0][1];bN=R[0][2];bR=bO;bQ=bN;E++;bM[k](["M",bO,bN])}for(var bJ=E,bS=R[t];bJ<bS;bJ++){var b=bM[bJ]=[],bP=R[bJ];if(bP[0]!=bH.call(bP[0])){b[0]=bH.call(bP[0]);switch(b[0]){case"a":b[1]=bP[1];b[2]=bP[2];b[3]=bP[3];b[4]=bP[4];b[5]=bP[5];b[6]=+(bP[6]-bO).toFixed(3);b[7]=+(bP[7]-bN).toFixed(3);break;case"v":b[1]=+(bP[1]-bN).toFixed(3);break;case"m":bR=bP[1];bQ=bP[2];default:for(var bI=1,bK=bP[t];bI<bK;bI++){b[bI]=+(bP[bI]-((bI%2)?bO:bN)).toFixed(3)}}}else{b=bM[bJ]=[];if(bP[0]=="m"){bR=bP[1]+bO;bQ=bP[2]+bN}for(var S=0,e=bP[t];S<e;S++){bM[bJ][S]=bP[S]}}var bL=bM[bJ][t];switch(bM[bJ][0]){case"z":bO=bR;bN=bQ;break;case"h":bO+=+bM[bJ][bL-1];break;case"v":bN+=+bM[bJ][bL-1];break;default:bO+=+bM[bJ][bL-2];bN+=+bM[bJ][bL-1]}}bM[a1]=aJ._path2string;return bM},0,aT),z=aB(function(R){if(!aJ.is(R,a8)||!aJ.is(R&&R[0],a8)){R=aJ.parsePathString(R)}var bL=[],bN=0,bM=0,bQ=0,bP=0,E=0;if(R[0][0]=="M"){bN=+R[0][1];bM=+R[0][2];bQ=bN;bP=bM;E++;bL[0]=["M",bN,bM]}for(var bJ=E,bR=R[t];bJ<bR;bJ++){var b=bL[bJ]=[],bO=R[bJ];if(bO[0]!=bp.call(bO[0])){b[0]=bp.call(bO[0]);switch(b[0]){case"A":b[1]=bO[1];b[2]=bO[2];b[3]=bO[3];b[4]=bO[4];b[5]=bO[5];b[6]=+(bO[6]+bN);b[7]=+(bO[7]+bM);break;case"V":b[1]=+bO[1]+bM;break;case"H":b[1]=+bO[1]+bN;break;case"M":bQ=+bO[1]+bN;bP=+bO[2]+bM;default:for(var bI=1,bK=bO[t];bI<bK;bI++){b[bI]=+bO[bI]+((bI%2)?bN:bM)}}}else{for(var S=0,e=bO[t];S<e;S++){bL[bJ][S]=bO[S]}}switch(b[0]){case"Z":bN=bQ;bM=bP;break;case"H":bN=b[1];break;case"V":bM=b[1];break;case"M":bQ=bL[bJ][bL[bJ][t]-2];bP=bL[bJ][bL[bJ][t]-1];default:bN=bL[bJ][bL[bJ][t]-2];bM=bL[bJ][bL[bJ][t]-1]}}bL[a1]=aJ._path2string;return bL},null,aT),bE=function(e,E,b,i){return[e,E,b,i,b,i]},bk=function(e,E,bI,R,b,i){var S=1/3,bJ=2/3;return[S*e+bJ*bI,S*E+bJ*R,S*b+bJ*bI,S*i+bJ*R,b,i]},aa=function(bQ,cl,bZ,bX,bR,bL,R,bP,ck,bS){var bW=aN*120/180,b=aN/180*(+bR||0),b3=[],b0,ch=aB(function(cm,cp,i){var co=cm*ap.cos(i)-cp*ap.sin(i),cn=cm*ap.sin(i)+cp*ap.cos(i);return{x:co,y:cn}});if(!bS){b0=ch(bQ,cl,-b);bQ=b0.x;cl=b0.y;b0=ch(bP,ck,-b);bP=b0.x;ck=b0.y;var e=ap.cos(aN/180*bR),bN=ap.sin(aN/180*bR),b5=(bQ-bP)/2,b4=(cl-ck)/2;var cf=(b5*b5)/(bZ*bZ)+(b4*b4)/(bX*bX);if(cf>1){cf=ap.sqrt(cf);bZ=cf*bZ;bX=cf*bX}var E=bZ*bZ,b8=bX*bX,ca=(bL==R?-1:1)*ap.sqrt(ar((E*b8-E*b4*b4-b8*b5*b5)/(E*b4*b4+b8*b5*b5))),bU=ca*bZ*b4/bX+(bQ+bP)/2,bT=ca*-bX*b5/bZ+(cl+ck)/2,bK=ap.asin(((cl-bT)/bX).toFixed(9)),bJ=ap.asin(((ck-bT)/bX).toFixed(9));bK=bQ<bU?aN-bK:bK;bJ=bP<bU?aN-bJ:bJ;bK<0&&(bK=aN*2+bK);bJ<0&&(bJ=aN*2+bJ);if(R&&bK>bJ){bK=bK-aN*2}if(!R&&bJ>bK){bJ=bJ-aN*2}}else{bK=bS[0];bJ=bS[1];bU=bS[2];bT=bS[3]}var bO=bJ-bK;if(ar(bO)>bW){var bV=bJ,bY=bP,bM=ck;bJ=bK+bW*(R&&bJ>bK?1:-1);bP=bU+bZ*ap.cos(bJ);ck=bT+bX*ap.sin(bJ);b3=aa(bP,ck,bZ,bX,bR,0,R,bY,bM,[bJ,bV,bU,bT])}bO=bJ-bK;var bI=ap.cos(bK),cj=ap.sin(bK),S=ap.cos(bJ),ci=ap.sin(bJ),b6=ap.tan(bO/4),b9=4/3*bZ*b6,b7=4/3*bX*b6,cg=[bQ,cl],ce=[bQ+b9*cj,cl-b7*bI],cd=[bP+b9*ci,ck-b7*S],cb=[bP,ck];ce[0]=2*cg[0]-ce[0];ce[1]=2*cg[1]-ce[1];if(bS){return[ce,cd,cb][bx](b3)}else{b3=[ce,cd,cb][bx](b3)[aX]()[J](",");var b1=[];for(var cc=0,b2=b3[t];cc<b2;cc++){b1[cc]=cc%2?ch(b3[cc-1],b3[cc],b).y:ch(b3[cc],b3[cc+1],b).x}return b1}},ad=function(e,b,E,i,bK,bJ,bI,S,bL){var R=1-bL;return{x:bm(R,3)*e+bm(R,2)*3*bL*E+R*3*bL*bL*bK+bm(bL,3)*bI,y:bm(R,3)*b+bm(R,2)*3*bL*i+R*3*bL*bL*bJ+bm(bL,3)*S}},a7=aB(function(E,e,S,R,bS,bR,bO,bL){var bQ=(bS-2*S+E)-(bO-2*bS+S),bN=2*(S-E)-2*(bS-S),bK=E-S,bJ=(-bN+ap.sqrt(bN*bN-4*bQ*bK))/2/bQ,bI=(-bN-ap.sqrt(bN*bN-4*bQ*bK))/2/bQ,bM=[e,bL],bP=[E,bO],i;ar(bJ)>"1e12"&&(bJ=0.5);ar(bI)>"1e12"&&(bI=0.5);if(bJ>0&&bJ<1){i=ad(E,e,S,R,bS,bR,bO,bL,bJ);bP[k](i.x);bM[k](i.y)}if(bI>0&&bI<1){i=ad(E,e,S,R,bS,bR,bO,bL,bI);bP[k](i.x);bM[k](i.y)}bQ=(bR-2*R+e)-(bL-2*bR+R);bN=2*(R-e)-2*(bR-R);bK=e-R;bJ=(-bN+ap.sqrt(bN*bN-4*bQ*bK))/2/bQ;bI=(-bN-ap.sqrt(bN*bN-4*bQ*bK))/2/bQ;ar(bJ)>"1e12"&&(bJ=0.5);ar(bI)>"1e12"&&(bI=0.5);if(bJ>0&&bJ<1){i=ad(E,e,S,R,bS,bR,bO,bL,bJ);bP[k](i.x);bM[k](i.y)}if(bI>0&&bI<1){i=ad(E,e,S,R,bS,bR,bO,bL,bI);bP[k](i.x);bM[k](i.y)}return{min:{x:bj[bC](0,bP),y:bj[bC](0,bM)},max:{x:m[bC](0,bP),y:m[bC](0,bM)}}}),W=aB(function(bR,bM){var R=z(bR),bN=bM&&z(bM),bO={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},bI=function(bS,bT){var i,bU;if(!bS){return["C",bT.x,bT.y,bT.x,bT.y,bT.x,bT.y]}!(bS[0] in {T:1,Q:1})&&(bT.qx=bT.qy=null);switch(bS[0]){case"M":bT.X=bS[1];bT.Y=bS[2];break;case"A":bS=["C"][bx](aa[bC](0,[bT.x,bT.y][bx](bS.slice(1))));break;case"S":i=bT.x+(bT.x-(bT.bx||bT.x));bU=bT.y+(bT.y-(bT.by||bT.y));bS=["C",i,bU][bx](bS.slice(1));break;case"T":bT.qx=bT.x+(bT.x-(bT.qx||bT.x));bT.qy=bT.y+(bT.y-(bT.qy||bT.y));bS=["C"][bx](bk(bT.x,bT.y,bT.qx,bT.qy,bS[1],bS[2]));break;case"Q":bT.qx=bS[1];bT.qy=bS[2];bS=["C"][bx](bk(bT.x,bT.y,bS[1],bS[2],bS[3],bS[4]));break;case"L":bS=["C"][bx](bE(bT.x,bT.y,bS[1],bS[2]));break;case"H":bS=["C"][bx](bE(bT.x,bT.y,bS[1],bT.y));break;case"V":bS=["C"][bx](bE(bT.x,bT.y,bT.x,bS[1]));break;case"Z":bS=["C"][bx](bE(bT.x,bT.y,bT.X,bT.Y));break}return bS},e=function(bS,bT){if(bS[bT][t]>7){bS[bT].shift();var bU=bS[bT];while(bU[t]){bS.splice(bT++,0,["C"][bx](bU.splice(0,6)))}bS.splice(bT,1);bP=m(R[t],bN&&bN[t]||0)}},E=function(bW,bV,bT,bS,bU){if(bW&&bV&&bW[bU][0]=="M"&&bV[bU][0]!="M"){bV.splice(bU,0,["M",bS.x,bS.y]);bT.bx=0;bT.by=0;bT.x=bW[bU][1];bT.y=bW[bU][2];bP=m(R[t],bN&&bN[t]||0)}};for(var bK=0,bP=m(R[t],bN&&bN[t]||0);bK<bP;bK++){R[bK]=bI(R[bK],bO);e(R,bK);bN&&(bN[bK]=bI(bN[bK],b));bN&&e(bN,bK);E(R,bN,bO,b,bK);E(bN,R,b,bO,bK);var bJ=R[bK],bQ=bN&&bN[bK],S=bJ[t],bL=bN&&bQ[t];bO.x=bJ[S-2];bO.y=bJ[S-1];bO.bx=ak(bJ[S-4])||bO.x;bO.by=ak(bJ[S-3])||bO.y;b.bx=bN&&(ak(bQ[bL-4])||b.x);b.by=bN&&(ak(bQ[bL-3])||b.y);b.x=bN&&bQ[bL-2];b.y=bN&&bQ[bL-1]}return bN?[R,bN]:R},null,aT),x=aB(function(bL){var bK=[];for(var S=0,bM=bL[t];S<bM;S++){var b={},bJ=bL[S].match(/^([^:]*):?([\d\.]*)/);b.color=aJ.getRGB(bJ[1]);if(b.color.error){return null}b.color=b.color.hex;bJ[2]&&(b.offset=bJ[2]+"%");bK[k](b)}for(S=1,bM=bK[t]-1;S<bM;S++){if(!bK[S].offset){var e=ak(bK[S-1].offset||0),E=0;for(var R=S+1;R<bM;R++){if(bK[R].offset){E=bK[R].offset;break}}if(!E){E=100;R=bM}E=ak(E);var bI=(E-e)/(R-S+1);for(;S<R;S++){e+=bI;bK[S].offset=e+"%"}}}return bK}),aK=function(b,R,i,E){var e;if(aJ.is(b,ag)||aJ.is(b,"object")){e=aJ.is(b,ag)?ab.getElementById(b):b;if(e.tagName){if(R==null){return{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}}else{return{container:e,width:R,height:i}}}}else{return{container:1,x:b,y:R,width:i,height:E}}},bf=function(b,i){var e=this;for(var E in i){if(i[ah](E)&&!(E in b)){switch(typeof i[E]){case"function":(function(R){b[E]=b===e?R:function(){return R[bC](e,arguments)}})(i[E]);break;case"object":b[E]=b[E]||{};bf.call(this,b[E],i[E]);break;default:b[E]=i[E];break}}}},aF=function(b,e){b==e.top&&(e.top=b.prev);b==e.bottom&&(e.bottom=b.next);b.next&&(b.next.prev=b.prev);b.prev&&(b.prev.next=b.next)},am=function(b,e){if(e.top===b){return}aF(b,e);b.next=null;b.prev=e.top;e.top.next=b;e.top=b},p=function(b,e){if(e.bottom===b){return}aF(b,e);b.next=e.bottom;b.prev=null;e.bottom.prev=b;e.bottom=b},K=function(e,b,i){aF(e,i);b==i.top&&(i.top=e);b.next&&(b.next.prev=e);e.next=b.next;e.prev=b;b.next=e},aM=function(e,b,i){aF(e,i);b==i.bottom&&(i.bottom=e);b.prev&&(b.prev.next=e);e.prev=b.prev;b.prev=e;e.next=b},A=function(b){return function(){throw new Error("Rapha\xebl: you are calling to method \u201c"+b+"\u201d of removed object")}};aJ.pathToRelative=av;if(aJ.svg){a0.svgns="http://www.w3.org/2000/svg";a0.xlink="http://www.w3.org/1999/xlink";ae=function(b){return +b+(~~b===b)*0.5};var bi=function(i,b){if(b){for(var e in b){if(b[ah](e)){i[F](e,bD(b[e]))}}}else{i=ab.createElementNS(a0.svgns,i);i.style.webkitTapHighlightColor="rgba(0,0,0,0)";return i}};aJ[a1]=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var y=function(b,E){var e=bi("path");E.canvas&&E.canvas[bl](e);var i=new aV(e,E);i.type="path";ao(i,{fill:"none",stroke:"#000",path:b});return i};var g=function(R,bQ,b){var bN="linear",bK=0.5,bI=0.5,bS=R.style;bQ=bD(bQ)[bt](aP,function(bU,i,bV){bN="radial";if(i&&bV){bK=ak(i);bI=ak(bV);var bT=((bI>0.5)*2-1);bm(bK-0.5,2)+bm(bI-0.5,2)>0.25&&(bI=ap.sqrt(0.25-bm(bK-0.5,2))*bT+0.5)&&bI!=0.5&&(bI=bI.toFixed(5)-0.00001*bT)}return aQ});bQ=bQ[J](/\s*\-\s*/);if(bN=="linear"){var bJ=bQ.shift();bJ=-ak(bJ);if(isNaN(bJ)){return null}var S=[0,0,ap.cos(bJ*aN/180),ap.sin(bJ*aN/180)],bP=1/(m(ar(S[2]),ar(S[3]))||1);S[2]*=bP;S[3]*=bP;if(S[2]<0){S[0]=-S[2];S[2]=0}if(S[3]<0){S[1]=-S[3];S[3]=0}}var bM=x(bQ);if(!bM){return null}var e=R.getAttribute(a5);e=e.match(/^url\(#(.*)\)$/);e&&b.defs.removeChild(ab.getElementById(e[1]));var E=bi(bN+"Gradient");E.id=j();bi(E,bN=="radial"?{fx:bK,fy:bI}:{x1:S[0],y1:S[1],x2:S[2],y2:S[3]});b.defs[bl](E);for(var bL=0,bR=bM[t];bL<bR;bL++){var bO=bi("stop");bi(bO,{offset:bM[bL].offset?bM[bL].offset:!bL?"0%":"100%","stop-color":bM[bL].color||"#fff"});E[bl](bO)}bi(R,{fill:"url(#"+E.id+")",opacity:1,"fill-opacity":1});bS.fill=aQ;bS.opacity=1;bS.fillOpacity=1;return 1};var ac=function(e){var b=e.getBBox();bi(e.pattern,{patternTransform:aJ.format("translate({0},{1})",b.x,b.y)})};var ao=function(bP,bY){var bS={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},bU=bP.node,bQ=bP.attrs,bM=bP.rotate(),bI=function(b5,b4){b4=bS[bH.call(b4)];if(b4){var b2=b5.attrs["stroke-width"]||"1",b0={round:b2,square:b2,butt:0}[b5.attrs["stroke-linecap"]||bY["stroke-linecap"]]||0,b3=[];var b1=b4[t];while(b1--){b3[b1]=b4[b1]*b2+((b1%2)?1:-1)*b0}bi(bU,{"stroke-dasharray":b3[aX](",")})}};bY[ah]("rotation")&&(bM=bY.rotation);var bL=bD(bM)[J](a);if(!(bL.length-1)){bL=null}else{bL[1]=+bL[1];bL[2]=+bL[2]}ak(bM)&&bP.rotate(0,true);for(var bT in bY){if(bY[ah](bT)){if(!q[ah](bT)){continue}var bR=bY[bT];bQ[bT]=bR;switch(bT){case"blur":bP.blur(bR);break;case"rotation":bP.rotate(bR,true);break;case"href":case"title":case"target":var bW=bU.parentNode;if(bH.call(bW.tagName)!="a"){var R=bi("a");bW.insertBefore(R,bU);R[bl](bU);bW=R}if(bT=="target"&&bR=="blank"){bW.setAttributeNS(bP.paper.xlink,"show","new")}else{bW.setAttributeNS(bP.paper.xlink,bT,bR)}break;case"cursor":bU.style.cursor=bR;break;case"clip-rect":var e=bD(bR)[J](a);if(e[t]==4){bP.clip&&bP.clip.parentNode.parentNode.removeChild(bP.clip.parentNode);var i=bi("clipPath"),bV=bi("rect");i.id=j();bi(bV,{x:e[0],y:e[1],width:e[2],height:e[3]});i[bl](bV);bP.paper.defs[bl](i);bi(bU,{"clip-path":"url(#"+i.id+")"});bP.clip=bV}if(!bR){var bX=ab.getElementById(bU.getAttribute("clip-path")[bt](/(^url\(#|\)$)/g,aQ));bX&&bX.parentNode.removeChild(bX);bi(bU,{"clip-path":aQ});delete bP.clip}break;case"path":if(bP.type=="path"){bi(bU,{d:bR?bQ.path=z(bR):"M0,0"})}break;case"width":bU[F](bT,bR);if(bQ.fx){bT="x";bR=bQ.x}else{break}case"x":if(bQ.fx){bR=-bQ.x-(bQ.width||0)}case"rx":if(bT=="rx"&&bP.type=="rect"){break}case"cx":bL&&(bT=="x"||bT=="cx")&&(bL[1]+=bR-bQ[bT]);bU[F](bT,bR);bP.pattern&&ac(bP);break;case"height":bU[F](bT,bR);if(bQ.fy){bT="y";bR=bQ.y}else{break}case"y":if(bQ.fy){bR=-bQ.y-(bQ.height||0)}case"ry":if(bT=="ry"&&bP.type=="rect"){break}case"cy":bL&&(bT=="y"||bT=="cy")&&(bL[2]+=bR-bQ[bT]);bU[F](bT,bR);bP.pattern&&ac(bP);break;case"r":if(bP.type=="rect"){bi(bU,{rx:bR,ry:bR})}else{bU[F](bT,bR)}break;case"src":if(bP.type=="image"){bU.setAttributeNS(bP.paper.xlink,"href",bR)}break;case"stroke-width":bU.style.strokeWidth=bR;bU[F](bT,bR);if(bQ["stroke-dasharray"]){bI(bP,bQ["stroke-dasharray"])}break;case"stroke-dasharray":bI(bP,bR);break;case"translation":var bJ=bD(bR)[J](a);bJ[0]=+bJ[0]||0;bJ[1]=+bJ[1]||0;if(bL){bL[1]+=bJ[0];bL[2]+=bJ[1]}B.call(bP,bJ[0],bJ[1]);break;case"scale":bJ=bD(bR)[J](a);bP.scale(+bJ[0]||1,+bJ[1]||+bJ[0]||1,isNaN(ak(bJ[2]))?null:+bJ[2],isNaN(ak(bJ[3]))?null:+bJ[3]);break;case a5:var S=bD(bR).match(h);if(S){i=bi("pattern");var bO=bi("image");i.id=j();bi(i,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});bi(bO,{x:0,y:0});bO.setAttributeNS(bP.paper.xlink,"href",S[1]);i[bl](bO);var bZ=ab.createElement("img");bZ.style.cssText="position:absolute;left:-9999em;top-9999em";bZ.onload=function(){bi(i,{width:this.offsetWidth,height:this.offsetHeight});bi(bO,{width:this.offsetWidth,height:this.offsetHeight});ab.body.removeChild(this);bP.paper.safari()};ab.body[bl](bZ);bZ.src=S[1];bP.paper.defs[bl](i);bU.style.fill="url(#"+i.id+")";bi(bU,{fill:"url(#"+i.id+")"});bP.pattern=i;bP.pattern&&ac(bP);break}var E=aJ.getRGB(bR);if(!E.error){delete bY.gradient;delete bQ.gradient;!aJ.is(bQ.opacity,"undefined")&&aJ.is(bY.opacity,"undefined")&&bi(bU,{opacity:bQ.opacity});!aJ.is(bQ["fill-opacity"],"undefined")&&aJ.is(bY["fill-opacity"],"undefined")&&bi(bU,{"fill-opacity":bQ["fill-opacity"]})}else{if((({circle:1,ellipse:1})[ah](bP.type)||bD(bR).charAt()!="r")&&g(bU,bR,bP.paper)){bQ.gradient=bR;bQ.fill="none";break}}E[ah]("opacity")&&bi(bU,{"fill-opacity":E.opacity>1?E.opacity/100:E.opacity});case"stroke":E=aJ.getRGB(bR);bU[F](bT,E.hex);bT=="stroke"&&E[ah]("opacity")&&bi(bU,{"stroke-opacity":E.opacity>1?E.opacity/100:E.opacity});break;case"gradient":(({circle:1,ellipse:1})[ah](bP.type)||bD(bR).charAt()!="r")&&g(bU,bR,bP.paper);break;case"opacity":if(bQ.gradient&&!bQ[ah]("stroke-opacity")){bi(bU,{"stroke-opacity":bR>1?bR/100:bR})}case"fill-opacity":if(bQ.gradient){var b=ab.getElementById(bU.getAttribute(a5)[bt](/^url\(#|\)$/g,aQ));if(b){var bK=b.getElementsByTagName("stop");bK[bK[t]-1][F]("stop-opacity",bR)}break}default:bT=="font-size"&&(bR=U(bR,10)+"px");var bN=bT.replace(/(\-.)/g,function(b0){return bp.call(b0.substring(1))});bU.style[bN]=bR;bU[F](bT,bR);break}}}Q(bP,bY);if(bL){bP.rotate(bL.join(aI))}else{ak(bM)&&bP.rotate(bM,true)}};var o=1.2,Q=function(b,R){if(b.type!="text"||!(R[ah]("text")||R[ah]("font")||R[ah]("font-size")||R[ah]("x")||R[ah]("y"))){return}var bL=b.attrs,e=b.node,bN=e.firstChild?U(ab.defaultView.getComputedStyle(e.firstChild,aQ).getPropertyValue("font-size"),10):10;if(R[ah]("text")){bL.text=R.text;while(e.firstChild){e.removeChild(e.firstChild)}var E=bD(R.text)[J]("\n");for(var S=0,bM=E[t];S<bM;S++){if(E[S]){var bJ=bi("tspan");S&&bi(bJ,{dy:bN*o,x:bL.x});bJ[bl](ab.createTextNode(E[S]));e[bl](bJ)}}}else{E=e.getElementsByTagName("tspan");for(S=0,bM=E[t];S<bM;S++){S&&bi(E[S],{dy:bN*o,x:bL.x})}}bi(e,{y:bL.y});var bI=b.getBBox(),bK=bL.y-(bI.y+bI.height/2);bK&&aJ.is(bK,"finite")&&bi(e,{y:bL.y+bK})},aV=function(e,b){var E=0,i=0;this[0]=e;this.id=aJ._oid++;this.node=e;e.raphael=this;this.paper=b;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);this.prev=b.top;b.top&&(b.top.next=this);b.top=this;this.next=null};var bd=aV[bF];aV[bF].rotate=function(e,b,E){if(this.removed){return this}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][aX](aI)}return this._.rt.deg}var i=this.getBBox();e=bD(e)[J](a);if(e[t]-1){b=ak(e[1]);E=ak(e[2])}e=ak(e[0]);if(b!=null&&b!==false){this._.rt.deg=e}else{this._.rt.deg+=e}(E==null)&&(b=null);this._.rt.cx=b;this._.rt.cy=E;b=b==null?i.x+i.width/2:b;E=E==null?i.y+i.height/2:E;if(this._.rt.deg){this.transformations[0]=aJ.format("rotate({0} {1} {2})",this._.rt.deg,b,E);this.clip&&bi(this.clip,{transform:aJ.format("rotate({0} {1} {2})",-this._.rt.deg,b,E)})}else{this.transformations[0]=aQ;this.clip&&bi(this.clip,{transform:aQ})}bi(this.node,{transform:this.transformations[aX](aI)});return this};aV[bF].hide=function(){!this.removed&&(this.node.style.display="none");return this};aV[bF].show=function(){!this.removed&&(this.node.style.display="");return this};aV[bF].remove=function(){if(this.removed){return}aF(this,this.paper);this.node.parentNode.removeChild(this.node);for(var b in this){delete this[b]}this.removed=true};aV[bF].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return aj(this.attrs.path)}if(this.node.style.display=="none"){this.show();var E=true}var bJ={};try{bJ=this.node.getBBox()}catch(S){}finally{bJ=bJ||{}}if(this.type=="text"){bJ={x:bJ.x,y:Infinity,width:0,height:0};for(var b=0,R=this.node.getNumberOfChars();b<R;b++){var bI=this.node.getExtentOfChar(b);(bI.y<bJ.y)&&(bJ.y=bI.y);(bI.y+bI.height-bJ.y>bJ.height)&&(bJ.height=bI.y+bI.height-bJ.y);(bI.x+bI.width-bJ.x>bJ.width)&&(bJ.width=bI.x+bI.width-bJ.x)}}E&&this.hide();return bJ};aV[bF].attr=function(b,bL){if(this.removed){return this}if(b==null){var bK={};for(var S in this.attrs){if(this.attrs[ah](S)){bK[S]=this.attrs[S]}}this._.rt.deg&&(bK.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(bK.scale=this.scale());bK.gradient&&bK.fill=="none"&&(bK.fill=bK.gradient)&&delete bK.gradient;return bK}if(bL==null&&aJ.is(b,ag)){if(b=="translation"){return B.call(this)}if(b=="rotation"){return this.rotate()}if(b=="scale"){return this.scale()}if(b==a5&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[b]}if(bL==null&&aJ.is(b,a8)){var bN={};for(var R=0,bI=b.length;R<bI;R++){bN[b[R]]=this.attr(b[R])}return bN}if(bL!=null){var e={};e[b]=bL}else{if(b!=null&&aJ.is(b,"object")){e=b}}for(var bM in this.paper.customAttributes){if(this.paper.customAttributes[ah](bM)&&e[ah](bM)&&aJ.is(this.paper.customAttributes[bM],"function")){var bJ=this.paper.customAttributes[bM].apply(this,[][bx](e[bM]));this.attrs[bM]=e[bM];for(var E in bJ){if(bJ[ah](E)){e[E]=bJ[E]}}}}ao(this,e);return this};aV[bF].toFront=function(){if(this.removed){return this}this.node.parentNode[bl](this.node);var b=this.paper;b.top!=this&&am(this,b);return this};aV[bF].toBack=function(){if(this.removed){return this}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);p(this,this.paper);var b=this.paper}return this};aV[bF].insertAfter=function(b){if(this.removed){return this}var e=b.node||b[b.length-1].node;if(e.nextSibling){e.parentNode.insertBefore(this.node,e.nextSibling)}else{e.parentNode[bl](this.node)}K(this,b,this.paper);return this};aV[bF].insertBefore=function(b){if(this.removed){return this}var e=b.node||b[0].node;e.parentNode.insertBefore(this.node,e);aM(this,b,this.paper);return this};aV[bF].blur=function(e){var b=this;if(+e!==0){var i=bi("filter"),E=bi("feGaussianBlur");b.attrs.blur=e;i.id=j();bi(E,{stdDeviation:+e||1.5});i.appendChild(E);b.paper.defs.appendChild(i);b._blur=i;bi(b.node,{filter:"url(#"+i.id+")"})}else{if(b._blur){b._blur.parentNode.removeChild(b._blur);delete b._blur;delete b.attrs.blur}b.node.removeAttribute("filter")}};var af=function(e,b,S,R){var E=bi("circle");e.canvas&&e.canvas[bl](E);var i=new aV(E,e);i.attrs={cx:b,cy:S,r:R,fill:"none",stroke:"#000"};i.type="circle";bi(E,i.attrs);return i},bc=function(i,b,bJ,e,S,bI){var R=bi("rect");i.canvas&&i.canvas[bl](R);var E=new aV(R,i);E.attrs={x:b,y:bJ,width:e,height:S,r:bI||0,rx:bI||0,ry:bI||0,fill:"none",stroke:"#000"};E.type="rect";bi(R,E.attrs);return E},aA=function(e,b,bI,S,R){var E=bi("ellipse");e.canvas&&e.canvas[bl](E);var i=new aV(E,e);i.attrs={cx:b,cy:bI,rx:S,ry:R,fill:"none",stroke:"#000"};i.type="ellipse";bi(E,i.attrs);return i},w=function(i,bI,b,bJ,e,S){var R=bi("image");bi(R,{x:b,y:bJ,width:e,height:S,preserveAspectRatio:"none"});R.setAttributeNS(i.xlink,"href",bI);i.canvas&&i.canvas[bl](R);var E=new aV(R,i);E.attrs={x:b,y:bJ,width:e,height:S,src:bI};E.type="image";return E},al=function(e,b,S,R){var E=bi("text");bi(E,{x:b,y:S,"text-anchor":"middle"});e.canvas&&e.canvas.appendChild(E);var i=new aV(E,e);i.attrs={x:b,y:S,"text-anchor":"middle",text:R,font:q.font,stroke:"none",fill:"#000"};i.type="text";ao(i,i.attrs);return i},bB=function(e,b){this.width=e||this.width;this.height=b||this.height;this.canvas[F]("width",this.width);this.canvas[F]("height",this.height);return this},G=function(){var E=aK[bC](0,arguments),i=E&&E.container,e=E.x,bI=E.y,R=E.width,b=E.height;if(!i){throw new Error("SVG container not found.")}var S=bi("svg");e=e||0;bI=bI||0;R=R||512;b=b||342;bi(S,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:R,height:b});if(i==1){S.style.cssText="position:absolute;left:"+e+"px;top:"+bI+"px";ab.body[bl](S)}else{if(i.firstChild){i.insertBefore(S,i.firstChild)}else{i[bl](S)}}i=new bA;i.width=R;i.height=b;i.canvas=S;bf.call(i,i,aJ.fn);i.clear();return i};a0.clear=function(){var b=this.canvas;while(b.firstChild){b.removeChild(b.firstChild)}this.bottom=this.top=null;(this.desc=bi("desc"))[bl](ab.createTextNode("Created with Rapha\xebl"));b[bl](this.desc);b[bl](this.defs=bi("defs"))};a0.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]=A(b)}}}if(aJ.vml){var O={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},aO=/([clmz]),?([^clmz]*)/gi,by=/ progid:\S+Blur\([^\)]+\)/g,bG=/-?[^,\s-]+/g,aY=1000+aI+1000,v=10,u={path:1,rect:1},bh=function(bN){var bK=/[ahqstv]/ig,E=z;bD(bN).match(bK)&&(E=W);bK=/[clmz]/g;if(E==z&&!bD(bN).match(bK)){var bJ=bD(bN)[bt](aO,function(bQ,bS,bO){var bR=[],i=bH.call(bS)=="m",bP=O[bS];bO[bt](bG,function(bT){if(i&&bR[t]==2){bP+=bR+O[bS=="m"?"l":"L"];bR=[]}bR[k](ae(bT*v))});return bP+bR});return bJ}var bL=E(bN),e,b;bJ=[];for(var S=0,bM=bL[t];S<bM;S++){e=bL[S];b=bH.call(bL[S][0]);b=="z"&&(b="x");for(var R=1,bI=e[t];R<bI;R++){b+=ae(e[R]*v)+(R!=bI-1?",":aQ)}bJ[k](b)}return bJ[aX](aI)};aJ[a1]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};y=function(i,e){var S=az("group");S.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";S.coordsize=e.coordsize;S.coordorigin=e.coordorigin;var R=az("shape"),E=R.style;E.width=e.width+"px";E.height=e.height+"px";R.coordsize=aY;R.coordorigin=e.coordorigin;S[bl](R);var bI=new aV(R,S,e),b={fill:"none",stroke:"#000"};i&&(b.path=i);bI.type="path";bI.path=[];bI.Path=aQ;ao(bI,b);e.canvas[bl](S);return bI};ao=function(bL,bS){bL.attrs=bL.attrs||{};var bP=bL.node,bT=bL.attrs,bI=bP.style,E,bR=(bS.x!=bT.x||bS.y!=bT.y||bS.width!=bT.width||bS.height!=bT.height||bS.r!=bT.r)&&bL.type=="rect",bX=bL;for(var bJ in bS){if(bS[ah](bJ)){bT[bJ]=bS[bJ]}}if(bR){bT.path=au(bT.x,bT.y,bT.width,bT.height,bT.r);bL.X=bT.x;bL.Y=bT.y;bL.W=bT.width;bL.H=bT.height}bS.href&&(bP.href=bS.href);bS.title&&(bP.title=bS.title);bS.target&&(bP.target=bS.target);bS.cursor&&(bI.cursor=bS.cursor);"blur" in bS&&bL.blur(bS.blur);if(bS.path&&bL.type=="path"||bR){bP.path=bh(bT.path)}if(bS.rotation!=null){bL.rotate(bS.rotation,true)}if(bS.translation){E=bD(bS.translation)[J](a);B.call(bL,E[0],E[1]);if(bL._.rt.cx!=null){bL._.rt.cx+=+E[0];bL._.rt.cy+=+E[1];bL.setBox(bL.attrs,E[0],E[1])}}if(bS.scale){E=bD(bS.scale)[J](a);bL.scale(+E[0]||1,+E[1]||+E[0]||1,+E[2]||null,+E[3]||null)}if("clip-rect" in bS){var b=bD(bS["clip-rect"])[J](a);if(b[t]==4){b[2]=+b[2]+(+b[0]);b[3]=+b[3]+(+b[1]);var bK=bP.clipRect||ab.createElement("div"),bW=bK.style,S=bP.parentNode;bW.clip=aJ.format("rect({1}px {2}px {3}px {0}px)",b);if(!bP.clipRect){bW.position="absolute";bW.top=0;bW.left=0;bW.width=bL.paper.width+"px";bW.height=bL.paper.height+"px";S.parentNode.insertBefore(bK,S);bK[bl](S);bP.clipRect=bK}}if(!bS["clip-rect"]){bP.clipRect&&(bP.clipRect.style.clip=aQ)}}if(bL.type=="image"&&bS.src){bP.src=bS.src}if(bL.type=="image"&&bS.opacity){bP.filterOpacity=a6+".Alpha(opacity="+(bS.opacity*100)+")";bI.filter=(bP.filterMatrix||aQ)+(bP.filterOpacity||aQ)}bS.font&&(bI.font=bS.font);bS["font-family"]&&(bI.fontFamily='"'+bS["font-family"][J](",")[0][bt](/^['"]+|['"]+$/g,aQ)+'"');bS["font-size"]&&(bI.fontSize=bS["font-size"]);bS["font-weight"]&&(bI.fontWeight=bS["font-weight"]);bS["font-style"]&&(bI.fontStyle=bS["font-style"]);if(bS.opacity!=null||bS["stroke-width"]!=null||bS.fill!=null||bS.stroke!=null||bS["stroke-width"]!=null||bS["stroke-opacity"]!=null||bS["fill-opacity"]!=null||bS["stroke-dasharray"]!=null||bS["stroke-miterlimit"]!=null||bS["stroke-linejoin"]!=null||bS["stroke-linecap"]!=null){bP=bL.shape||bP;var bQ=(bP.getElementsByTagName(a5)&&bP.getElementsByTagName(a5)[0]),bU=false;!bQ&&(bU=bQ=az(a5));if("fill-opacity" in bS||"opacity" in bS){var e=((+bT["fill-opacity"]+1||2)-1)*((+bT.opacity+1||2)-1)*((+aJ.getRGB(bS.fill).o+1||2)-1);e=bj(m(e,0),1);bQ.opacity=e}bS.fill&&(bQ.on=true);if(bQ.on==null||bS.fill=="none"){bQ.on=false}if(bQ.on&&bS.fill){var i=bS.fill.match(h);if(i){bQ.src=i[1];bQ.type="tile"}else{bQ.color=aJ.getRGB(bS.fill).hex;bQ.src=aQ;bQ.type="solid";if(aJ.getRGB(bS.fill).error&&(bX.type in {circle:1,ellipse:1}||bD(bS.fill).charAt()!="r")&&g(bX,bS.fill)){bT.fill="none";bT.gradient=bS.fill}}}bU&&bP[bl](bQ);var R=(bP.getElementsByTagName("stroke")&&bP.getElementsByTagName("stroke")[0]),bV=false;!R&&(bV=R=az("stroke"));if((bS.stroke&&bS.stroke!="none")||bS["stroke-width"]||bS["stroke-opacity"]!=null||bS["stroke-dasharray"]||bS["stroke-miterlimit"]||bS["stroke-linejoin"]||bS["stroke-linecap"]){R.on=true}(bS.stroke=="none"||R.on==null||bS.stroke==0||bS["stroke-width"]==0)&&(R.on=false);var bO=aJ.getRGB(bS.stroke);R.on&&bS.stroke&&(R.color=bO.hex);e=((+bT["stroke-opacity"]+1||2)-1)*((+bT.opacity+1||2)-1)*((+bO.o+1||2)-1);var bM=(ak(bS["stroke-width"])||1)*0.75;e=bj(m(e,0),1);bS["stroke-width"]==null&&(bM=bT["stroke-width"]);bS["stroke-width"]&&(R.weight=bM);bM&&bM<1&&(e*=bM)&&(R.weight=1);R.opacity=e;bS["stroke-linejoin"]&&(R.joinstyle=bS["stroke-linejoin"]||"miter");R.miterlimit=bS["stroke-miterlimit"]||8;bS["stroke-linecap"]&&(R.endcap=bS["stroke-linecap"]=="butt"?"flat":bS["stroke-linecap"]=="square"?"square":"round");if(bS["stroke-dasharray"]){var bN={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};R.dashstyle=bN[ah](bS["stroke-dasharray"])?bN[bS["stroke-dasharray"]]:aQ}bV&&bP[bl](R)}if(bX.type=="text"){bI=bX.paper.span.style;bT.font&&(bI.font=bT.font);bT["font-family"]&&(bI.fontFamily=bT["font-family"]);bT["font-size"]&&(bI.fontSize=bT["font-size"]);bT["font-weight"]&&(bI.fontWeight=bT["font-weight"]);bT["font-style"]&&(bI.fontStyle=bT["font-style"]);bX.node.string&&(bX.paper.span.innerHTML=bD(bX.node.string)[bt](/</g,"&#60;")[bt](/&/g,"&#38;")[bt](/\n/g,"<br>"));bX.W=bT.w=bX.paper.span.offsetWidth;bX.H=bT.h=bX.paper.span.offsetHeight;bX.X=bT.x;bX.Y=bT.y+ae(bX.H/2);switch(bT["text-anchor"]){case"start":bX.node.style["v-text-align"]="left";bX.bbx=ae(bX.W/2);break;case"end":bX.node.style["v-text-align"]="right";bX.bbx=-ae(bX.W/2);break;default:bX.node.style["v-text-align"]="center";break}}};g=function(b,bJ){b.attrs=b.attrs||{};var bK=b.attrs,bM,S="linear",bI=".5 .5";b.attrs.gradient=bJ;bJ=bD(bJ)[bt](aP,function(bO,bP,i){S="radial";if(bP&&i){bP=ak(bP);i=ak(i);bm(bP-0.5,2)+bm(i-0.5,2)>0.25&&(i=ap.sqrt(0.25-bm(bP-0.5,2))*((i>0.5)*2-1)+0.5);bI=bP+aI+i}return aQ});bJ=bJ[J](/\s*\-\s*/);if(S=="linear"){var e=bJ.shift();e=-ak(e);if(isNaN(e)){return null}}var R=x(bJ);if(!R){return null}b=b.shape||b.node;bM=b.getElementsByTagName(a5)[0]||az(a5);!bM.parentNode&&b.appendChild(bM);if(R[t]){bM.on=true;bM.method="none";bM.color=R[0].color;bM.color2=R[R[t]-1].color;var bN=[];for(var E=0,bL=R[t];E<bL;E++){R[E].offset&&bN[k](R[E].offset+aI+R[E].color)}bM.colors&&(bM.colors.value=bN[t]?bN[aX]():"0% "+bM.color);if(S=="radial"){bM.type="gradientradial";bM.focus="100%";bM.focussize=bI;bM.focusposition=bI}else{bM.type="gradient";bM.angle=(270-e)%360}}return 1};aV=function(R,bI,b){var S=0,i=0,e=0,E=1;this[0]=R;this.id=aJ._oid++;this.node=R;R.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=bI;this.paper=b;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);this.prev=b.top;b.top&&(b.top.next=this);b.top=this;this.next=null};bd=aV[bF];bd.rotate=function(e,b,i){if(this.removed){return this}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][aX](aI)}return this._.rt.deg}e=bD(e)[J](a);if(e[t]-1){b=ak(e[1]);i=ak(e[2])}e=ak(e[0]);if(b!=null){this._.rt.deg=e}else{this._.rt.deg+=e}i==null&&(b=null);this._.rt.cx=b;this._.rt.cy=i;this.setBox(this.attrs,b,i);this.Group.style.rotation=this._.rt.deg;return this};bd.setBox=function(R,S,E){if(this.removed){return this}var b=this.Group.style,bI=(this.shape&&this.shape.style)||this.node.style;R=R||{};for(var bJ in R){if(R[ah](bJ)){this.attrs[bJ]=R[bJ]}}S=S||this._.rt.cx;E=E||this._.rt.cy;var bM=this.attrs,bP,bO,bQ,bL;switch(this.type){case"circle":bP=bM.cx-bM.r;bO=bM.cy-bM.r;bQ=bL=bM.r*2;break;case"ellipse":bP=bM.cx-bM.rx;bO=bM.cy-bM.ry;bQ=bM.rx*2;bL=bM.ry*2;break;case"image":bP=+bM.x;bO=+bM.y;bQ=bM.width||0;bL=bM.height||0;break;case"text":this.textpath.v=["m",ae(bM.x),", ",ae(bM.y-2),"l",ae(bM.x)+1,", ",ae(bM.y-2)][aX](aQ);bP=bM.x-ae(this.W/2);bO=bM.y-this.H/2;bQ=this.W;bL=this.H;break;case"rect":case"path":if(!this.attrs.path){bP=0;bO=0;bQ=this.paper.width;bL=this.paper.height}else{var bK=aj(this.attrs.path);bP=bK.x;bO=bK.y;bQ=bK.width;bL=bK.height}break;default:bP=0;bO=0;bQ=this.paper.width;bL=this.paper.height;break}S=(S==null)?bP+bQ/2:S;E=(E==null)?bO+bL/2:E;var e=S-this.paper.width/2,bN=E-this.paper.height/2,bR;b.left!=(bR=e+"px")&&(b.left=bR);b.top!=(bR=bN+"px")&&(b.top=bR);this.X=u[ah](this.type)?-e:bP;this.Y=u[ah](this.type)?-bN:bO;this.W=bQ;this.H=bL;if(u[ah](this.type)){bI.left!=(bR=-e*v+"px")&&(bI.left=bR);bI.top!=(bR=-bN*v+"px")&&(bI.top=bR)}else{if(this.type=="text"){bI.left!=(bR=-e+"px")&&(bI.left=bR);bI.top!=(bR=-bN+"px")&&(bI.top=bR)}else{b.width!=(bR=this.paper.width+"px")&&(b.width=bR);b.height!=(bR=this.paper.height+"px")&&(b.height=bR);bI.left!=(bR=bP-e+"px")&&(bI.left=bR);bI.top!=(bR=bO-bN+"px")&&(bI.top=bR);bI.width!=(bR=bQ+"px")&&(bI.width=bR);bI.height!=(bR=bL+"px")&&(bI.height=bR)}}};bd.hide=function(){!this.removed&&(this.Group.style.display="none");return this};bd.show=function(){!this.removed&&(this.Group.style.display="block");return this};bd.getBBox=function(){if(this.removed){return this}if(u[ah](this.type)){return aj(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};bd.remove=function(){if(this.removed){return}aF(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this){delete this[b]}this.removed=true};bd.attr=function(b,bJ){if(this.removed){return this}if(b==null){var bI={};for(var R in this.attrs){if(this.attrs[ah](R)){bI[R]=this.attrs[R]}}this._.rt.deg&&(bI.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(bI.scale=this.scale());bI.gradient&&bI.fill=="none"&&(bI.fill=bI.gradient)&&delete bI.gradient;return bI}if(bJ==null&&aJ.is(b,"string")){if(b=="translation"){return B.call(this)}if(b=="rotation"){return this.rotate()}if(b=="scale"){return this.scale()}if(b==a5&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[b]}if(this.attrs&&bJ==null&&aJ.is(b,a8)){var bM,bL={};for(R=0,bM=b[t];R<bM;R++){bL[b[R]]=this.attr(b[R])}return bL}var e;if(bJ!=null){e={};e[b]=bJ}bJ==null&&aJ.is(b,"object")&&(e=b);if(e){for(var bK in this.paper.customAttributes){if(this.paper.customAttributes[ah](bK)&&e[ah](bK)&&aJ.is(this.paper.customAttributes[bK],"function")){var S=this.paper.customAttributes[bK].apply(this,[][bx](e[bK]));this.attrs[bK]=e[bK];for(var E in S){if(S[ah](E)){e[E]=S[E]}}}}if(e.text&&this.type=="text"){this.node.string=e.text}ao(this,e);if(e.gradient&&(({circle:1,ellipse:1})[ah](this.type)||bD(e.gradient).charAt()!="r")){g(this,e.gradient)}(!u[ah](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};bd.toFront=function(){!this.removed&&this.Group.parentNode[bl](this.Group);this.paper.top!=this&&am(this,this.paper);return this};bd.toBack=function(){if(this.removed){return this}if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);p(this,this.paper)}return this};bd.insertAfter=function(b){if(this.removed){return this}if(b.constructor==ai){b=b[b.length-1]}if(b.Group.nextSibling){b.Group.parentNode.insertBefore(this.Group,b.Group.nextSibling)}else{b.Group.parentNode[bl](this.Group)}K(this,b,this.paper);return this};bd.insertBefore=function(b){if(this.removed){return this}if(b.constructor==ai){b=b[0]}b.Group.parentNode.insertBefore(this.Group,b.Group);aM(this,b,this.paper);return this};bd.blur=function(b){var e=this.node.runtimeStyle,i=e.filter;i=i.replace(by,aQ);if(+b!==0){this.attrs.blur=b;e.filter=i+aI+a6+".Blur(pixelradius="+(+b||1.5)+")";e.margin=aJ.format("-{0}px 0 0 -{0}px",ae(+b||1.5))}else{e.filter=i;e.margin=0;delete this.attrs.blur}};af=function(e,b,bJ,S){var R=az("group"),bI=az("oval"),i=bI.style;R.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";R.coordsize=aY;R.coordorigin=e.coordorigin;R[bl](bI);var E=new aV(bI,R,e);E.type="circle";ao(E,{stroke:"#000",fill:"none"});E.attrs.cx=b;E.attrs.cy=bJ;E.attrs.r=S;E.setBox({x:b-S,y:bJ-S,width:S*2,height:S*2});e.canvas[bl](R);return E};function au(b,R,e,i,E){if(E){return aJ.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",b+E,R,e-E*2,E,-E,i-E*2,E*2-e,E*2-i)}else{return aJ.format("M{0},{1}l{2},0,0,{3},{4},0z",b,R,e,i,-e)}}bc=function(e,bI,R,bJ,i,b){var bK=au(bI,R,bJ,i,b),E=e.path(bK),S=E.attrs;E.X=S.x=bI;E.Y=S.y=R;E.W=S.width=bJ;E.H=S.height=i;S.r=b;S.path=bK;E.type="rect";return E};aA=function(b,bK,bJ,i,e){var R=az("group"),E=az("oval"),bI=E.style;R.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";R.coordsize=aY;R.coordorigin=b.coordorigin;R[bl](E);var S=new aV(E,R,b);S.type="ellipse";ao(S,{stroke:"#000"});S.attrs.cx=bK;S.attrs.cy=bJ;S.attrs.rx=i;S.attrs.ry=e;S.setBox({x:bK-i,y:bJ-e,width:i*2,height:e*2});b.canvas[bl](R);return S};w=function(e,b,bJ,bI,bK,E){var R=az("group"),i=az("image");R.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";R.coordsize=aY;R.coordorigin=e.coordorigin;i.src=b;R[bl](i);var S=new aV(i,R,e);S.type="image";S.attrs.src=b;S.attrs.x=bJ;S.attrs.y=bI;S.attrs.w=bK;S.attrs.h=E;S.setBox({x:bJ,y:bI,width:bK,height:E});e.canvas[bl](R);return S};al=function(e,bK,bJ,bL){var R=az("group"),E=az("shape"),bI=E.style,bM=az("path"),b=bM.style,i=az("textpath");R.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";R.coordsize=aY;R.coordorigin=e.coordorigin;bM.v=aJ.format("m{0},{1}l{2},{1}",ae(bK*10),ae(bJ*10),ae(bK*10)+1);bM.textpathok=true;bI.width=e.width;bI.height=e.height;i.string=bD(bL);i.on=true;E[bl](i);E[bl](bM);R[bl](E);var S=new aV(i,R,e);S.shape=E;S.textpath=bM;S.type="text";S.attrs.text=bL;S.attrs.x=bK;S.attrs.y=bJ;S.attrs.w=1;S.attrs.h=1;ao(S,{font:q.font,stroke:"none",fill:"#000"});S.setBox();e.canvas[bl](R);return S};bB=function(i,b){var e=this.canvas.style;i==+i&&(i+="px");b==+b&&(b+="px");e.width=i;e.height=b;e.clip="rect(0 "+i+" "+b+" 0)";return this};var az;ab.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!ab.namespaces.rvml&&ab.namespaces.add("rvml","urn:schemas-microsoft-com:vml");az=function(b){return ab.createElement("<rvml:"+b+' class="rvml">')}}catch(ax){az=function(b){return ab.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}G=function(){var i=aK[bC](0,arguments),b=i.container,bK=i.height,bL,e=i.width,bJ=i.x,bI=i.y;if(!b){throw new Error("VML container not found.")}var R=new bA,S=R.canvas=ab.createElement("div"),E=S.style;bJ=bJ||0;bI=bI||0;e=e||512;bK=bK||342;e==+e&&(e+="px");bK==+bK&&(bK+="px");R.width=1000;R.height=1000;R.coordsize=v*1000+aI+v*1000;R.coordorigin="0 0";R.span=ab.createElement("span");R.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";S[bl](R.span);E.cssText=aJ.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,bK);if(b==1){ab.body[bl](S);E.left=bJ+"px";E.top=bI+"px";E.position="absolute"}else{if(b.firstChild){b.insertBefore(S,b.firstChild)}else{b[bl](S)}}bf.call(R,R,aJ.fn);return R};a0.clear=function(){this.canvas.innerHTML=aQ;this.span=ab.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[bl](this.span);this.bottom=this.top=null};a0.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]=A(b)}return true}}var V=navigator.userAgent.match(/Version\/(.*?)\s/);if((navigator.vendor=="Apple Computer, Inc.")&&(V&&V[1]<4||navigator.platform.slice(0,2)=="iP")){a0.safari=function(){var b=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});aR.setTimeout(function(){b.remove()})}}else{a0.safari=function(){}}var P=function(){this.returnValue=false},bw=function(){return this.originalEvent.preventDefault()},a4=function(){this.cancelBubble=true},aE=function(){return this.originalEvent.stopPropagation()},aw=(function(){if(ab.addEventListener){return function(S,E,i,e){var b=X&&br[E]?br[E]:E;var R=function(bL){if(X&&br[ah](E)){for(var bJ=0,bK=bL.targetTouches&&bL.targetTouches.length;bJ<bK;bJ++){if(bL.targetTouches[bJ].target==S){var bI=bL;bL=bL.targetTouches[bJ];bL.originalEvent=bI;bL.preventDefault=bw;bL.stopPropagation=aE;break}}}return i.call(e,bL)};S.addEventListener(b,R,false);return function(){S.removeEventListener(b,R,false);return true}}}else{if(ab.attachEvent){return function(S,E,i,e){var R=function(bI){bI=bI||aR.event;bI.preventDefault=bI.preventDefault||P;bI.stopPropagation=bI.stopPropagation||a4;return i.call(e,bI)};S.attachEvent("on"+E,R);var b=function(){S.detachEvent("on"+E,R);return true};return b}}}})(),a9=[],bs=function(bI){var bK=bI.clientX,bJ=bI.clientY,bL=ab.documentElement.scrollTop||ab.body.scrollTop,bM=ab.documentElement.scrollLeft||ab.body.scrollLeft,b,E=a9.length;while(E--){b=a9[E];if(X){var S=bI.touches.length,R;while(S--){R=bI.touches[S];if(R.identifier==b.el._drag.id){bK=R.clientX;bJ=R.clientY;(bI.originalEvent?bI.originalEvent:bI).preventDefault();break}}}else{bI.preventDefault()}bK+=bM;bJ+=bL;b.move&&b.move.call(b.move_scope||b.el,bK-b.el._drag.x,bJ-b.el._drag.y,bK,bJ,bI)}},f=function(R){aJ.unmousemove(bs).unmouseup(f);var E=a9.length,b;while(E--){b=a9[E];b.el._drag={};b.end&&b.end.call(b.end_scope||b.start_scope||b.move_scope||b.el,R)}a9=[]};for(var at=T[t];at--;){(function(b){aJ[b]=aV[bF][b]=function(i,e){if(aJ.is(i,"function")){this.events=this.events||[];this.events.push({name:b,f:i,unbind:aw(this.shape||this.node||ab,b,i,e||this)})}return this};aJ["un"+b]=aV[bF]["un"+b]=function(E){var i=this.events,e=i[t];while(e--){if(i[e].name==b&&i[e].f==E){i[e].unbind();i.splice(e,1);!i.length&&delete this.events;return this}}return this}})(T[at])}bd.hover=function(E,b,i,e){return this.mouseover(E,i).mouseout(b,e||i)};bd.unhover=function(e,b){return this.unmouseover(e).unmouseout(b)};bd.drag=function(e,S,R,b,i,E){this._drag={};this.mousedown(function(bJ){(bJ.originalEvent||bJ).preventDefault();var bI=ab.documentElement.scrollTop||ab.body.scrollTop,bK=ab.documentElement.scrollLeft||ab.body.scrollLeft;this._drag.x=bJ.clientX+bK;this._drag.y=bJ.clientY+bI;this._drag.id=bJ.identifier;S&&S.call(i||b||this,bJ.clientX+bK,bJ.clientY+bI,bJ);!a9.length&&aJ.mousemove(bs).mouseup(f);a9.push({el:this,move:e,end:R,move_scope:b,start_scope:i,end_scope:E})});return this};bd.undrag=function(b,R,E){var e=a9.length;while(e--){a9[e].el==this&&(a9[e].move==b&&a9[e].end==E)&&a9.splice(e++,1)}!a9.length&&aJ.unmousemove(bs).unmouseup(f)};a0.circle=function(b,i,e){return af(this,b||0,i||0,e||0)};a0.rect=function(b,R,e,i,E){return bc(this,b||0,R||0,e||0,i||0,E||0)};a0.ellipse=function(b,E,i,e){return aA(this,b||0,E||0,i||0,e||0)};a0.path=function(b){b&&!aJ.is(b,ag)&&!aJ.is(b[0],a8)&&(b+=aQ);return y(aJ.format[bC](aJ,arguments),this)};a0.image=function(E,b,R,e,i){return w(this,E||"about:blank",b||0,R||0,e||0,i||0)};a0.text=function(b,i,e){return al(this,b||0,i||0,bD(e))};a0.set=function(b){arguments[t]>1&&(b=Array[bF].splice.call(arguments,0,arguments[t]));return new ai(b)};a0.setSize=bB;a0.top=a0.bottom=null;a0.raphael=aJ;function D(){return this.x+aI+this.y}bd.resetScale=function(){if(this.removed){return this}this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};bd.scale=function(b1,b0,bS,bQ){if(this.removed){return this}if(b1==null&&b0==null){return{x:this._.sx,y:this._.sy,toString:D}}b0=b0||b1;!+b0&&(b0=b1);var e,b,b9,b8,cc=this.attrs;if(b1!=0){var cd=this.getBBox(),R=cd.x+cd.width/2,E=cd.y+cd.height/2,b6=ar(b1/this._.sx),b5=ar(b0/this._.sy);bS=(+bS||bS==0)?bS:R;bQ=(+bQ||bQ==0)?bQ:E;var bL=this._.sx>0,bK=this._.sy>0,bR=~~(b1/ar(b1)),bP=~~(b0/ar(b0)),bI=b6*bR,S=b5*bP,b2=this.node.style,bZ=bS+ar(R-bS)*bI*(R>bS==bL?1:-1),bY=bQ+ar(E-bQ)*S*(E>bQ==bK?1:-1),bV=(b1*bR>b0*bP?b5:b6);switch(this.type){case"rect":case"image":var bN=cc.width*b6,bW=cc.height*b5;this.attr({height:bW,r:cc.r*bV,width:bN,x:bZ-bN/2,y:bY-bW/2});break;case"circle":case"ellipse":this.attr({rx:cc.rx*b6,ry:cc.ry*b5,r:cc.r*bV,cx:bZ,cy:bY});break;case"text":this.attr({x:bZ,y:bY});break;case"path":var b4=av(cc.path),bM=true,bU=bL?bI:b6,bT=bK?S:b5;for(var cb=0,bX=b4[t];cb<bX;cb++){var b7=b4[cb],bO=bp.call(b7[0]);if(bO=="M"&&bM){continue}else{bM=false}if(bO=="A"){b7[b4[cb][t]-2]*=bU;b7[b4[cb][t]-1]*=bT;b7[1]*=b6;b7[2]*=b5;b7[5]=+(bR+bP?!!+b7[5]:!+b7[5])}else{if(bO=="H"){for(var ca=1,bJ=b7[t];ca<bJ;ca++){b7[ca]*=bU}}else{if(bO=="V"){for(ca=1,bJ=b7[t];ca<bJ;ca++){b7[ca]*=bT}}else{for(ca=1,bJ=b7[t];ca<bJ;ca++){b7[ca]*=(ca%2)?bU:bT}}}}}var b3=aj(b4);e=bZ-b3.x-b3.width/2;b=bY-b3.y-b3.height/2;b4[0][1]+=e;b4[0][2]+=b;this.attr({path:b4});break}if(this.type in {text:1,image:1}&&(bR!=1||bP!=1)){if(this.transformations){this.transformations[2]="scale("[bx](bR,",",bP,")");this.node[F]("transform",this.transformations[aX](aI));e=(bR==-1)?-cc.x-(bN||0):cc.x;b=(bP==-1)?-cc.y-(bW||0):cc.y;this.attr({x:e,y:b});cc.fx=bR-1;cc.fy=bP-1}else{this.node.filterMatrix=a6+".Matrix(M11="[bx](bR,", M12=0, M21=0, M22=",bP,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");b2.filter=(this.node.filterMatrix||aQ)+(this.node.filterOpacity||aQ)}}else{if(this.transformations){this.transformations[2]=aQ;this.node[F]("transform",this.transformations[aX](aI));cc.fx=0;cc.fy=0}else{this.node.filterMatrix=aQ;b2.filter=(this.node.filterMatrix||aQ)+(this.node.filterOpacity||aQ)}}cc.scale=[b1,b0,bS,bQ][aX](aI);this._.sx=b1;this._.sy=b0}return this};bd.clone=function(){if(this.removed){return null}var b=this.attr();delete b.scale;delete b.translation;return this.paper[this.type]().attr(b)};var a3={},l=function(S,e,bL,bK,bT,bS,bR,bP,bI){var bO=0,bN=100,R=[S,e,bL,bK,bT,bS,bR,bP].join(),b=a3[R],bJ,E;!b&&(a3[R]=b={data:[]});b.timer&&clearTimeout(b.timer);b.timer=setTimeout(function(){delete a3[R]},2000);if(bI!=null){var bQ=l(S,e,bL,bK,bT,bS,bR,bP);bN=~~bQ*10}for(var bM=0;bM<bN+1;bM++){if(b.data[bI]>bM){E=b.data[bM*bN]}else{E=aJ.findDotsAtSegment(S,e,bL,bK,bT,bS,bR,bP,bM/bN);b.data[bM]=E}bM&&(bO+=bm(bm(bJ.x-E.x,2)+bm(bJ.y-E.y,2),0.5));if(bI!=null&&bO>=bI){return E}bJ=E}if(bI==null){return bO}},a2=function(b,e){return function(bR,S,bI){bR=W(bR);var bN,bM,E,bJ,R="",bQ={},bO,bL=0;for(var bK=0,bP=bR.length;bK<bP;bK++){E=bR[bK];if(E[0]=="M"){bN=+E[1];bM=+E[2]}else{bJ=l(bN,bM,E[1],E[2],E[3],E[4],E[5],E[6]);if(bL+bJ>S){if(e&&!bQ.start){bO=l(bN,bM,E[1],E[2],E[3],E[4],E[5],E[6],S-bL);R+=["C",bO.start.x,bO.start.y,bO.m.x,bO.m.y,bO.x,bO.y];if(bI){return R}bQ.start=R;R=["M",bO.x,bO.y+"C",bO.n.x,bO.n.y,bO.end.x,bO.end.y,E[5],E[6]][aX]();bL+=bJ;bN=+E[5];bM=+E[6];continue}if(!b&&!e){bO=l(bN,bM,E[1],E[2],E[3],E[4],E[5],E[6],S-bL);return{x:bO.x,y:bO.y,alpha:bO.alpha}}}bL+=bJ;bN=+E[5];bM=+E[6]}R+=E}bQ.end=R;bO=b?bL:e?bQ:aJ.findDotsAtSegment(bN,bM,E[1],E[2],E[3],E[4],E[5],E[6],1);bO.alpha&&(bO={x:bO.x,y:bO.y,alpha:bO.alpha});return bO}};var aL=a2(1),M=a2(),Z=a2(0,1);bd.getTotalLength=function(){if(this.type!="path"){return}if(this.node.getTotalLength){return this.node.getTotalLength()}return aL(this.attrs.path)};bd.getPointAtLength=function(b){if(this.type!="path"){return}return M(this.attrs.path,b)};bd.getSubpath=function(i,e){if(this.type!="path"){return}if(ar(this.getTotalLength()-e)<"1e-6"){return Z(this.attrs.path,i).end}var b=Z(this.attrs.path,e,1);return i?Z(b,i).end:b};aJ.easing_formulas={linear:function(b){return b},"<":function(b){return bm(b,3)},">":function(b){return bm(b-1,3)+1},"<>":function(b){b=b*2;if(b<1){return bm(b,3)/2}b-=2;return(bm(b,3)+2)/2},backIn:function(e){var b=1.70158;return e*e*((b+1)*e-b)},backOut:function(e){e=e-1;var b=1.70158;return e*e*((b+1)*e+b)+1},elastic:function(i){if(i==0||i==1){return i}var e=0.3,b=e/4;return bm(2,-10*i)*ap.sin((i-b)*(2*aN)/e)+1},bounce:function(E){var e=7.5625,i=2.75,b;if(E<(1/i)){b=e*E*E}else{if(E<(2/i)){E-=(1.5/i);b=e*E*E+0.75}else{if(E<(2.5/i)){E-=(2.25/i);b=e*E*E+0.9375}else{E-=(2.625/i);b=e*E*E+0.984375}}}return b}};var Y=[],bv=function(){var bK=+new Date;for(var bV=0;bV<Y[t];bV++){var b0=Y[bV];if(b0.stop||b0.el.removed){continue}var S=bK-b0.start,bS=b0.ms,bR=b0.easing,bW=b0.from,bP=b0.diff,E=b0.to,bO=b0.t,bJ=b0.el,bQ={},b;if(S<bS){var R=bR(S/bS);for(var bT in bW){if(bW[ah](bT)){switch(an[bT]){case"along":b=R*bS*bP[bT];E.back&&(b=E.len-b);var bU=M(E[bT],b);bJ.translate(bP.sx-bP.x||0,bP.sy-bP.y||0);bP.x=bU.x;bP.y=bU.y;bJ.translate(bU.x-bP.sx,bU.y-bP.sy);E.rot&&bJ.rotate(bP.r+bU.alpha,bU.x,bU.y);break;case aG:b=+bW[bT]+R*bS*bP[bT];break;case"colour":b="rgb("+[L(ae(bW[bT].r+R*bS*bP[bT].r)),L(ae(bW[bT].g+R*bS*bP[bT].g)),L(ae(bW[bT].b+R*bS*bP[bT].b))][aX](",")+")";break;case"path":b=[];for(var bY=0,bN=bW[bT][t];bY<bN;bY++){b[bY]=[bW[bT][bY][0]];for(var bX=1,bZ=bW[bT][bY][t];bX<bZ;bX++){b[bY][bX]=+bW[bT][bY][bX]+R*bS*bP[bT][bY][bX]}b[bY]=b[bY][aX](aI)}b=b[aX](aI);break;case"csv":switch(bT){case"translation":var bM=R*bS*bP[bT][0]-bO.x,bL=R*bS*bP[bT][1]-bO.y;bO.x+=bM;bO.y+=bL;b=bM+aI+bL;break;case"rotation":b=+bW[bT][0]+R*bS*bP[bT][0];bW[bT][1]&&(b+=","+bW[bT][1]+","+bW[bT][2]);break;case"scale":b=[+bW[bT][0]+R*bS*bP[bT][0],+bW[bT][1]+R*bS*bP[bT][1],(2 in E[bT]?E[bT][2]:aQ),(3 in E[bT]?E[bT][3]:aQ)][aX](aI);break;case"clip-rect":b=[];bY=4;while(bY--){b[bY]=+bW[bT][bY]+R*bS*bP[bT][bY]}break}break;default:var bI=[].concat(bW[bT]);b=[];bY=bJ.paper.customAttributes[bT].length;while(bY--){b[bY]=+bI[bY]+R*bS*bP[bT][bY]}break}bQ[bT]=b}}bJ.attr(bQ);bJ._run&&bJ._run.call(bJ)}else{if(E.along){bU=M(E.along,E.len*!E.back);bJ.translate(bP.sx-(bP.x||0)+bU.x-bP.sx,bP.sy-(bP.y||0)+bU.y-bP.sy);E.rot&&bJ.rotate(bP.r+bU.alpha,bU.x,bU.y)}(bO.x||bO.y)&&bJ.translate(-bO.x,-bO.y);E.scale&&(E.scale+=aQ);bJ.attr(E);Y.splice(bV--,1)}}aJ.svg&&bJ&&bJ.paper&&bJ.paper.safari();Y[t]&&setTimeout(bv)},bz=function(b,i,S,R,E){var e=S-R;i.timeouts.push(setTimeout(function(){aJ.is(E,"function")&&E.call(i);i.animate(b,e,b.easing)},R))},L=function(b){return m(bj(b,255),0)},B=function(b,i){if(b==null){return{x:this._.tx,y:this._.ty,toString:D}}this._.tx+=+b;this._.ty+=+i;switch(this.type){case"circle":case"ellipse":this.attr({cx:+b+this.attrs.cx,cy:+i+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+b+this.attrs.x,y:+i+this.attrs.y});break;case"path":var e=av(this.attrs.path);e[0][1]+=+b;e[0][2]+=+i;this.attr({path:e});break}return this};bd.animateWith=function(E,S,b,bJ,bI){for(var e=0,R=Y.length;e<R;e++){if(Y[e].el.id==E.id){S.start=Y[e].start}}return this.animate(S,b,bJ,bI)};bd.animateAlong=aW();bd.animateAlongBack=aW(1);function aW(b){return function(E,i,e,S){var R={back:b};aJ.is(e,"function")?(S=e):(R.rot=e);E&&E.constructor==aV&&(E=E.attrs.path);E&&(R.along=E);return this.animate(R,i,S)}}function aZ(bP,E,e,bO,bN,bJ){var bK=3*E,bM=3*(bO-E)-bK,b=1-bK-bM,bI=3*e,bL=3*(bN-e)-bI,bQ=1-bI-bL;function S(bR){return((b*bR+bM)*bR+bK)*bR}function i(bR,bT){var bS=R(bR,bT);return((bQ*bS+bL)*bS+bI)*bS}function R(bR,bY){var bX,bW,bU,bS,bV,bT;for(bU=bR,bT=0;bT<8;bT++){bS=S(bU)-bR;if(ar(bS)<bY){return bU}bV=(3*b*bU+2*bM)*bU+bK;if(ar(bV)<0.000001){break}bU=bU-bS/bV}bX=0;bW=1;bU=bR;if(bU<bX){return bX}if(bU>bW){return bW}while(bX<bW){bS=S(bU);if(ar(bS-bR)<bY){return bU}if(bR>bS){bX=bU}else{bW=bU}bU=(bW-bX)/2+bX}return bU}return i(bP,1/(200*bJ))}bd.onAnimation=function(b){this._run=b||0;return this};bd.animate=function(b2,bS,bR,S){var e=this;e.timeouts=e.timeouts||[];if(aJ.is(bR,"function")||!bR){S=S||bR||null}if(e.removed){S&&S.call(e);return e}var bW={},E={},bI=false,bN={};for(var bT in b2){if(b2[ah](bT)){if(an[ah](bT)||e.paper.customAttributes[ah](bT)){bI=true;bW[bT]=e.attr(bT);(bW[bT]==null)&&(bW[bT]=q[bT]);E[bT]=b2[bT];switch(an[bT]){case"along":var b0=aL(b2[bT]);var bU=M(b2[bT],b0*!!b2.back);var bJ=e.getBBox();bN[bT]=b0/bS;bN.tx=bJ.x;bN.ty=bJ.y;bN.sx=bU.x;bN.sy=bU.y;E.rot=b2.rot;E.back=b2.back;E.len=b0;b2.rot&&(bN.r=ak(e.rotate())||0);break;case aG:bN[bT]=(E[bT]-bW[bT])/bS;break;case"colour":bW[bT]=aJ.getRGB(bW[bT]);var bV=aJ.getRGB(E[bT]);bN[bT]={r:(bV.r-bW[bT].r)/bS,g:(bV.g-bW[bT].g)/bS,b:(bV.b-bW[bT].b)/bS};break;case"path":var bK=W(bW[bT],E[bT]);bW[bT]=bK[0];var bP=bK[1];bN[bT]=[];for(var bZ=0,bM=bW[bT][t];bZ<bM;bZ++){bN[bT][bZ]=[0];for(var bY=1,b1=bW[bT][bZ][t];bY<b1;bY++){bN[bT][bZ][bY]=(bP[bZ][bY]-bW[bT][bZ][bY])/bS}}break;case"csv":var b=bD(b2[bT])[J](a),bL=bD(bW[bT])[J](a);switch(bT){case"translation":bW[bT]=[0,0];bN[bT]=[b[0]/bS,b[1]/bS];break;case"rotation":bW[bT]=(bL[1]==b[1]&&bL[2]==b[2])?bL:[0,b[1],b[2]];bN[bT]=[(b[0]-bW[bT][0])/bS,0,0];break;case"scale":b2[bT]=b;bW[bT]=bD(bW[bT])[J](a);bN[bT]=[(b[0]-bW[bT][0])/bS,(b[1]-bW[bT][1])/bS,0,0];break;case"clip-rect":bW[bT]=bD(bW[bT])[J](a);bN[bT]=[];bZ=4;while(bZ--){bN[bT][bZ]=(b[bZ]-bW[bT][bZ])/bS}break}E[bT]=b;break;default:b=[].concat(b2[bT]);bL=[].concat(bW[bT]);bN[bT]=[];bZ=e.paper.customAttributes[bT][t];while(bZ--){bN[bT][bZ]=((b[bZ]||0)-(bL[bZ]||0))/bS}break}}}}if(!bI){var bQ=[],R;for(var b3 in b2){if(b2[ah](b3)&&bg.test(b3)){bT={value:b2[b3]};b3=="from"&&(b3=0);b3=="to"&&(b3=100);bT.key=U(b3,10);bQ.push(bT)}}bQ.sort(bn);if(bQ[0].key){bQ.unshift({key:0,value:e.attrs})}for(bZ=0,bM=bQ[t];bZ<bM;bZ++){bz(bQ[bZ].value,e,bS/100*bQ[bZ].key,bS/100*(bQ[bZ-1]&&bQ[bZ-1].key||0),bQ[bZ-1]&&bQ[bZ-1].value.callback)}R=bQ[bQ[t]-1].value.callback;if(R){e.timeouts.push(setTimeout(function(){R.call(e)},bS))}}else{var bX=aJ.easing_formulas[bR];if(!bX){bX=bD(bR).match(c);if(bX&&bX[t]==5){var bO=bX;bX=function(i){return aZ(i,+bO[1],+bO[2],+bO[3],+bO[4],bS)}}else{bX=function(i){return i}}}Y.push({start:b2.start||+new Date,ms:bS,easing:bX,from:bW,diff:bN,to:E,el:e,t:{x:0,y:0}});aJ.is(S,"function")&&(e._ac=setTimeout(function(){S.call(e)},bS));Y[t]==1&&setTimeout(bv)}return this};bd.stop=function(){for(var b=0;b<Y.length;b++){Y[b].el.id==this.id&&Y.splice(b--,1)}for(b=0,ii=this.timeouts&&this.timeouts.length;b<ii;b++){clearTimeout(this.timeouts[b])}this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};bd.translate=function(b,e){return this.attr({translation:b+" "+e})};bd[a1]=function(){return"Rapha\xebl\u2019s object"};aJ.ae=Y;var ai=function(b){this.items=[];this[t]=0;this.type="set";if(b){for(var e=0,E=b[t];e<E;e++){if(b[e]&&(b[e].constructor==aV||b[e].constructor==ai)){this[this.items[t]]=this.items[this.items[t]]=b[e];this[t]++}}}};ai[bF][k]=function(){var R,b;for(var e=0,E=arguments[t];e<E;e++){R=arguments[e];if(R&&(R.constructor==aV||R.constructor==ai)){b=this.items[t];this[b]=this.items[b]=R;this[t]++}}return this};ai[bF].pop=function(){delete this[this[t]--];return this.items.pop()};for(var I in bd){if(bd[ah](I)){ai[bF][I]=(function(b){return function(){for(var e=0,E=this.items[t];e<E;e++){this.items[e][b][bC](this.items[e],arguments)}return this}})(I)}}ai[bF].attr=function(e,bI){if(e&&aJ.is(e,a8)&&aJ.is(e[0],"object")){for(var b=0,S=e[t];b<S;b++){this.items[b].attr(e[b])}}else{for(var E=0,R=this.items[t];E<R;E++){this.items[E].attr(e,bI)}}return this};ai[bF].animate=function(e,b,bI,bK){(aJ.is(bI,"function")||!bI)&&(bK=bI||null);var S=this.items[t],E=S,bL,bJ=this,R;bK&&(R=function(){!--S&&bK.call(bJ)});bI=aJ.is(bI,ag)?bI:R;bL=this.items[--E].animate(e,b,bI,R);while(E--){this.items[E]&&!this.items[E].removed&&this.items[E].animateWith(bL,e,b,bI,R)}return this};ai[bF].insertAfter=function(e){var b=this.items[t];while(b--){this.items[b].insertAfter(e)}return this};ai[bF].getBBox=function(){var b=[],bI=[],e=[],R=[];for(var E=this.items.length;E--;){if(!this.items[E].removed){var S=this.items[E].getBBox();b.push(S.x);bI.push(S.y);e.push(S.x+S.width);R.push(S.y+S.height)}}b=bj[bC](0,b);bI=bj[bC](0,bI);return{x:b,y:bI,width:m[bC](0,e)-b,height:m[bC](0,R)-bI}};ai[bF].clone=function(E){E=new ai;for(var b=0,e=this.items[t];b<e;b++){E[k](this.items[b].clone())}return E};aJ.registerFont=function(e){if(!e.face){return e}this.fonts=this.fonts||{};var E={w:e.w,face:{},glyphs:{}},i=e.face["font-family"];for(var bI in e.face){if(e.face[ah](bI)){E.face[bI]=e.face[bI]}}if(this.fonts[i]){this.fonts[i][k](E)}else{this.fonts[i]=[E]}if(!e.svg){E.face["units-per-em"]=U(e.face["units-per-em"],10);for(var R in e.glyphs){if(e.glyphs[ah](R)){var S=e.glyphs[R];E.glyphs[R]={w:S.w,k:{},d:S.d&&"M"+S.d[bt](/[mlcxtrv]/g,function(bJ){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[bJ]||"M"})+"z"};if(S.k){for(var b in S.k){if(S[ah](b)){E.glyphs[R].k[b]=S.k[b]}}}}}}return e};a0.getFont=function(bK,bL,e,R){R=R||"normal";e=e||"normal";bL=+bL||{normal:400,bold:700,lighter:300,bolder:800}[bL]||400;if(!aJ.fonts){return}var S=aJ.fonts[bK];if(!S){var E=new RegExp("(^|\\s)"+bK[bt](/[^\w\d\s+!~.:_-]/g,aQ)+"(\\s|$)","i");for(var b in aJ.fonts){if(aJ.fonts[ah](b)){if(E.test(b)){S=aJ.fonts[b];break}}}}var bI;if(S){for(var bJ=0,bM=S[t];bJ<bM;bJ++){bI=S[bJ];if(bI.face["font-weight"]==bL&&(bI.face["font-style"]==e||!bI.face["font-style"])&&bI.face["font-stretch"]==R){break}}}return bI};a0.print=function(S,R,b,bK,bL,bU,e){bU=bU||"middle";e=m(bj(e||0,1),-1);var bQ=this.set(),bT=bD(b)[J](aQ),bR=0,bO=aQ,bV;aJ.is(bK,b)&&(bK=this.getFont(bK));if(bK){bV=(bL||16)/bK.face["units-per-em"];var E=bK.face.bbox.split(a),bJ=+E[0],bM=+E[1]+(bU=="baseline"?E[3]-E[1]+(+bK.face.descent):(E[3]-E[1])/2);for(var bP=0,bI=bT[t];bP<bI;bP++){var bN=bP&&bK.glyphs[bT[bP-1]]||{},bS=bK.glyphs[bT[bP]];bR+=bP?(bN.w||bK.w)+(bN.k&&bN.k[bT[bP]]||0)+(bK.w*e):0;bS&&bS.d&&bQ[k](this.path(bS.d).attr({fill:"#000",stroke:"none",translation:[bR,0]}))}bQ.scale(bV,bV,bJ,bM).translate(S-bJ,R-bM)}return bQ};aJ.format=function(e,i){var b=aJ.is(i,a8)?[0][bx](i):arguments;e&&aJ.is(e,ag)&&b[t]-1&&(e=e[bt](bo,function(R,E){return b[++E]==null?aQ:b[E]}));return e||aQ};aJ.ninja=function(){s.was?(aR.Raphael=s.is):delete Raphael;return aJ};aJ.el=bd;aJ.st=ai[bF];s.was?(aR.Raphael=aJ):(Raphael=aJ)})();(function(){var c=/\{([^\}]+)\}/g,a=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,b=function(h,g,i){var f=i;g.replace(a,function(l,k,j,n,m){k=k||n;if(f){if(k in f){f=f[k]}typeof f=="function"&&m&&(f=f())}});f=(f==null||f==i?h:f)+"";return f},e=function(g,f){return String(g).replace(c,function(i,h){return b(i,h,f)})};Raphael.fn.popup=function(g,f,q,k,B){k=String(k||"top-middle").split("-");k[1]=k[1]||"middle";var s=5,i=q.getBBox(),o=Math.round(i.width),A=Math.round(i.height),m=Math.round(i.x)-s,l=Math.round(i.y)-s,t=Math.min(A/2,o/2,10),u={top:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}l-{right},0-{gap},{gap}-{gap}-{gap}-{left},0a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",bottom:"M{x},{y}l{left},0,{gap}-{gap},{gap},{gap},{right},0a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",right:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}l0-{bottom}-{gap}-{gap},{gap}-{gap},0-{top}a{r},{r},0,0,1,{r}-{r}z",left:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}l0,{top},{gap},{gap}-{gap},{gap},0,{bottom}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z"},j={hx0:g-(m+s+o-t*2),hx1:g-(m+s+o/2-t),hx2:g-(m+s+t),vhy:f-(l+s+A+s+t),"^hy":f-(l-t)},z=[{x:m+s,y:l,w:o,w4:o/4,h4:A/4,right:0,left:o-t*2,bottom:0,top:A-t*2,r:s,h:A,gap:t},{x:m+s,y:l,w:o,w4:o/4,h4:A/4,left:o/2-t,right:o/2-t,top:A/2-t,bottom:A/2-t,r:s,h:A,gap:t},{x:m+s,y:l,w:o,w4:o/4,h4:A/4,left:0,right:o-t*2,top:0,bottom:A-t*2,r:s,h:A,gap:t}][k[1]=="middle"?1:(k[1]=="top"||k[1]=="left")*2];var p=0,n=0,v=this.path(e(u[k[0]],z)).insertBefore(q);switch(k[0]){case"top":p=g-(m+s+z.left+t);n=f-(l+s+A+s+t);break;case"bottom":p=g-(m+s+z.left+t);n=f-(l-t);break;case"left":p=g-(m+s+o+s+t);n=f-(l+s+z.top+t);break;case"right":p=g-(m-t);n=f-(l+s+z.top+t);break}v.translate(p,n);if(B){B=v.attr("path");v.remove();return{path:B,dx:p,dy:n}}q.translate(p,n);return v}})();
/*
 * g.Raphael 0.4.1 - Charting library, based on Raphaël
 *
 * Copyright (c) 2009 Dmitry Baranovskiy (http://g.raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
(function(){var a=Math.max,c=Math.min;Raphael.fn.g=Raphael.fn.g||{};Raphael.fn.g.markers={disc:"disc",o:"disc",flower:"flower",f:"flower",diamond:"diamond",d:"diamond",square:"square",s:"square",triangle:"triangle",t:"triangle",star:"star","*":"star",cross:"cross",x:"cross",plus:"plus","+":"plus",arrow:"arrow","->":"arrow"};Raphael.fn.g.shim={stroke:"none",fill:"#000","fill-opacity":0};Raphael.fn.g.txtattr={font:"12px Arial, sans-serif"};Raphael.fn.g.colors=[];var e=[0.6,0.2,0.05,0.1333,0.75,0];for(var b=0;b<10;b++){if(b<e.length){Raphael.fn.g.colors.push("hsb("+e[b]+", .75, .75)")}else{Raphael.fn.g.colors.push("hsb("+e[b-e.length]+", 1, .5)")}}Raphael.fn.g.text=function(f,h,g){return this.text(f,h,g).attr(this.g.txtattr)};Raphael.fn.g.labelise=function(f,h,g){if(f){return(f+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(i,k,j){if(k){return(+h).toFixed(k.replace(/^#+\.?/g,"").length)}if(j){return(h*100/g).toFixed(j.replace(/^%+\.?/g,"").length)+"%"}})}else{return(+h).toFixed(0)}};Raphael.fn.g.finger=function(l,k,g,m,h,i,j){if((h&&!m)||(!h&&!g)){return j?"":this.path()}i={square:"square",sharp:"sharp",soft:"soft"}[i]||"round";var o;m=Math.round(m);g=Math.round(g);l=Math.round(l);k=Math.round(k);switch(i){case"round":if(!h){var f=~~(m/2);if(g<f){f=g;o=["M",l+0.5,k+0.5-~~(m/2),"l",0,0,"a",f,~~(m/2),0,0,1,0,m,"l",0,0,"z"]}else{o=["M",l+0.5,k+0.5-f,"l",g-f,0,"a",f,f,0,1,1,0,m,"l",f-g,0,"z"]}}else{f=~~(g/2);if(m<f){f=m;o=["M",l-~~(g/2),k,"l",0,0,"a",~~(g/2),f,0,0,1,g,0,"l",0,0,"z"]}else{o=["M",l-f,k,"l",0,f-m,"a",f,f,0,1,1,g,0,"l",0,m-f,"z"]}}break;case"sharp":if(!h){var n=~~(m/2);o=["M",l,k+n,"l",0,-m,a(g-n,0),0,c(n,g),n,-c(n,g),n+(n*2<m),"z"]}else{n=~~(g/2);o=["M",l+n,k,"l",-g,0,0,-a(m-n,0),n,-c(n,m),n,c(n,m),n,"z"]}break;case"square":if(!h){o=["M",l,k+~~(m/2),"l",0,-m,g,0,0,m,"z"]}else{o=["M",l+~~(g/2),k,"l",1-g,0,0,-m,g-1,0,"z"]}break;case"soft":if(!h){f=c(g,Math.round(m/5));o=["M",l+0.5,k+0.5-~~(m/2),"l",g-f,0,"a",f,f,0,0,1,f,f,"l",0,m-f*2,"a",f,f,0,0,1,-f,f,"l",f-g,0,"z"]}else{f=c(Math.round(g/5),m);o=["M",l-~~(g/2),k,"l",0,f-m,"a",f,f,0,0,1,f,-f,"l",g-2*f,0,"a",f,f,0,0,1,f,f,"l",0,m-f,"z"]}}if(j){return o.join(",")}else{return this.path(o)}};Raphael.fn.g.disc=function(f,h,g){return this.circle(f,h,g)};Raphael.fn.g.line=function(f,h,g){return this.rect(f-g,h-g/5,2*g,2*g/5)};Raphael.fn.g.square=function(f,h,g){g=g*0.7;return this.rect(f-g,h-g,2*g,2*g)};Raphael.fn.g.triangle=function(f,h,g){g*=1.75;return this.path("M".concat(f,",",h,"m0-",g*0.58,"l",g*0.5,",",g*0.87,"-",g,",0z"))};Raphael.fn.g.diamond=function(f,h,g){return this.path(["M",f,h-g,"l",g,g,-g,g,-g,-g,g,-g,"z"])};Raphael.fn.g.flower=function(j,h,f,g){f=f*1.25;var o=f,m=o*0.5;g=+g<3||!g?5:g;var p=["M",j,h+m,"Q"],l;for(var k=1;k<g*2+1;k++){l=k%2?o:m;p=p.concat([+(j+l*Math.sin(k*Math.PI/g)).toFixed(3),+(h+l*Math.cos(k*Math.PI/g)).toFixed(3)])}p.push("z");return this.path(p.join(","))};Raphael.fn.g.star=function(f,n,m,h,g){h=h||m*0.382;g=g||5;var l=["M",f,n+h,"L"],k;for(var j=1;j<g*2;j++){k=j%2?m:h;l=l.concat([(f+k*Math.sin(j*Math.PI/g)),(n+k*Math.cos(j*Math.PI/g))])}l.push("z");return this.path(l.join(","))};Raphael.fn.g.cross=function(f,h,g){g=g/2.5;return this.path("M".concat(f-g,",",h,"l",[-g,-g,g,-g,g,g,g,-g,g,g,-g,g,g,g,-g,g,-g,-g,-g,g,-g,-g,"z"]))};Raphael.fn.g.plus=function(f,h,g){g=g/2;return this.path("M".concat(f-g/2,",",h-g/2,"l",[0,-g,g,0,0,g,g,0,0,g,-g,0,0,g,-g,0,0,-g,-g,0,0,-g,"z"]))};Raphael.fn.g.arrow=function(f,h,g){return this.path("M".concat(f-g*0.7,",",h-g*0.4,"l",[g*0.6,0,0,-g*0.4,g,g*0.8,-g,g*0.8,0,-g*0.4,-g*0.6,0],"z"))};Raphael.fn.g.tag=function(f,m,l,k,i){k=k||0;i=i==null?5:i;l=l==null?"$9.99":l;var h=0.5522*i,g=this.set(),j=3;g.push(this.path().attr({fill:"#000",stroke:"#000"}));g.push(this.text(f,m,l).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));g.update=function(){this.rotate(0,f,m);var o=this[1].getBBox();if(o.height>=i*2){this[0].attr({path:["M",f,m+i,"a",i,i,0,1,1,0,-i*2,i,i,0,1,1,0,i*2,"m",0,-i*2-j,"a",i+j,i+j,0,1,0,0,(i+j)*2,"L",f+i+j,m+o.height/2+j,"l",o.width+2*j,0,0,-o.height-2*j,-o.width-2*j,0,"L",f,m-i-j].join(",")})}else{var n=Math.sqrt(Math.pow(i+j,2)-Math.pow(o.height/2+j,2));this[0].attr({path:["M",f,m+i,"c",-h,0,-i,h-i,-i,-i,0,-h,i-h,-i,i,-i,h,0,i,i-h,i,i,0,h,h-i,i,-i,i,"M",f+n,m-o.height/2-j,"a",i+j,i+j,0,1,0,0,o.height+2*j,"l",i+j-n+o.width+2*j,0,0,-o.height-2*j,"L",f+n,m-o.height/2-j].join(",")})}this[1].attr({x:f+i+j+o.width/2,y:m});k=(360-k)%360;this.rotate(k,f,m);k>90&&k<270&&this[1].attr({x:f-i-j-o.width/2,y:m,rotation:[180+k,f,m]});return this};g.update();return g};Raphael.fn.g.popupit=function(l,k,m,g,t){g=g==null?2:g;t=t||5;l=Math.round(l);k=Math.round(k);var j=m.getBBox(),n=Math.round(j.width/2),i=Math.round(j.height/2),s=[0,n+t*2,0,-n-t*2],o=[-i*2-t*3,-i-t,0,-i-t],f=["M",l-s[g],k-o[g],"l",-t,(g==2)*-t,-a(n-t,0),0,"a",t,t,0,0,1,-t,-t,"l",0,-a(i-t,0),(g==3)*-t,-t,(g==3)*t,-t,0,-a(i-t,0),"a",t,t,0,0,1,t,-t,"l",a(n-t,0),0,t,!g*-t,t,!g*t,a(n-t,0),0,"a",t,t,0,0,1,t,t,"l",0,a(i-t,0),(g==1)*t,t,(g==1)*-t,t,0,a(i-t,0),"a",t,t,0,0,1,-t,t,"l",-a(n-t,0),0,"z"].join(","),q=[{x:l,y:k+t*2+i},{x:l-t*2-n,y:k},{x:l,y:k-t*2-i},{x:l+t*2+n,y:k}][g];m.translate(q.x-n-j.x,q.y-i-j.y);return this.path(f).attr({fill:"#000",stroke:"none"}).insertBefore(m.node?m:m[0])};Raphael.fn.g.popup=function(f,l,k,g,i){g=g==null?2:g>3?3:g;i=i||5;k=k||"$9.99";var h=this.set(),j=3;h.push(this.path().attr({fill:"#383",stroke:"#000"}));h.push(this.text(f,l,k).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));h.update=function(o,n,q){o=o||f;n=n||l;var t=this[1].getBBox(),u=t.width/2,s=t.height/2,y=[0,u+i*2,0,-u-i*2],v=[-s*2-i*3,-s-i,0,-s-i],m=["M",o-y[g],n-v[g],"l",-i,(g==2)*-i,-a(u-i,0),0,"a",i,i,0,0,1,-i,-i,"l",0,-a(s-i,0),(g==3)*-i,-i,(g==3)*i,-i,0,-a(s-i,0),"a",i,i,0,0,1,i,-i,"l",a(u-i,0),0,i,!g*-i,i,!g*i,a(u-i,0),0,"a",i,i,0,0,1,i,i,"l",0,a(s-i,0),(g==1)*i,i,(g==1)*-i,i,0,a(s-i,0),"a",i,i,0,0,1,-i,i,"l",-a(u-i,0),0,"z"].join(","),x=[{x:o,y:n+i*2+s},{x:o-i*2-u,y:n},{x:o,y:n-i*2-s},{x:o+i*2+u,y:n}][g];x.path=m;if(q){this.animate(x,500,">")}else{this.attr(x)}return this};return h.update(f,l)};Raphael.fn.g.flag=function(f,k,j,i){i=i||0;j=j||"$9.99";var g=this.set(),h=3;g.push(this.path().attr({fill:"#000",stroke:"#000"}));g.push(this.text(f,k,j).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));g.update=function(l,o){this.rotate(0,l,o);var n=this[1].getBBox(),m=n.height/2;this[0].attr({path:["M",l,o,"l",m+h,-m-h,n.width+2*h,0,0,n.height+2*h,-n.width-2*h,0,"z"].join(",")});this[1].attr({x:l+m+h+n.width/2,y:o});i=360-i;this.rotate(i,l,o);i>90&&i<270&&this[1].attr({x:l-r-h-n.width/2,y:o,rotation:[180+i,l,o]});return this};return g.update(f,k)};Raphael.fn.g.label=function(f,i,h){var g=this.set();g.push(this.rect(f,i,10,10).attr({stroke:"none",fill:"#000"}));g.push(this.text(f,i,h).attr(this.g.txtattr).attr({fill:"#fff"}));g.update=function(){var k=this[1].getBBox(),j=c(k.width+10,k.height+10)/2;this[0].attr({x:k.x-j/2,y:k.y-j/2,width:k.width+j,height:k.height+j,r:j})};g.update();return g};Raphael.fn.g.labelit=function(h){var g=h.getBBox(),f=c(20,g.width+10,g.height+10)/2;return this.rect(g.x-f/2,g.y-f/2,g.width+f,g.height+f,f).attr({stroke:"none",fill:"#000"}).insertBefore(h.node?h:h[0])};Raphael.fn.g.drop=function(f,k,j,h,i){h=h||30;i=i||0;var g=this.set();g.push(this.path(["M",f,k,"l",h,0,"A",h*0.4,h*0.4,0,1,0,f+h*0.7,k-h*0.7,"z"]).attr({fill:"#000",stroke:"none",rotation:[22.5-i,f,k]}));i=(i+90)*Math.PI/180;g.push(this.text(f+h*Math.sin(i),k+h*Math.cos(i),j).attr(this.g.txtattr).attr({"font-size":h*12/30,fill:"#fff"}));g.drop=g[0];g.text=g[1];return g};Raphael.fn.g.blob=function(g,m,l,k,i){k=(+k+1?k:45)+90;i=i||12;var f=Math.PI/180,j=i*12/12;var h=this.set();h.push(this.path().attr({fill:"#000",stroke:"none"}));h.push(this.text(g+i*Math.sin((k)*f),m+i*Math.cos((k)*f)-j/2,l).attr(this.g.txtattr).attr({"font-size":j,fill:"#fff"}));h.update=function(t,s,y){t=t||g;s=s||m;var A=this[1].getBBox(),D=a(A.width+j,i*25/12),z=a(A.height+j,i*25/12),o=t+i*Math.sin((k-22.5)*f),B=s+i*Math.cos((k-22.5)*f),q=t+i*Math.sin((k+22.5)*f),C=s+i*Math.cos((k+22.5)*f),F=(q-o)/2,E=(C-B)/2,p=D/2,n=z/2,x=-Math.sqrt(Math.abs(p*p*n*n-p*p*E*E-n*n*F*F)/(p*p*E*E+n*n*F*F)),v=x*p*E/n+(q+o)/2,u=x*-n*F/p+(C+B)/2;if(y){this.animate({x:v,y:u,path:["M",g,m,"L",q,C,"A",p,n,0,1,1,o,B,"z"].join(",")},500,">")}else{this.attr({x:v,y:u,path:["M",g,m,"L",q,C,"A",p,n,0,1,1,o,B,"z"].join(",")})}return this};h.update(g,m);return h};Raphael.fn.g.colorValue=function(i,h,g,f){return"hsb("+[c((1-i/h)*0.4,1),g||0.75,f||0.75]+")"};Raphael.fn.g.snapEnds=function(n,o,m){var k=n,p=o;if(k==p){return{from:k,to:p,power:0}}function q(f){return Math.abs(f-0.5)<0.25?~~(f)+0.5:Math.round(f)}var l=(p-k)/m,g=~~(l),j=g,h=0;if(g){while(j){h--;j=~~(l*Math.pow(10,h))/Math.pow(10,h)}h++}else{while(!g){h=h||1;g=~~(l*Math.pow(10,h))/Math.pow(10,h);h++}h&&h--}p=q(o*Math.pow(10,h))/Math.pow(10,h);if(p<o){p=q((o+0.5)*Math.pow(10,h))/Math.pow(10,h)}k=q((n-(h>0?0:0.5))*Math.pow(10,h))/Math.pow(10,h);return{from:k,to:p,power:h}};Raphael.fn.g.axis=function(v,u,o,G,l,J,m,L,n,g){g=g==null?2:g;n=n||"t";J=J||10;var F=n=="|"||n==" "?["M",v+0.5,u,"l",0,0.001]:m==1||m==3?["M",v+0.5,u,"l",0,-o]:["M",v,u+0.5,"l",o,0],z=this.g.snapEnds(G,l,J),K=z.from,B=z.to,I=z.power,H=0,C=this.set();d=(B-K)/J;var s=K,q=I>0?I:0;w=o/J;if(+m==1||+m==3){var h=u,A=(m-1?1:-1)*(g+3+!!(m-1));while(h>=u-o){n!="-"&&n!=" "&&(F=F.concat(["M",v-(n=="+"||n=="|"?g:!(m-1)*g*2),h+0.5,"l",g*2+1,0]));C.push(this.text(v+A,h,(L&&L[H++])||(Math.round(s)==s?s:+s.toFixed(q))).attr(this.g.txtattr).attr({"text-anchor":m-1?"start":"end"}));s+=d;h-=w}if(Math.round(h+w-(u-o))){n!="-"&&n!=" "&&(F=F.concat(["M",v-(n=="+"||n=="|"?g:!(m-1)*g*2),u-o+0.5,"l",g*2+1,0]));C.push(this.text(v+A,u-o,(L&&L[H])||(Math.round(s)==s?s:+s.toFixed(q))).attr(this.g.txtattr).attr({"text-anchor":m-1?"start":"end"}))}}else{s=K;q=(I>0)*I;A=(m?-1:1)*(g+9+!m);var k=v,w=o/J,D=0,E=0;while(k<=v+o){n!="-"&&n!=" "&&(F=F.concat(["M",k+0.5,u-(n=="+"?g:!!m*g*2),"l",0,g*2+1]));C.push(D=this.text(k,u+A,(L&&L[H++])||(Math.round(s)==s?s:+s.toFixed(q))).attr(this.g.txtattr));var p=D.getBBox();if(E>=p.x-5){C.pop(C.length-1).remove()}else{E=p.x+p.width}s+=d;k+=w}if(Math.round(k-w-v-o)){n!="-"&&n!=" "&&(F=F.concat(["M",v+o+0.5,u-(n=="+"?g:!!m*g*2),"l",0,g*2+1]));C.push(this.text(v+o,u+A,(L&&L[H])||(Math.round(s)==s?s:+s.toFixed(q))).attr(this.g.txtattr))}}var M=this.path(F);M.text=C;M.all=this.set([M,C]);M.remove=function(){this.text.remove();this.constructor.prototype.remove.call(this)};return M};Raphael.el.lighter=function(g){g=g||2;var f=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[f[0],f[1]];f[0]=Raphael.rgb2hsb(Raphael.getRGB(f[0]).hex);f[1]=Raphael.rgb2hsb(Raphael.getRGB(f[1]).hex);f[0].b=c(f[0].b*g,1);f[0].s=f[0].s/g;f[1].b=c(f[1].b*g,1);f[1].s=f[1].s/g;this.attr({fill:"hsb("+[f[0].h,f[0].s,f[0].b]+")",stroke:"hsb("+[f[1].h,f[1].s,f[1].b]+")"})};Raphael.el.darker=function(g){g=g||2;var f=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[f[0],f[1]];f[0]=Raphael.rgb2hsb(Raphael.getRGB(f[0]).hex);f[1]=Raphael.rgb2hsb(Raphael.getRGB(f[1]).hex);f[0].s=c(f[0].s*g,1);f[0].b=f[0].b/g;f[1].s=c(f[1].s*g,1);f[1].b=f[1].b/g;this.attr({fill:"hsb("+[f[0].h,f[0].s,f[0].b]+")",stroke:"hsb("+[f[1].h,f[1].s,f[1].b]+")"})};Raphael.el.original=function(){if(this.fs){this.attr({fill:this.fs[0],stroke:this.fs[1]});delete this.fs}}})();Raphael.fn.g.piechart=function(g,f,u,c,t,o,B){o=o||{};var n=this,q=[],k=this.set(),s=this.set(),m=this.set(),y=[],A=c.length,C=0,G=0,F=0,e=24,D=true;s.covers=k;var j=B.nextFallbackColor();for(var z=0;z<t.length;z++){t[z]={label:o.legend[A+z],value:t[z].value,order:z,name:t[z].name,abbreviation:t[z].abbreviation,abbreviationForeground:t[z].abbreviationForeground,popUpLabel:t[z].popUpLabel,color:t[z].color,identifier:t[z].identifier,valueOf:function(){return this.value}}}if(A==1){c[0]={value:c[0].value,order:0,name:c[0].name,abbreviation:c[0].abbreviation,abbreviationForeground:c[0].abbreviationForeground,popUpLabel:c[0].popUpLabel,color:c[0].color,identifier:c[0].identifier,valueOf:function(){return this.value}};m.push(this.circle(g,f,u).attr({fill:c[0].color||j(),stroke:o.stroke||"#fff","stroke-width":o.strokewidth==null?1:o.strokewidth}));k.push(this.circle(g,f,u).attr(this.g.shim));G=c[0].value;m[0].middle={x:g,y:f};m[0].mangle=180;m[0].value=c[0];if(B.sectorAbbrevShow){var b={fill:c[0].abbreviationForeground||B.sectorAbbrevForeground};var E=B.sectorAbbrevFont;n.text(g,f,c[0].abbreviation).attr(E).attr(b)}}else{function x(L,K,i,N,J,S){var P=Math.PI/180,H=L+i*Math.cos(-N*P),p=L+i*Math.cos(-J*P),M=L+i/2*Math.cos(-(N+(J-N)/2)*P),R=K+i*Math.sin(-N*P),Q=K+i*Math.sin(-J*P),I=K+i/2*Math.sin(-(N+(J-N)/2)*P),O=["M",L,K,"L",H,R,"A",i,i,0,+(Math.abs(J-N)>180),1,p,Q,"z"];O.middle={x:M,y:I};return O}for(var z=0;z<A;z++){G+=c[z].value;c[z]={value:c[z].value,order:z,name:c[z].name,abbreviation:c[z].abbreviation,abbreviationForeground:c[z].abbreviationForeground,popUpLabel:c[z].popUpLabel,color:c[z].color,identifier:c[z].identifier,valueOf:function(){return this.value}}}if(B.doClientSorting){c.sort(function(p,i){return i.value-p.value});for(z=0;z<A;z++){if(D&&c[z].value!=0&&c[z].value*360/G<=1.5){e=z;D=false}if(z>e){D=false;c[e].value+=c[z];c[e].others=true;F=c[e].value}}}A=Math.min(e+1,c.length);F&&c.splice(A)&&(c[e].others=true);for(z=0;z<A;z++){var h=C-360*c[z].value/G/2;if(!z){C=90-h;h=C-360*c[z].value/G/2}if(o.init){var l=x(g,f,1,C,C-360*c[z].value/G).join(",")}var w=x(g,f,u,C,C-=360*c[z].value/G);var v=this.path(o.init?l:w).attr({fill:c[z].color||j(),stroke:o.stroke||"#fff","stroke-width":(o.strokewidth==null?1:o.strokewidth),"stroke-linejoin":"round"});v.value=c[z];v.middle=w.middle;v.mangle=h;q.push(v);m.push(v);o.init&&v.animate({path:w.join(",")},(+o.init-1)||B.animationDuration,">");if(B.sectorAbbrevShow){var b={fill:c[z].abbreviationForeground||B.sectorAbbrevForeground};var E=B.sectorAbbrevFont;n.text(v.middle.x,v.middle.y,c[z].abbreviation).attr(E).attr(b)}}for(z=0;z<A;z++){v=n.path(q[z].attr("path")).attr(this.g.shim);o.href&&o.href[z]&&v.attr({href:o.href[z]});v.attr=function(){};k.push(v);m.push(v)}}s.hover=function(J,H){H=H||function(){};var I=this;for(var p=0;p<A;p++){(function(K,L,i){var M={sector:K,cover:L,cx:g,cy:f,mx:K.middle.x,my:K.middle.y,mangle:K.mangle,r:u,value:c[i],total:G,label:I.labels&&I.labels[i]};L.mouseover(function(){J.call(M)}).mouseout(function(){H.call(M)})})(m[p],k[p],p)}return this};s.each=function(I){var H=this;for(var p=0;p<A;p++){(function(J,K,i){var L={sector:J,cover:K,cx:g,cy:f,x:J.middle.x,y:J.middle.y,mangle:J.mangle,r:u,value:c[i],total:G,label:H.labels&&H.labels[i]};I.call(L)})(m[p],k[p],p)}return this};s.click=function(I){var H=this;for(var p=0;p<A;p++){(function(J,K,i){var L={sector:J,cover:K,cx:g,cy:f,mx:J.middle.x,my:J.middle.y,mangle:J.mangle,r:u,value:c[i],total:G,label:H.labels&&H.labels[i]};K.click(function(){I.call(L)})})(m[p],k[p],p)}return this};s.inject=function(i){i.insertBefore(k[0])};var a=function(N,I,H,p){var R=g+u+u/5,Q=f,M=Q+10;N=N||[];p=(p&&p.toLowerCase&&p.toLowerCase())||"east";H=n.g.markers[H&&H.toLowerCase()]||"disc";s.labels=n.set();for(var L=0;L<A;L++){if(L<A){var S=m[L].attr("fill"),J=c[L].order,K;c[L].others&&(N[J]=I||"Others");N[J]=n.g.labelise(N[J],c[L],G);s.labels.push(n.set());s.labels[L].push(n.g[H](R+5,M,5).attr({fill:S,stroke:"none"}));s.labels[L].push(K=n.text(R+20,M,N[J]||c[J]).attr(B.legendFont||n.g.txtattr).attr({fill:o.legendcolor||"#000","text-anchor":"start"}));k[L].label=s.labels[L];M+=K.getBBox().height*B.legendGapFactor}}if(!B.legendHideZeroValues){for(var L=0;L<t.length;L++){var S=t[L].color||j(),K;N[A+L]=n.g.labelise(t[L].label,t[L],(G===0?1:G));s.labels.push(n.set());s.labels[A+L].push(n.g[H](R+5,M,5).attr({fill:S,stroke:"none"}));s.labels[A+L].push(K=n.text(R+20,M,N[A+L]||0).attr(B.legendFont||n.g.txtattr).attr({fill:o.legendcolor||"#000","text-anchor":"start"}));M+=K.getBBox().height*B.legendGapFactor}}var O=s.labels.getBBox(),P={east:[0,-O.height/2],west:[-O.width-2*u-20,-O.height/2],north:[-u-O.width/2,-u-O.height-10],south:[-u-O.width/2,u+10]}[p];s.labels.translate.apply(s.labels,P);s.push(s.labels)};if(o.legend){a(o.legend,o.legendothers,o.legendmark,o.legendpos)}s.push(m,k);s.series=m;s.covers=k;return s};Raphael.fn.g.barchart=function(G,E,a,e,S,A,z){A=A||{};var T={round:"round",sharp:"sharp",soft:"soft"}[A.type]||"square",p=parseFloat(A.gutter||"20%"),Q=this.set(),B=this.set(),f=this.set(),v=this.set(),C=Math.max.apply(Math,this.exx.getAllValues(z)),R=[],c=this,F=0,J=A.colors||this.g.colors,u=z.barValues.length,m=z.barValues;for(var O=0;O<m.length;O++){for(var N=0;N<m[O].length;N++){if(m[O][N]===null){m[O][N]=new exxcellent.model.Bar(0,null,null,null)}}}if(this.raphael.is(m[0],"array")){C=[];F=u;u=0;for(var O=m.length;O--;){B.push(this.set());C.push(Math.max.apply(Math,this.exx.getSpecifiedBarValues(z,O)));u=Math.max(u,m[O].length)}for(var O=m.length;O--;){if(m[O].length<u){for(var N=u-m[O].length;N--;){m[O].push(new exxcellent.model.Bar(0))}}}if(A.stacked){for(var O=u;O--;){var n=0;for(var N=m.length;N--;){n+=+m[N][O].value||0}R.push(n)}}C=Math.max.apply(Math,A.stacked?R:C)}C=(A.to)||C;var H=a/(u*(100+p)+p)*100,b=H*p/100,k=A.vgutter==null?20:A.vgutter,w=[],l=G+b,g=(e-2*k)/C;if(!A.stretch){b=Math.round(b);H=Math.floor(H)}!A.stacked&&(H/=F||1);for(var O=0;O<u;O++){w=[];for(var N=0;N<(F||1);N++){var P=Math.round((F?m[N][O].value:S[O])*g),o=E+e-k-P,L=this.g.finger(Math.round(l+H/2),o+P,H,P,true,T).attr({stroke:"none",fill:m[N][O].color?m[N][O].color:(J[F?N:O])});if(F){B[N].push(L)}else{B.push(L)}L.y=o;L.x=Math.round(l+H/2);L.w=H;L.h=P;L.value=F?m[N][O].value:S[O];L.Bar=m[N][O];if(!A.stacked){l+=H}else{w.push(L)}}if(A.stacked){var M;v.push(M=this.rect(w[0].x-w[0].w/2,E,H,e).attr(this.g.shim));M.bars=this.set();var q=0;for(var I=w.length;I--;){w[I].toFront()}for(var I=0,t=w.length;I<t;I++){var L=w[I],D,P=(q+L.value)*g,K=this.g.finger(L.x,E+e-k-!!q*0.5,H,P,true,T,1);M.bars.push(L);q&&L.attr({path:K});L.h=P;L.y=E+e-k-!!q*0.5-P;f.push(D=this.rect(L.x-L.w/2,L.y,H,L.value*g).attr(this.g.shim));if(A.showTooltip){D.attr({title:L.Bar.label})}D.bar=L;D.value=L.value;q+=L.value}l+=H}l+=b}v.toFront();l=G+b;if(!A.stacked){for(var O=0;O<u;O++){for(var N=0;N<(F||1);N++){var D;f.push(D=this.rect(Math.round(l),E+k,H,e-k).attr(this.g.shim));L=F?B[N][O]:B[O];if(A.showTooltip){D.attr({title:L.Bar.label})}D.bar=L;D.value=D.bar.value;l+=H}l+=b}}Q.label=function(y,W){y=y||[];this.labels=c.set();var X,h=-Infinity;if(A.stacked){for(var x=0;x<u;x++){var U=0;for(var s=0;s<(F||1);s++){U+=F?S[s][x]:S[x];if(s==F-1){var Y=c.g.labelise(y[x],U,C);X=c.g.text(B[x*(F||1)+s].x,E+e-k/2,Y).insertBefore(f[x*(F||1)+s]);var V=X.getBBox();if(V.x-7<h){X.remove()}else{this.labels.push(X);h=V.x+V.width}}}}}else{for(var x=0;x<u;x++){for(var s=0;s<(F||1);s++){var Y=c.g.labelise(F?y[s]&&y[s][x]:y[x],F?S[s][x]:S[x],C);X=c.g.text(B[x*(F||1)+s].x,W?E+e-k/2:B[x*(F||1)+s].y-10,Y).insertBefore(f[x*(F||1)+s]);var V=X.getBBox();if(V.x-7<h){X.remove()}else{this.labels.push(X);h=V.x+V.width}}}}return this};Q.hover=function(i,h){v.hide();f.show();f.mouseover(i).mouseout(h);return this};Q.hoverColumn=function(i,h){f.hide();v.show();h=h||function(){};v.mouseover(i).mouseout(h);return this};Q.click=function(h){v.hide();f.show();f.click(h);return this};Q.each=function(j){if(!Raphael.is(j,"function")){return this}for(var h=f.length;h--;){j.call(f[h])}return this};Q.eachColumn=function(j){if(!Raphael.is(j,"function")){return this}for(var h=v.length;h--;){j.call(v[h])}return this};Q.clickColumn=function(h){f.hide();v.show();v.click(h);return this};Q.push(B,f,v);Q.bars=B;Q.covers=f;return Q};Raphael.fn.g.hbarchart=function(E,C,a,c,P,u,t){u=u||{};var Q={round:"round",sharp:"sharp",soft:"soft"}[u.type]||"square",l=parseFloat(u.gutter||"20%"),N=this.set(),w=this.set(),e=this.set(),p=this.set(),z=Math.max.apply(Math,this.exx.getAllValues(t)),O=[],b=this,D=0,G=u.colors||this.g.colors,o=t.barValues.length,h=t.barValues;for(var M=0;M<h.length;M++){for(var L=0;L<h[M].length;L++){if(h[M][L]===null){h[M][L]=new exxcellent.model.Bar(0,null,null,null)}}}if(this.raphael.is(h[0],"array")){z=[];D=o;o=0;for(var M=h.length;M--;){w.push(this.set());z.push(Math.max.apply(Math,this.exx.getSpecifiedBarValues(t,M)));o=Math.max(o,h[M].length)}for(var M=h.length;M--;){if(h[M].length<o){for(var L=o-h[M].length;L--;){h[M].push(new exxcellent.model.Bar(0))}}}if(u.stacked){for(var M=o;M--;){var k=0;for(var L=h.length;L--;){k+=+h[L][M].value||0}O.push(k)}}z=Math.max.apply(Math,u.stacked?O:z)}z=(u.to)||z;var B=Math.floor(c/(o*(100+l)+l)*100),H=Math.floor(B*l/100),q=[],f=C+H,g=(a-1)/z;!u.stacked&&(B/=D||1);for(var M=0;M<o;M++){q=[];for(var L=0;L<(D||1);L++){var v=D?h[L][M].value:P[M],J=this.g.finger(E,f+B/2,Math.round(v*g),B-1,false,Q).attr({stroke:"none",fill:h[L][M].color?h[L][M].color:(G[D?L:M])});if(D){w[L].push(J)}else{w.push(J)}J.x=E+Math.round(v*g);J.y=f+B/2;J.w=Math.round(v*g);J.h=B;J.value=+v;J.Bar=h[L][M];if(!u.stacked){f+=B}else{q.push(J)}}if(u.stacked){var K=this.rect(E,q[0].y-q[0].h/2,a,B).attr(this.g.shim);p.push(K);K.bars=this.set();var m=0;for(var F=q.length;F--;){q[F].toFront()}for(var F=0,n=q.length;F<n;F++){var J=q[F],A,v=Math.round((m+J.value)*g),I=this.g.finger(E,J.y,v,B-1,false,Q,1);K.bars.push(J);m&&J.attr({path:I});J.w=v;J.x=E+v;e.push(A=this.rect(E+m*g,J.y-J.h/2,J.value*g,B).attr(this.g.shim));if(u.showTooltip){A.attr({title:J.Bar.label})}A.bar=J;m+=J.value}f+=B}f+=H}p.toFront();f=C+H;if(!u.stacked){for(var M=0;M<o;M++){for(var L=0;L<(D||1);L++){var A=this.rect(E,f,a,B).attr(this.g.shim);e.push(A);J=D?w[L][M]:w[M];if(u.showTooltip){A.attr({title:J.Bar.label})}A.bar=J;A.value=A.bar.value;f+=B}f+=H}}N.label=function(V,T){V=V||[];this.labels=b.set();for(var S=0;S<o;S++){for(var R=0;R<D;R++){var y=b.g.labelise(D?V[R]&&V[R][S]:V[S],D?P[R][S]:P[S],z);var U=T?w[S*(D||1)+R].x-B/2+3:E+5,x=T?"end":"start",s;this.labels.push(s=b.g.text(U,w[S*(D||1)+R].y,y).attr({"text-anchor":x}).insertBefore(e[0]));if(s.getBBox().x<E+5){s.attr({x:E+5,"text-anchor":"start"})}else{w[S*(D||1)+R].label=s}}}return this};N.hover=function(j,i){p.hide();e.show();i=i||function(){};e.mouseover(j).mouseout(i);return this};N.hoverColumn=function(j,i){e.hide();p.show();i=i||function(){};p.mouseover(j).mouseout(i);return this};N.each=function(s){if(!Raphael.is(s,"function")){return this}for(var j=e.length;j--;){s.call(e[j])}return this};N.eachColumn=function(s){if(!Raphael.is(s,"function")){return this}for(var j=p.length;j--;){s.call(p[j])}return this};N.click=function(i){p.hide();e.show();e.click(i);return this};N.clickColumn=function(i){e.hide();p.show();p.click(i);return this};N.push(w,e,p);N.bars=w;N.covers=e;return N};(function(){Raphael.fn.exx=Raphael.fn.exx||{};Raphael.fn.exx.drawGrid=function(u,h,m,g){u=u||0;h=h||0;var s=m.getWidth()||200;var j=m.getHeight()||100;var b=m.getXaxisSectors()||10;var a=m.getYaxisSectors()||10;var p=m.getGridColor()||"#000";var v=m.getForeground()||"#000";var t=m.getAxisFont()||null;var n=["M",Math.round(u)+0.5,Math.round(h)+0.5,"L",Math.round(u+s)+0.5,Math.round(h)+0.5,Math.round(u+s)+0.5,Math.round(h+j)+0.5,Math.round(u)+0.5,Math.round(h+j)+0.5,Math.round(u)+0.5,Math.round(h)+0.5],c=j/a,f=s/b;for(var q=1;q<a;q++){n=n.concat(["M",Math.round(u)+0.5,Math.round(h+q*c)+0.5,"H",Math.round(u+s)+0.5])}for(q=1;q<b;q++){n=n.concat(["M",Math.round(u+q*f)+0.5,Math.round(h)+0.5,"V",Math.round(h+j)+0.5])}if(!g||!g.xAxisValues){var l=m.getXscaleMax()/b;for(var q=0;q<=b;q++){this.text((s/b)*q+u,j+h+15,Math.round(l*q)).attr({fill:v}).attr(t)}}else{var e=g.xAxisValues;for(var q=0;q<e.length;q++){this.text((s/(e.length-1))*q+u,j+h+15,e[q]).attr({fill:v}).attr(t)}}if(!g||!g.yAxisValues){var k=m.getYscaleMax()/a;for(var q=0;q<=a;q++){this.text(u-20,(j/a)*q+h,Math.round(k*(a-q))).attr({fill:v}).attr(t)}}else{var o=g.yAxisValues;for(var q=0;q<o.length;q++){this.text(u-20,(j/(o.length-1))*q+h,o[o.length-q-1]).attr({fill:v}).attr(t)}}return this.path(n.join(",")).attr({stroke:p})};Raphael.fn.exx.drawLine=function(v,z,O,E,I){var g=this;var o=E.getWidth();var T=E.getHeight();var l=o/E.getXscaleMax();var R=T/E.getYscaleMax();var w=E.getLineColor();var h=E.getDotColor();var f=E.isShowPopup();var q=E.fillChart;var p=E.getInterpolation()||"linear";var K=E.getPopupBackground()||"#000";var Q=E.getPopupBorderColor()||"#666";var G=E.getPopupForeground()||"#fff";var F=E.getPopupFont()||{font:"10px Helvetica, Arial"};function n(a){return a.x*l}function m(a){return a.y*R}function N(x,i,ae,ac,Z,Y){var W=(ae-x)/2;var y=(Z-ae)/2;var af=Math.atan((ae-x)/Math.abs(ac-i));var ad=Math.atan((Z-ae)/Math.abs(ac-Y));af=i<ac?Math.PI-af:af;ad=Y<ac?Math.PI-ad:ad;var X=Math.PI/2-((af+ad)%(Math.PI*2))/2;var ah=W*Math.sin(X+af);var ab=W*Math.cos(X+af);var ag=y*Math.sin(X+ad);var aa=y*Math.cos(X+ad);return{x1:ae-ah,y1:ac+ab,x2:ae+ag,y2:ac+aa}}var P=g.path().attr({stroke:w,"stroke-width":4,"stroke-linejoin":"round"});var k=g.path().attr({stroke:"none",opacity:0.3,fill:w});var u={fill:G};var A;var e=false;var b=g.set();var c;var C;for(var S=0,D=O.length;S<D;S++){var H=Math.round(T+z-m(O[S]));var J=Math.round(v+n(O[S]));var V=g.circle(J,H,4).attr({fill:h,stroke:w,"stroke-width":2});if(S===0){c=["M",J,H,"C",J,H];C=["M",v+o,T+z,"L",J,T+z,"L",J,H,"C",J,H]}if(S&&S<D-1){var t=Math.round(T+z-m(O[S-1]));var M=Math.round(v+n(O[S-1]));var s=Math.round(T+z-m(O[S+1]));var L=Math.round(v+n(O[S+1]));var U=N(M,t,J,H,L,s);var j=0;if(p=="bezier"){c=c.concat([U.x1,U.y1,J+j,H,U.x2,U.y2]);C=C.concat([U.x1,U.y1,J+j,H,U.x2,U.y2])}else{if(p=="linear"){c=c.concat([J+j,H,J+j,H,J+j,H]);C=C.concat([J+j,H,J+j,H,J+j,H])}else{if(p=="none"){C=C.concat([J+j,H,J+j,H,J+j,H])}}}}b.push(g.rect(J-20,H-20,40,40).attr({stroke:"none",fill:"#fff",opacity:0}));var B=b[b.length-1];if(f){(function(a,Y,X,i){var W=o;B.hover(function(){var x="top";if(Y<40){x="bottom"}if(a<40){x=x+"-left"}else{if(a>(W-40)){x=x+"-right"}}this.popUpLabel=g.text(0,0,X.label).attr(u).attr(F);this.popUp=g.popup(a,Y,this.popUpLabel,x).attr({fill:K,stroke:Q,"stroke-width":2,"fill-opacity":0.7});i.attr("r",6);e=true},function(){this.popUpLabel.hide();this.popUp.hide();i.attr("r",4)})})(J,H,O[S],V)}(function(i,a){B.click(function(){I.call(i)})})(O[S],V)}if(p!="none"){c=c.concat([J,H,J,H])}C=C.concat([J,H,J,H,"L",J,T+z,"z"]);P.attr({path:c});if(q){k.attr({path:C})}b.toFront();return g};Raphael.fn.exx.getAllValues=function(c){var e=new Array();for(var b=0;b<c.barValues.length;b++){for(var a=0;a<c.barValues[b].length;a++){if(c.barValues[b][a]){e.push(c.barValues[b][a].value)}}}return e};Raphael.fn.exx.getSpecifiedBarValues=function(c,a){var e=new Array();for(var b=0;b<c.barValues[a].length;b++){if(c.barValues[a][b]){e.push(c.barValues[a][b].value)}else{e.push(0)}}return e}})();Raphael.fn.exx.linechart=function(a,f,j,k){var e=30;var b=10;if(f.isDrawGrid()){this.exx.drawGrid(e,b,f,j)}var h=[];for(var c=0;c<a.points.length;c++){var g=new Object();g.x=a.points[c].xValue;g.y=a.points[c].yValue;g.label=a.points[c].label;g.identifier=a.points[c].identifier;h=h.concat(g)}var l=this.exx.drawLine(e,b,h,f,k)};exxcellent.BarChart=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.BarChart",this)},$static:{WIDTH:"width",HEIGHT:"height",BACKGROUND:"background",XGAP:"xgap",YGAP:"ygap",BAR_ALIGNMENT:"barAlignment",HEAD_TYPE:"headType",STACKED:"stacked",SHOW_POPUP:"showPopup",POPUP_BACKGROUND:"popupBackground",POPUP_BORDER_COLOR:"popupBorderColor",POPUP_FOREGROUND:"popupForeground",POPUP_FONT:"popupFont",SHOW_TOOLTIP:"showTooltip",AUTO_ADJUST_POPUP:"autoAdjustPopup",BAR_CHART_MODEL:"barChartModel",BAR_SELECTION:"barSelection"},componentType:"exxcellent.BarChart",doSelectBar:function(a){this.fireEvent({type:exxcellent.BarChart.BAR_SELECTION,source:this,data:a})}});exxcellent.model.BarChartModel=Core.extend({barValues:null,$construct:function(a){this.barValues=a},toString:function(){return"I am a BAR-Chart"}});exxcellent.model.Bar=Core.extend({value:null,identifier:null,label:"",color:null,$construct:function(e,c,b,a){this.value=e;this.label=c;this.identifier=b;this.color=a},toString:function(){return"Label:"+this.label+" value:"+this.value+" color:"+this.color+" identifier:"+this.identifier}});exxcellent.model.BarChartLayout=Core.extend({barAlignment:"vertical",headType:"square",stacked:false,showPopup:true,popupBackground:"#000",popupBorderColor:"#666",popupForeground:"#fff",popupFont:null,showTooltip:false,autoAdjustPopup:false,width:100,height:100,xgap:1,ygap:1});exxcellent.BarChartSync=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("exxcellent.BarChart",this)},$static:{},_div:null,_raphael:null,renderAdd:function(c,a){this._div=document.createElement("div");var b=this.component.render(exxcellent.BarChart.BACKGROUND);if(b){this._div.style.background=b}a.appendChild(this._div)},renderDisplay:function(){var b=this;if(this._raphael){return}var a=this._getBarChartLayout();var c=this._getBarChartModel();if(!c){return}this._raphael=Raphael(this._div,a.width,a.height);var e=this._raphael;if(a.barAlignment=="horizontal"){this._raphael.g.hbarchart(a.xgap,a.ygap,a.width,a.height,null,{stacked:a.stacked,type:a.headType,vgutter:0,showTooltip:a.showTooltip},c).hover(this._fin(a,e),this._fout(a,e)).click(this._click(this,e))}else{if(a.barAlignment=="vertical"){this._raphael.g.barchart(a.xgap,a.ygap,a.width,a.height,null,{stacked:a.stacked,type:a.headType,vgutter:0,showTooltip:a.showTooltip},c).hover(this._fin(a,e),this._fout(a,e)).click(this._click(this,e))}}},renderDispose:function(a){this._div=null;this._raphael=null},renderUpdate:function(c){var a=this._div;this._raphael=null;var b=a.parentNode;Echo.Render.renderComponentDispose(c,c.parent);b.removeChild(a);this.renderAdd(c,b);return true},_fin:function(a,b){return function(){if(a.showPopup){var f="top";if(a.autoAdjustPopup){var h=(this.paper.canvas.clientWidth&&this.paper.canvas.clientWidth!==0)?this.paper.canvas.clientWidth:this.paper.width;var e=(this.paper.canvas.clientHeight&&this.paper.canvas.clientHeight!==0)?this.paper.canvas.clientHeight:this.paper.height;if(this.bar.x>h-50&&this.bar.y>e-50){f="top-right"}else{if(this.bar.x<50&&this.bar.y>e-50){f="top-left"}else{if(this.bar.x>h-50){f="bottom-right"}else{if(this.bar.x<50){f="bottom-left"}else{if(this.bar.y<50){f="bottom"}}}}}}var g={fill:a.popupForeground};var c=a.popupFont;this.popUpLabel=b.text(0,0,this.bar.Bar.label||"0").attr(g).attr(c);this.popUpBubble=b.popup(this.bar.x,this.bar.y,this.popUpLabel,f).attr({fill:a.popupBackground,stroke:a.popupBorderColor,"stroke-width":2,"fill-opacity":0.7})}}},_fout:function(a,b){return function(){if(a.showPopup){this.popUpLabel.animate({opacity:0},300,function(){this.remove()});this.popUpBubble.animate({opacity:0},300,function(){this.remove()})}}},_click:function(a,b){return function(){a.component.doSelectBar(this.bar.Bar.identifier)}},_getBarChartLayout:function(){var a=new exxcellent.model.BarChartLayout();a.width=this.component.render(exxcellent.BarChart.WIDTH)||100;a.height=this.component.render(exxcellent.BarChart.HEIGHT)||100;a.xgap=this.component.render(exxcellent.BarChart.XGAP)||1;a.ygap=this.component.render(exxcellent.BarChart.YGAP)||1;a.barAlignment=this.component.render(exxcellent.BarChart.BAR_ALIGNMENT)||"vertical";a.headType=this.component.render(exxcellent.BarChart.HEAD_TYPE)||"square";a.stacked=this.component.render(exxcellent.BarChart.STACKED)||false;a.showPopup=this.component.render(exxcellent.BarChart.SHOW_POPUP)||false;a.popupBackground=this.component.render(exxcellent.BarChart.POPUP_BACKGROUND)||"#000";a.popupBorderColor=this.component.render(exxcellent.BarChart.POPUP_BORDER_COLOR)||"#666";a.popupForeground=this.component.render(exxcellent.BarChart.POPUP_FOREGROUND)||"#fff";a.popupFont=this._renderFont(this.component.render(exxcellent.BarChart.POPUP_FONT))||{font:"10px Helvetica, Arial"};a.showTooltip=this.component.render(exxcellent.BarChart.SHOW_TOOLTIP)||false;a.autoAdjustPopup=this.component.render(exxcellent.BarChart.AUTO_ADJUST_POPUP)||false;return a},_getBarChartModel:function(){var a=this.component.render(exxcellent.BarChart.BAR_CHART_MODEL);if(a instanceof exxcellent.model.BarChartModel){return a}else{if(a){return this._fromJsonString(a).barChartModel}}},_fromJsonString:function(a){return JSON.parse(a)},_toJsonString:function(a){return JSON.stringify(a)},_renderFont:function(b){if(!b){return null}var c={style:{}};Echo.Sync.Font.render(b,c);var a=c.style;return{font:a.fontSize+" "+a.fontFamily,"font-family":a.fontFamily,"font-size":a.fontSize,"font-style":a.fontStyle}}});exxcellent.Block=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.Block",this)},componentType:"exxcellent.Block"});exxcellent.BlockSync=Core.extend(Echo.Sync.ArrayContainer,{$load:function(){Echo.Render.registerPeer("exxcellent.Block",this)},cellElementNodeName:"div",prevFocusKey:38,prevFocusFlag:Echo.Render.ComponentSync.FOCUS_PERMIT_ARROW_UP,nextFocusKey:40,nextFocusFlag:Echo.Render.ComponentSync.FOCUS_PERMIT_ARROW_DOWN,renderAdd:function(b,a){this.element=this.containerElement=document.createElement("div");this.element.id=this.component.renderId;this.element.style.outlineStyle="none";this.element.tabIndex="-1";Echo.Sync.renderComponentDefaults(this.component,this.element);Echo.Sync.Border.render(this.component.render("border"),this.element);Echo.Sync.Insets.render(this.component.render("insets"),this.element,"padding");this.cellSpacing=Echo.Sync.Extent.toPixels(this.component.render("cellSpacing"),false);if(this.cellSpacing){this.spacingPrototype=document.createElement("div");this.spacingPrototype.style.height=this.cellSpacing+"px";this.spacingPrototype.style.fontSize="1px";this.spacingPrototype.style.lineHeight="0"}this.renderAddChildren(b);a.appendChild(this.element)},renderChildLayoutData:function(c,a){var b=c.render("layoutData");if(b){Echo.Sync.Color.render(b.background,a,"backgroundColor");Echo.Sync.FillImage.render(b.backgroundImage,a);Echo.Sync.Insets.render(b.insets,a,"padding");Echo.Sync.Alignment.render(b.alignment,a,true,this.component);if(b.marginLeft){a.style.marginLeft=b.marginLeft}if(b.marginRight){a.style.marginRight=b.marginRight}if(b.marginTop){a.style.marginTop=b.marginTop}if(b.marginBottom){a.style.marginBottom=b.marginBottom}if(b.width){a.style.width=Echo.Sync.Extent.toPixels(b.width,false)+"px"}if(b.height){a.style.height=Echo.Sync.Extent.toPixels(b.height,false)+"px"}if(b.floating){a.style.cssFloat=b.floating;a.style.styleFloat=b.floating}}}});exxcellent.DatePicker=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.DatePicker",this)},$static:{TRIGGER_EVENT:"triggerEvent",NUMBER_OF_CALENDARS:"numberOfCalendars",DEFAULT_DATE:"defaultDate",LOCALE_MODEL:"localeModel",VIEW_MODE:"viewMode",SELECTION_MODE:"selectionMode",HIDE_ON_SELECT:"hideOnSelect",FLAT_MODE:"flatMode",POSITION:"position",CSS:"css",IMG_DATEPICKER_T:"DATEPICKER_T_IMG",IMG_DATEPICKER_B:"DATEPICKER_B_IMG",IMG_DATEPICKER_L:"DATEPICKER_L_IMG",IMG_DATEPICKER_R:"DATEPICKER_R_IMG",IMG_DATEPICKER_W:"DATEPICKER_W_IMG",IMG_DATEPICKER_X:"DATEPICKER_X_IMG",IMG_DATEPICKER_Y:"DATEPICKER_Y_IMG",IMG_DATEPICKER_Z:"DATEPICKER_Z_IMG",REGEX:"regex",TEXT:"text",MAX_LENGTH:"maximumLength",WIDTH:"width",EDITABLE:"editable",BORDER:"border",FOREGROUND:"foreground",DISABLED_FOREGROUND:"disabledForeground",BACKGROUND:"background",DISABLED_BACKGROUND:"disabledBackground",DISABLED_BORDER:"disabledBorder",FONT:"font",DISABLED_FONT:"disabledFont",BACKGROUND_IMG:"backgroundImage",DISABLED_BACKGROUND_IMG:"disabledBackgroundImage",ALIGNMENT:"alignment",INSETS:"insets",HEIGHT:"height",TOOLTIP_TEXT:"toolTipText"},componentType:"exxcellent.DatePicker",focusable:true,doAction:function(){this.fireEvent({type:"action",source:this,actionCommand:this.get("actionCommand")})}});exxcellent.model.LocaleModel=Core.extend({prevText:null,nextText:null,weekText:null,monthNames:null,monthNamesShort:null,dayNames:null,dayNamesShort:null,dayNamesMin:null,dateFormat:null,firstDay:null,$construct:function(g,k,e,f,i,c,j,h,b,a){this.prevText=g;this.nextText=k;this.weekText=e;this.monthNames=f;this.monthNamesShort=i;this.dayNames=c;this.dayNamesShort=j;this.dayNamesMin=h;this.dateFormat=b;this.firstDay=a},toString:function(){return this.monthNames}});exxcellent.DatePickerSync=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("exxcellent.DatePicker",this);Core.Web.Event.debugListenerCount=true},$static:{_supportedPartialProperties:["text","editable"]},_input:null,_datepicker:null,_renderRequired:null,percentWidth:false,_lastProcessedValue:null,_focused:false,renderAdd:function(e,a){if(window.console&&window.console.log){window.console.log("Adding div (renderAdd).")}this._input=document.createElement("input");this._input.id=this.component.renderId;if(!this.component.render(exxcellent.DatePicker.EDITABLE,true)){this._input.readOnly=true}this._input.type="text";var c=this.component.render(exxcellent.DatePicker.MAX_LENGTH,-1);if(c>=0){this._input.maxLength=c}this._renderStyle(this._input);Core.Web.Event.add(this._input,"focus",Core.method(this,this._processFocus),false);Core.Web.Event.add(this._input,"blur",Core.method(this,this._processBlur),false);Core.Web.Event.add(this._input,"keyup",Core.method(this,this._processKeyPresses),false);if(this.component.get(exxcellent.DatePicker.TEXT)){this._input.value=this.component.get(exxcellent.DatePicker.TEXT)}if(jQuery("#datepickerCss").length===0){var b=this._createStylesheet();jQuery("head").append('<style type="text/css" id="datepickerCss">'+b+"</style>")}this.renderAddToParent(a)},renderDisplay:function(){if(window.console&&window.console.log){window.console.log("Displaying DatePicker (renderDisplay()).")}var f=this.component.render(exxcellent.DatePicker.WIDTH);if(f&&Echo.Sync.Extent.isPercent(f)&&this._input.parentNode.offsetWidth){var c=this.component.render(exxcellent.DatePicker.BORDER);var e=c?(Echo.Sync.Border.getPixelSize(c,"left")+Echo.Sync.Border.getPixelSize(c,"right")):4;var a=this.component.render(exxcellent.DatePicker.INSETS);if(a){var g=Echo.Sync.Insets.toPixels(a);e+=g.left+g.right}if(Core.Web.Env.ENGINE_MSHTML){e+=1;if(this.container){this.container.style.width=this._adjustPercentWidth(parseInt(f,10),0,this._input.parentNode.offsetWidth)+"%"}else{}}else{if(Core.Web.Env.BROWSER_SAFARI&&this._input.nodeName.toLowerCase()=="input"){e+=1}else{if(Core.Web.Env.ENGINE_PRESTO){e+=1}}}this._input.style.width=this._adjustPercentWidth(parseInt(f,10),e,this._input.parentNode.offsetWidth)+"%"}if(!this._datepicker){if(window.console&&window.console.log){window.console.log("Creating new DatePicker (renderDisplay()).")}var b=this._renderOptions();this._datepicker=$(this._input).datePicker(b)}},renderUpdate:function(h){var c=!Core.Arrays.containsAll(exxcellent.DatePickerSync._supportedPartialProperties,h.getUpdatedPropertyNames(),true);if(c){var a=this.container?this.container:this._input;var g=a.parentNode;this.renderDispose(h);g.removeChild(a);this.renderAdd(h,g)}else{if(h.hasUpdatedProperties()){if(window.console&&window.console.log){window.console.log("Rendering update.")}var f=h.getUpdatedProperty("text");if(f){var e=!f.newValue?"":f.newValue;if(e!=this._lastProcessedValue){this._input.value=e;this._lastProcessedValue=e}}var b=h.getUpdatedProperty("editable");if(b){this._input.readOnly=!b.newValue;if(b.newValue){$(this._input).removeClass("datepickerDisabled")}else{$(this._input).addClass("datepickerDisabled")}}}}return false},renderDispose:function(a){Core.Web.Event.removeAll(this._input);if(this._datepicker){this._datepicker.pickerHide();this._datepicker.pickerDestroy()}this._focused=false;this._input=null;this._datepicker=null},renderAddToParent:function(a){if(Core.Web.Env.BROWSER_INTERNET_EXPLORER&&this.percentWidth){this.container=document.createElement("div");this.container.appendChild(this._input);a.appendChild(this.container)}else{a.appendChild(this._input)}},_adjustPercentWidth:function(a,e,b){var c=(100-(100*e/b))*a/100;return c>0?c:0},_renderStyle:function(){if(this.component.isRenderEnabled()){Echo.Sync.renderComponentDefaults(this.component,this._input);Echo.Sync.Border.render(this.component.render(exxcellent.DatePicker.BORDER),this._input);Echo.Sync.FillImage.render(this.component.render(exxcellent.DatePicker.BACKGROUND_IMG),this._input)}else{Echo.Sync.LayoutDirection.render(this.component.getLayoutDirection(),this._input);Echo.Sync.Color.render(Echo.Sync.getEffectProperty(this.component,exxcellent.DatePicker.FOREGROUND,exxcellent.DatePicker.DISABLED_FOREGROUND,true),this._input,"color");Echo.Sync.Color.render(Echo.Sync.getEffectProperty(this.component,exxcellent.DatePicker.BACKGROUND,exxcellent.DatePicker.DISABLED_BACKGROUND,true),this._input,"backgroundColor");Echo.Sync.Border.render(Echo.Sync.getEffectProperty(this.component,exxcellent.DatePicker.BORDER,exxcellent.DatePicker.DISABLED_BORDER,true),this._input);Echo.Sync.Font.render(Echo.Sync.getEffectProperty(this.component,exxcellent.DatePicker.FONT,exxcellent.DatePicker.DISABLED_FONT,true),this._input);Echo.Sync.FillImage.render(Echo.Sync.getEffectProperty(this.component,exxcellent.DatePicker.BACKGROUND_IMG,exxcellent.DatePicker.DISABLED_BACKGROUND_IMG,true),this._input)}Echo.Sync.Alignment.render(this.component.render(exxcellent.DatePicker.ALIGNMENT),this._input,false,null);Echo.Sync.Insets.render(this.component.render(exxcellent.DatePicker.INSETS),this._input,"padding");var b=this.component.render(exxcellent.DatePicker.WIDTH);this.percentWidth=Echo.Sync.Extent.isPercent(b);if(b){if(this.percentWidth){this._input.style.width="5px"}else{this._input.style.width=Echo.Sync.Extent.toCssValue(b,true)}}var a=this.component.render(exxcellent.DatePicker.HEIGHT);if(a){this._input.style.height=Echo.Sync.Extent.toCssValue(a,false)}var c=this.component.render(exxcellent.DatePicker.TOOLTIP_TEXT);if(c){this._input.title=c}},_renderOptions:function(){var a=this._getLocaleModel();return Object({eventName:this.component.render(exxcellent.DatePicker.TRIGGER_EVENT),onChange:this._onSelect,calendars:this.component.render(exxcellent.DatePicker.NUMBER_OF_CALENDARS),prev:a.prevText,next:a.nextText,start:a.firstDay,view:this.component.render(exxcellent.DatePicker.VIEW_MODE),mode:this.component.render(exxcellent.DatePicker.SELECTION_MODE),flat:this.component.render(exxcellent.DatePicker.FLAT_MODE),owner:this,position:this.component.render(exxcellent.DatePicker.POSITION),format:a.dateFormat,hideOnSelect:this.component.render(exxcellent.DatePicker.HIDE_ON_SELECT),locale:{days:a.dayNames,daysShort:a.dayNamesShort,daysMin:a.dayNamesMin,months:a.monthNames,monthsShort:a.monthNamesShort,weekMin:a.weekText}})},_getLocaleModel:function(){var a=this.component.render(exxcellent.DatePicker.LOCALE_MODEL);var b;if(a){if(a instanceof exxcellent.model.LocaleModel){b=a}else{if(a){b=this._fromJsonString(a).localeModel}}}return b},_fromJsonString:function(a){return JSON.parse(a)},_toJsonString:function(a){return JSON.stringify(a)},_createStylesheet:function(){var a=this.component.render(exxcellent.DatePicker.CSS);if(a){a=a.replace(/DATEPICKER_T/g,this.component.render(exxcellent.DatePicker.IMG_DATEPICKER_T));a=a.replace(/DATEPICKER_B/g,this.component.render(exxcellent.DatePicker.IMG_DATEPICKER_B));a=a.replace(/DATEPICKER_L/g,this.component.render(exxcellent.DatePicker.IMG_DATEPICKER_L));a=a.replace(/DATEPICKER_R/g,this.component.render(exxcellent.DatePicker.IMG_DATEPICKER_R));a=a.replace(/DATEPICKER_W/g,this.component.render(exxcellent.DatePicker.IMG_DATEPICKER_W));a=a.replace(/DATEPICKER_X/g,this.component.render(exxcellent.DatePicker.IMG_DATEPICKER_X));a=a.replace(/DATEPICKER_Y/g,this.component.render(exxcellent.DatePicker.IMG_DATEPICKER_Y));a=a.replace(/DATEPICKER_Z/g,this.component.render(exxcellent.DatePicker.IMG_DATEPICKER_Z))}return a},_onSelect:function(a,b){if(this._debug&&window.console&&window.console.log){window.console.log("OnSelect: "+formated+", "+b)}this._input.value=a;this._storeValue.call(this,null)},_processBlur:function(a){if(window.console&&window.console.log){window.console.log("_processBlur()")}this._focused=false;return this._storeValue()},_processKeyPresses:function(a){if(!this.client||!this.client.verifyInput(this.component)){return true}this._storeValue(a);if(this._datepicker){this._datepicker.pickerRemoteControl(a)}return true},_processFocus:function(a){if(window.console&&window.console.log){window.console.log("_processFocus()")}this._focused=true;if(!this.client||!this.component.isActive()){return true}this.client.application.setFocusedComponent(this.component)},getFocusFlags:function(){return Echo.Render.ComponentSync.FOCUS_PERMIT_ARROW_UP|Echo.Render.ComponentSync.FOCUS_PERMIT_ARROW_DOWN},renderFocus:function(){if(window.console&&window.console.log){window.console.log("renderFocus()")}Core.Web.DOM.focusElement(this._input)},_processRestrictionsClear:function(){if(!this.client){return}if(!this.client.verifyInput(this.component)||this._input.readOnly){this._input.value=this.component.get("text");return}this.component.set("text",this._input.value,true)},_storeValue:function(a){if(window.console&&window.console.log){window.console.log("_storeValue(), keyEvent: "+a+", inputValue: "+this._input.value+", lastValue: "+this._lastProcessedValue)}if(!this.client||!this.component.isActive()){if(a){Core.Web.DOM.preventEventDefault(a)}return}if(!this.client.verifyInput(this.component)){this.client.registerRestrictionListener(this.component,Core.method(this,this._processRestrictionsClear));return}this.component.set("text",this._input.value,true);this._lastProcessedValue=this._input.value;if(a&&13==a.keyCode){this.component.doAction()}},_doFilterValue:function(f){f=(f)?f:window.event;var c=(f.which)?f.which:f.keyCode;if((c<=31)||(c==37)||(c==39)){return true}if((f.metaKey||f.ctrlKey)&&(c==118)){return false}var b=this.component.render(exxcellent.DatePicker.REGEX);if(b){var a=this._getCaretPosition();var e=new RegExp(b);var g=this._input.value.substring(0,a)+String.fromCharCode(c)+this._input.value.substring(a);return e.test(g)}else{return true}},_getCaretPosition:function(){var a=(this._input.value)?this._input.value.length:0;if(document.selection){this._input.focus();var b=document.selection.createRange();var c=document.selection.createRange().text.length;b.moveStart("character",-this._input.value.length);a=b.text.length-c}else{if(this._input.selectionStart||this._input.selectionStart=="0"){a=this._input.selectionStart}}return a}});exxcellent.Expander=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.Expander",this)},$static:{HIDE_TEXT:"hideText",HIDE_IMAGE:"hideImage",SHOW_TXT:"showText",SHOW_IMAGE:"showImage",TITLE:"title",SPEED:"speed",ROLLOVER_BORDER:"rolloverBorder",ROLLOVER_FOREGROUND:"rolloverForeground",ROLLOVER_BACKGROUND:"rolloverBackground",ROLLOVER_BACKGROUND_IMAGE:"rolloverBackgroundImage",TITLE_FOREGROUND:"titleForeground",TITLE_FONT:"titleFont",TITLE_INSETS:"titleInsets",TITLE_POSITION:"titlePosition",HEADER_BACKGROUND:"headerBackground",HEADER_BACKGROUND_IMAGE:"headerBackgroundImage",HEADER_BORDER:"headerBorder",HEADER_HEIGHT:"headerHeight",HEADER_INSETS:"headerInsets",BORDER:"border",INSETS:"insets",ICON_TEXT_MARGIN_TOP:"iconTextMarginTop",ICON_TEXT_MARGIN:"iconTextMargin",ICON_TEXT_FOREGROUND:"iconTextForeground",ICON_TEXT_FONT:"iconTextFont",FOCUSED_BACKGROUND:"focusedBackground",FOCUSED_BACKGROUND_IMAGE:"focusedBackgroundImage",FOCUSED_BORDER:"focusedBorder",CONTENT_TOGGLED:"contentToggled",SHOW:"show",HEADER_HIDE:"headerHide"},componentType:"exxcellent.Expander",focusable:true,doContentToggled:function(a){this.fireEvent({type:exxcellent.Expander.CONTENT_TOGGLED,source:this,data:a})}});exxcellent.ExpanderSync=Core.extend(Echo.Render.ComponentSync,{$static:{DEFAULTS:{headerInsets:"0px",titleInsets:"0px",iconTextMarginRL:"5px",iconTextMarginTop:"10px",showInitially:true,headerHide:false},_supportedPartialProperties:[exxcellent.Expander.SHOW]},$load:function(){Echo.Render.registerPeer("exxcellent.Expander",this)},_div:null,_mDiv:null,_showDiv:null,_showRenderID:null,_hideDiv:null,_hideRenderID:null,_imgSpn:null,_txtDiv:null,_titleDiv:null,_shown:null,renderAdd:function(b,a){this._div=document.createElement("div");this._div.id=this.component.renderId;this._div.tabIndex="0";this._div.style.outlineStyle="none";this._div.style.overflow="hidden";Echo.Sync.renderComponentDefaults(this.component,this._div);Echo.Sync.Border.render(this.component.render(exxcellent.Expander.BORDER),this._div);Echo.Sync.Insets.render(this.component.render(exxcellent.Expander.INSETS),this._div,"padding");Core.Web.Event.add(this._div,"keydown",Core.method(this,this._processKeyPress),false);Core.Web.Event.add(this._div,"focus",Core.method(this,this._processFocus),false);Core.Web.Event.add(this._div,"blur",Core.method(this,this._processBlur),false);if(!this.component.render(exxcellent.Expander.HEADER_HIDE)){this._renderHeader(b)}this._renderChildren(b);a.appendChild(this._div)},_renderHeader:function(b){this._mDiv=document.createElement("div");this._mDiv.style.cursor="pointer";var c=this.component.render(exxcellent.Expander.HEADER_HEIGHT);Echo.Sync.Extent.render(c,this._mDiv,"height",false,false);Echo.Sync.Border.render(this.component.render(exxcellent.Expander.HEADER_BORDER),this._mDiv);Echo.Sync.Insets.render(this.component.render(exxcellent.Expander.HEADER_INSETS,exxcellent.ExpanderSync.DEFAULTS.headerInsets),this._mDiv,"padding");this._titleDiv=document.createElement("div");this._renderTitle(b);var h=this.component.render(exxcellent.Expander.TITLE_POSITION);this._titleDiv.style.cssFloat=h==="left"?"left":"right";this._titleDiv.style.styleFloat=h==="left"?"left":"right";function j(){this._rolloverHeader(true)}function f(){this._rolloverHeader(false)}Core.Web.Event.add(this._mDiv,"click",Core.method(this,this._toggleContent),false);Core.Web.Event.add(this._mDiv,"mouseover",Core.method(this,j),false);Core.Web.Event.add(this._mDiv,"mouseout",Core.method(this,f),false);var g=h==="left";this._txtDiv=document.createElement("div");this._txtDiv.style.cssFloat=g?"right":"left";this._txtDiv.style.styleFloat=g?"right":"left";var e=Echo.Sync.Extent.toCssValue(this.component.render(exxcellent.Expander.ICON_TEXT_MARGIN_TOP,exxcellent.ExpanderSync.DEFAULTS.iconTextMarginTop),false,false);var a=Echo.Sync.Extent.toCssValue(this.component.render(exxcellent.Expander.ICON_TEXT_MARGIN,exxcellent.ExpanderSync.DEFAULTS.iconTextMarginRL),true,false);this._txtDiv.style.margin=g?e+" "+a+" 0 0":e+" 0 0 "+a;Echo.Sync.Font.render(this.component.render(exxcellent.Expander.ICON_TEXT_FONT),this._txtDiv);Echo.Sync.Color.render(this.component.render(exxcellent.Expander.ICON_TEXT_FOREGROUND),this._txtDiv,"color");var i=document.createElement("div");i.style.cssFloat=g?"right":"left";i.style.styleFloat=g?"right":"left";i.style.margin=e+" 0 0 0";this._imgSpn=document.createElement("span");this._imgSpn.style.display="block";this._imgSpn.style.width="10px";this._imgSpn.style.height="10px";this._imgSpn.style.margin="0 0 -5px 0";i.appendChild(this._imgSpn);this._mDiv.appendChild(this._titleDiv);this._mDiv.appendChild(i);this._mDiv.appendChild(this._txtDiv);this._div.appendChild(this._mDiv);$(this._txtDiv).hide();this._rolloverHeader(false)},_renderTitle:function(c){var a=this.component.getComponent(2);if(!a){var b=this.component.render(exxcellent.Expander.TITLE);this._titleDiv.appendChild(document.createTextNode(b));Echo.Sync.Insets.render(this.component.render(exxcellent.Expander.TITLE_INSETS,exxcellent.ExpanderSync.DEFAULTS.titleInsets),this._titleDiv,"padding");Echo.Sync.Font.render(this.component.render(exxcellent.Expander.TITLE_FONT),this._titleDiv);Echo.Sync.Color.render(this.component.render(exxcellent.Expander.TITLE_FOREGROUND),this._titleDiv,"color")}else{this._renderContent(a,this._titleDiv,c,this._div)}},_renderChildren:function(e){this._showDiv=document.createElement("div");this._showDiv.style.overflow="auto";this._showDiv.style.clear="both";this._hideDiv=document.createElement("div");var b=this.component.render(exxcellent.Expander.SHOW,exxcellent.ExpanderSync.DEFAULTS.showInitially);var c=this.component.getComponent(0);this._renderContent(c,this._showDiv,e,this._div);this._showRenderID=c.renderId;if(this.component.getComponentCount()>1){var a=this.component.getComponent(1);this._renderContent(a,this._hideDiv,e,this._div);this._hideRenderID=a.renderId;if(!b){$(this._showDiv).hide()}else{$(this._hideDiv).hide()}}else{if(!b){$(this._showDiv).hide()}}this._shown=b;this._toggleHeader(b)},_rolloverHeader:function(a){var e=Echo.Sync.getEffectProperty(this.component,exxcellent.Expander.TITLE_FOREGROUND,exxcellent.Expander.ROLLOVER_FOREGROUND,a);var c=Echo.Sync.getEffectProperty(this.component,exxcellent.Expander.HEADER_BACKGROUND,exxcellent.Expander.ROLLOVER_BACKGROUND,a);var f=Echo.Sync.getEffectProperty(this.component,exxcellent.Expander.HEADER_BACKGROUND_IMAGE,exxcellent.Expander.ROLLOVER_BACKGROUND_IMAGE,a);var b=Echo.Sync.getEffectProperty(this.component,exxcellent.Expander.HEADER_BORDER,exxcellent.Expander.ROLLOVER_BORDER,a);Echo.Sync.Color.renderClear(e,this._titleDiv,"color");Echo.Sync.Color.renderClear(e,this._mDiv,"color");Echo.Sync.Color.renderClear(c,this._mDiv,"backgroundColor");Echo.Sync.FillImage.renderClear(f,this._mDiv,"backgroundImage");Echo.Sync.Border.renderClear(b,this._mDiv);$(this._txtDiv).toggle(a)},_toggleHeader:function(a){if(this.component.render(exxcellent.Expander.HEADER_HIDE)){return}$(this._txtDiv).empty();if(a){this._txtDiv.appendChild(document.createTextNode(this.component.render(exxcellent.Expander.HIDE_TEXT)));Echo.Sync.FillImage.render(this.component.render(exxcellent.Expander.HIDE_IMAGE),this._imgSpn)}else{this._txtDiv.appendChild(document.createTextNode(this.component.render(exxcellent.Expander.SHOW_TXT)));Echo.Sync.FillImage.render(this.component.render(exxcellent.Expander.SHOW_IMAGE),this._imgSpn)}},_toggleContent:function(){var c=this;var f=this.component.render(exxcellent.Expander.SPEED);var e=this._shown?this._showDiv:this._hideDiv;var b=this._shown?this._hideDiv:this._showDiv;function a(){c._shown=!c._shown;c.component.set(exxcellent.Expander.SHOW,c._shown);c._onContentToggled(c._shown);c._toggleHeader(c._shown);if(b.innerHTML===""){$(b).toggle()}else{$(b).slideToggle(f)}}if(e.innerHTML===""){$(e).toggle(0,a)}else{$(e).slideToggle(f,a)}},_renderContent:function(e,c,b,a){this._renderChildLayoutData(e,c);Echo.Render.renderComponentAdd(b,e,c);a.appendChild(c)},_renderContentReplaced:function(f){var b=f.getRemovedChildren();var e=f.getAddedChildren();if(b&&e){var a=e[0];var c=b[0];if(this._hideRenderID==c.renderId){$(this._hideDiv).empty();Echo.Render.renderComponentDispose(f,c);$(this._hideDiv).empty();this._renderContent(a,this._hideDiv,f,this._div);this._hideRenderID=a.renderId}else{if(this._showRenderID==c.renderId){$(this._showDiv).empty();Echo.Render.renderComponentDispose(f,c);$(this._showDiv).empty();this._renderContent(a,this._showDiv,f,this._div);this._showRenderID=a.renderId}}}},_renderChildLayoutData:function(c,a){var b=c.render("layoutData");if(b){Echo.Sync.Color.render(b.background,a,"backgroundColor");Echo.Sync.FillImage.render(b.backgroundImage,a);Echo.Sync.Insets.render(b.insets,a,"padding");Echo.Sync.Alignment.render(b.alignment,a,true,this.component);if(b.height){a.style.height=Echo.Sync.Extent.toPixels(b.height,false)+"px"}}},renderDispose:function(a){this._mDiv=null;this._showDiv=null;this._showRenderID=null;this._hideDiv=null;this._hideRenderID=null;this._imgSpn=null;this._txtDiv=null;this._showState=null;this._div=null},renderUpdate:function(f){var b=!Core.Arrays.containsAll(exxcellent.ExpanderSync._supportedPartialProperties,f.getUpdatedPropertyNames(),true);if(b){var a=this._div;var e=a.parentNode;Echo.Render.renderComponentDispose(f,f.parent);e.removeChild(a);this.renderAdd(f,e);return true}else{if(f.hasRemovedChildren||f.hasAddedChildren){this._renderContentReplaced(f)}if(f.hasUpdatedProperties()){var c=f.getUpdatedProperty(exxcellent.Expander.SHOW);if(c){if(this._shown!==c.newValue){this._toggleContent()}}}return false}},_onContentToggled:function(a){this.component.doContentToggled(a);return false},getFocusFlags:function(){return Echo.Render.ComponentSync.FOCUS_PERMIT_ARROW_ALL},renderFocus:function(){this._renderFocusStyle(true);Core.Web.DOM.focusElement(this._div)},_processFocus:function(a){if(!this.client||!this.client.verifyInput(this.component)){return true}this.client.application.setFocusedComponent(this.component)},_processBlur:function(a){this._renderFocusStyle(false)},_renderFocusStyle:function(b){this._rolloverHeader(b);var c=Echo.Sync.getEffectProperty(this.component,exxcellent.Expander.HEADER_BACKGROUND,exxcellent.Expander.FOCUSED_BACKGROUND,b);var e=Echo.Sync.getEffectProperty(this.component,exxcellent.Expander.HEADER_BACKGROUND_IMAGE,exxcellent.Expander.FOCUSED_BACKGROUND_IMAGE,b);var a=Echo.Sync.getEffectProperty(this.component,exxcellent.Expander.HEADER_BORDER,exxcellent.Expander.FOCUSED_BORDER,b);Echo.Sync.Color.renderClear(c,this._mDiv,"backgroundColor");Echo.Sync.FillImage.renderClear(e,this._mDiv,"backgroundImage");Echo.Sync.Border.renderClear(a,this._mDiv)},_processKeyPress:function(a){if(!this.client||!this.client.verifyInput(this.component)||a.target.nodeName!="DIV"){return true}if(a.keyCode===13||a.keyCode===40||a.keyCode===38||a.keyCode===37||a.keyCode===39){this._toggleContent();return true}else{return true}}});exxcellent.FlexiGrid=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.FlexiGrid",this)},$static:{HEIGHT_OFFSET:"heightOffset",TABLE_ROW_SELECT:"tableRowSelect",TABLE_COLUMN_TOGGLE:"tableColumnToggle",TABLE_SORTING_CHANGE:"tableSortingChange",TABLE_COLUMN_ARRANGED:"tableColumnArrange",TABLE_COLUMN_RESIZED:"tableColumnResize",TABLE_RESIZED:"tableResize",DIGITGROUP_DELIMITER:"digitGroupDelimiter",DECIMAL_DELIMITER:"decimalDelimiter",CSS:"css",CLIENT_SORTING:"clientSorting",WIDTH:"width",HEIGHT:"height",COLUMN_WIDTH_UNIT:"columnWidthUnit",TITLE:"title",SHOWTABLE_TOGGLE:"showTableToggle",SORTINGMODEL:"sortingModel",COLUMNMODEL:"columnModel",ACTIVE_PAGE:"activePage",ACTIVE_PAGE_CHANGED:"activePageChanged",SHOW_PAGER:"showPager",SHOW_PAGE_STAT:"showPageStatistics",SHOW_RESULTS_PPAGE:"showResultsPerPage",RESULTS_PPAGE_OPTION:"resultsPerPageOption",NO_ITEMS_MSG:"noItemsMessage",PROCESS_MSG:"messageProcessing",HIDE_COLUMN_MSG:"messageColumnHiding",MIN_TABLE_MSG:"messageTableHiding",PAGE_STATISTICS_MSG:"messagePageStatistics",RESIZABLE:"resizable",STRIPED:"striped",MIN_COLUMN_WIDTH:"minColumnWidth",MIN_COLUMN_HEIGHT:"minColumnHeight",NO_WRAP:"noWrap",SINGLE_SELECT:"singleSelect",LINE_IMG:"LINE_IMG",HL_IMG:"HL_IMG",FHBG_IMG:"FHBG_IMG",DDN_IMG:"DDN_IMG",WBG_IMG:"WBG_IMG",UUP_IMG:"UUP_IMG",BGROUND_IMG:"BGROUND_IMG",DOWN_IMG:"DOWN_IMG",UP_IMG:"UP_IMG",PREV_IMG:"PREV_IMG",MAGNIFIER_IMG:"MAGNIFIER_IMG",FIRST_IMG:"FIRST_IMG",NEXT_IMG:"NEXT_IMG",LAST_IMG:"LAST_IMG",LOAD_IMG:"LOAD_IMG",LOAD_BTN_IMG:"LOAD_BTN_IMG"},componentType:"exxcellent.FlexiGrid",focusable:true,pane:true,doSelectRow:function(a){this.fireEvent({type:exxcellent.FlexiGrid.TABLE_ROW_SELECT,source:this,data:a})},doChangePage:function(a){this.fireEvent({type:exxcellent.FlexiGrid.ACTIVE_PAGE_CHANGED,source:this,data:a})},doToggleColumn:function(a){this.fireEvent({type:exxcellent.FlexiGrid.TABLE_COLUMN_TOGGLE,source:this,data:a})},doChangeSorting:function(a){this.fireEvent({type:exxcellent.FlexiGrid.TABLE_SORTING_CHANGE,source:this,data:a})},doArrangeColumn:function(a){this.fireEvent({type:exxcellent.FlexiGrid.TABLE_COLUMN_ARRANGED,source:this,data:a})},doResizeColumn:function(a){this.fireEvent({type:exxcellent.FlexiGrid.TABLE_COLUMN_RESIZED,source:this,data:a})},doResizeTable:function(a){this.fireEvent({type:exxcellent.FlexiGrid.TABLE_RESIZED,source:this,data:a})}});exxcellent.model.ColumnModel=Core.extend({columns:null,$construct:function(a){this.columns=a},getColumns:function(){return this.columns},toString:function(){return this.columns}});exxcellent.model.Column=Core.extend({name:null,display:null,width:null,sortable:null,align:null,tooltip:null,$construct:function(a,e,b,g,f,c){this.name=a;this.display=e;this.width=b;this.sortable=g;this.align=f;this.tooltip=c},toString:function(){return this.name}});exxcellent.model.Row=Core.extend({id:null,cell:null,$construct:function(b,a){this.id=b;this.cell=a},toString:function(){return this.id}});exxcellent.model.Page=Core.extend({page:1,total:1,rows:null,$construct:function(c,a,b){this.page=c;this.total=a;this.rows=b},toString:function(){return this.page}});exxcellent.model.TableModel=Core.extend({pages:null,$construct:function(a){this.pages=a},toString:function(){return this.pages}});exxcellent.model.ResultsPerPageOption=Core.extend({pageOptions:null,initialOption:null,$construct:function(b,a){this.initialOption=b;this.pageOptions=a},toString:function(){return this.initialOption+" of "+this.pageOptions}});exxcellent.model.SortingModel=Core.extend({columns:null,$construct:function(a){this.columns=a},getColumns:function(){return this.columns},toString:function(){return this.columns}});exxcellent.model.SortingColumn=Core.extend({columnId:null,sortOrder:null,$construct:function(b,a){this.columnId=b;this.sortOrder=a},toString:function(){return this.columnId+" ordered "+this.sortOrder}});exxcellent.FlexiGridSync=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("exxcellent.FlexiGrid",this)},_div:null,_flexigrid:null,_table:null,_tableModel:null,_activePage:null,_sortingModel:null,_resultsPerPageOption:null,_renderRequired:null,_waitDialogHandle:null,renderAdd:function(c,a){this._div=document.createElement("div");this._div.tabIndex="0";this._div.style.outlineStyle="none";this._div.style.overflow="hidden";this._div.id=this.component.renderId;this._table=document.createElement("table");this._div.appendChild(this._table);Core.Web.Event.add(this._div,"keydown",Core.method(this,this._processKeyPress),false);Core.Web.Event.add(this._div,"blur",Core.method(this,this._processBlur),false);Echo.Sync.renderComponentDefaults(this.component,this._div);a.appendChild(this._div);if(jQuery("#flexigridCss").length===0){var b=this._createStylesheet();jQuery("head").append('<style type="text/css" id="flexigridCss">'+b+"</style>")}this._renderRequired=true},renderDispose:function(){Core.Web.Event.removeAll(this._div);if(this._flexigrid){this._flexigrid.flexDestroy()}this._table=null;this._flexigrid=null;this._tableModel=null;this._sortingModel=null;this._resultsPerPageOption=null;this._div=null;if(this._waitDialogHandle!==null){this.client.removeInputRestriction(this._waitDialogHandle)}this.__waitDialogHandle=null},renderUpdate:function(g){var c=true;var e=g.getUpdatedPropertyNames();if(e.length===0){return true}if(Core.Arrays.indexOf(e,exxcellent.FlexiGrid.COLUMNMODEL)>=0){c=false}if(!c){var b=this._div;var f=b.parentNode;Echo.Render.renderComponentDispose(g,g.parent);f.removeChild(b);this.renderAdd(g,f)}else{var a=this._renderUpdateOptions();this._flexigrid.flexOptions(a);this._flexigrid.flexReload()}return true},renderDisplay:function(){if(this._renderRequired){this._renderRequired=false;var a=this._renderOptions();this._flexigrid=$(this._table).flexigrid(a)}},_renderOptions:function(){var c=this._getResultsPerPageOption();var b=this.component.render(exxcellent.FlexiGrid.WIDTH);var a=this.component.render(exxcellent.FlexiGrid.HEIGHT);return{owner:this,method:"GET",url:this,dataType:"json",autoload:true,onPopulateCallback:this._onPopulate,onChangeSort:this._onChangeSorting,onToggleCol:this._onToggleColumnVisibilty,onSelectRow:this._onSelectRow,onSuccess:this._onPopulateFinish,onDragCol:this._onArrangeColumn,onChangePage:this._onChangePage,onResizeCol:this._onResizeColumn,onResizeGrid:this._onResizeGrid,sortModel:this._getSortingModel(),colModel:this._getColumnModel(),showPageStat:this.component.render(exxcellent.FlexiGrid.SHOW_PAGE_STAT),width:(!b||b===-1)?"auto":b*1,height:(!a||a===-1)?"auto":a*1,showTableToggleBtn:this.component.render(exxcellent.FlexiGrid.SHOWTABLE_TOGGLE),title:this.component.render(exxcellent.FlexiGrid.TITLE),usepager:this.component.render(exxcellent.FlexiGrid.SHOW_PAGER),useRp:this.component.render(exxcellent.FlexiGrid.SHOW_RESULTS_PPAGE),rp:c.initialOption,rpOptions:c.pageOptions,nomsg:this.component.render(exxcellent.FlexiGrid.NO_ITEMS_MSG),procmsg:this.component.render(exxcellent.FlexiGrid.PROCESS_MSG),hidecolmsg:this.component.render(exxcellent.FlexiGrid.HIDE_COLUMN_MSG),mintablemsg:this.component.render(exxcellent.FlexiGrid.MIN_TABLE_MSG),pagestat:this.component.render(exxcellent.FlexiGrid.PAGE_STATISTICS_MSG),resizable:this.component.render(exxcellent.FlexiGrid.RESIZABLE),striped:this.component.render(exxcellent.FlexiGrid.STRIPED),minwidth:this.component.render(exxcellent.FlexiGrid.MIN_COLUMN_WIDTH),minheight:this.component.render(exxcellent.FlexiGrid.MIN_COLUMN_HEIGHT),nowrap:this.component.render(exxcellent.FlexiGrid.NO_WRAP),singleSelect:this.component.render(exxcellent.FlexiGrid.SINGLE_SELECT),clientsort:this.component.render(exxcellent.FlexiGrid.CLIENT_SORTING),digitGroupDL:this.component.render(exxcellent.FlexiGrid.DIGITGROUP_DELIMITER),decimalDelimiter:this.component.render(exxcellent.FlexiGrid.DECIMAL_DELIMITER),heightOffset:this.component.render(exxcellent.FlexiGrid.HEIGHT_OFFSET)}},_renderUpdateOptions:function(){var c=this._getResultsPerPageOption();var b=this.component.render(exxcellent.FlexiGrid.WIDTH);var a=this.component.render(exxcellent.FlexiGrid.HEIGHT);return Object({showPageStat:this.component.render(exxcellent.FlexiGrid.SHOW_PAGE_STAT),width:(!b||b===-1)?"auto":b*1,height:(!a||a===-1)?"auto":a*1,showTableToggleBtn:this.component.render(exxcellent.FlexiGrid.SHOWTABLE_TOGGLE),title:this.component.render(exxcellent.FlexiGrid.TITLE),usepager:this.component.render(exxcellent.FlexiGrid.SHOW_PAGER),useRp:this.component.render(exxcellent.FlexiGrid.SHOW_RESULTS_PPAGE),rp:c.initialOption,rpOptions:c.pageOptions,nomsg:this.component.render(exxcellent.FlexiGrid.NO_ITEMS_MSG),procmsg:this.component.render(exxcellent.FlexiGrid.PROCESS_MSG),hidecolmsg:this.component.render(exxcellent.FlexiGrid.HIDE_COLUMN_MSG),mintablemsg:this.component.render(exxcellent.FlexiGrid.MIN_TABLE_MSG),pagestat:this.component.render(exxcellent.FlexiGrid.PAGE_STATISTICS_MSG),resizable:this.component.render(exxcellent.FlexiGrid.RESIZABLE),striped:this.component.render(exxcellent.FlexiGrid.STRIPED),minwidth:this.component.render(exxcellent.FlexiGrid.MIN_COLUMN_WIDTH),minheight:this.component.render(exxcellent.FlexiGrid.MIN_COLUMN_HEIGHT),nowrap:this.component.render(exxcellent.FlexiGrid.NO_WRAP),singleSelect:this.component.render(exxcellent.FlexiGrid.SINGLE_SELECT),clientsort:this.component.render(exxcellent.FlexiGrid.CLIENT_SORTING),digitGroupDL:this.component.render(exxcellent.FlexiGrid.DIGITGROUP_DELIMITER),decimalDelimiter:this.component.render(exxcellent.FlexiGrid.DECIMAL_DELIMITER),heightOffset:this.component.render(exxcellent.FlexiGrid.HEIGHT_OFFSET)})},_createStylesheet:function(){var a=this.component.render(exxcellent.FlexiGrid.CSS);if(a){a=a.replace(/LINE_IMG/g,this.component.render(exxcellent.FlexiGrid.LINE_IMG));a=a.replace(/HL_IMG/g,this.component.render(exxcellent.FlexiGrid.HL_IMG));a=a.replace(/FHBG_IMG/g,this.component.render(exxcellent.FlexiGrid.FHBG_IMG));a=a.replace(/DDN_IMG/g,this.component.render(exxcellent.FlexiGrid.DDN_IMG));a=a.replace(/WBG_IMG/g,this.component.render(exxcellent.FlexiGrid.WBG_IMG));a=a.replace(/UUP_IMG/g,this.component.render(exxcellent.FlexiGrid.UUP_IMG));a=a.replace(/BGROUND_IMG/g,this.component.render(exxcellent.FlexiGrid.BGROUND_IMG));a=a.replace(/DOWN_IMG/g,this.component.render(exxcellent.FlexiGrid.DOWN_IMG));a=a.replace(/UP_IMG/g,this.component.render(exxcellent.FlexiGrid.UP_IMG));a=a.replace(/PREV_IMG/g,this.component.render(exxcellent.FlexiGrid.PREV_IMG));a=a.replace(/MAGNIFIER_IMG/g,this.component.render(exxcellent.FlexiGrid.MAGNIFIER_IMG));a=a.replace(/FIRST_IMG/g,this.component.render(exxcellent.FlexiGrid.FIRST_IMG));a=a.replace(/NEXT_IMG/g,this.component.render(exxcellent.FlexiGrid.NEXT_IMG));a=a.replace(/LAST_IMG/g,this.component.render(exxcellent.FlexiGrid.LAST_IMG));a=a.replace(/LOAD_IMG/g,this.component.render(exxcellent.FlexiGrid.LOAD_IMG));a=a.replace(/LOAD_BTN_IMG/g,this.component.render(exxcellent.FlexiGrid.LOAD_BTN_IMG))}return a},_getActivePage:function(){var a=this.component.render(exxcellent.FlexiGrid.ACTIVE_PAGE);if(a&&a instanceof exxcellent.model.Page){this._activePage=a}else{if(a){this._activePage=this._fromJsonString(a).activePage}}return this._activePage},_getSortingModel:function(){var a=this.component.render(exxcellent.FlexiGrid.SORTINGMODEL);if(a instanceof exxcellent.model.SortingModel){this._sortingModel=a}else{if(a){this._sortingModel=this._fromJsonString(a).sortingModel}else{this._sortingModel={columns:[]}}}return this._sortingModel},_getResultsPerPageOption:function(){var a=this.component.render(exxcellent.FlexiGrid.RESULTS_PPAGE_OPTION);if(a instanceof exxcellent.model.ResultsPerPageOption){this._resultsPerPageOption=a}else{if(a){this._resultsPerPageOption=this._fromJsonString(a).resultsPerPageOption}}return this._resultsPerPageOption},_fromJsonString:function(a){return JSON.parse(a)},_toJsonString:function(a){return JSON.stringify(a)},_getColumnModel:function(){var e=this.component.render(exxcellent.FlexiGrid.COLUMNMODEL);if(e instanceof exxcellent.model.ColumnModel){this._columnModel=e}else{if(e){this._columnModel=this._fromJsonString(e).columnModel}}var a=this.component.render(exxcellent.FlexiGrid.COLUMN_WIDTH_UNIT);for(var b=0;b<this._columnModel.columns.length;b++){if(!this._columnModel.columns[b].width){this._columnModel.columns[b].width=100}else{if(a){var c=this._columnModel.columns[b].width+a;this._columnModel.columns[b].width=Core.Web.Measure.extentToPixels(c,true)}}}return this._columnModel.columns},_onPopulate:function(b){var a=b[0].value;if(this._waitDialogHandle===null){this._waitDialogHandle=this.client.createInputRestriction()}this.component.doChangePage(a*1);return this._getActivePage()},_onChangePage:function(){this._activePage=null;this.component.set(exxcellent.FlexiGrid.ACTIVE_PAGE,null)},_onPopulateFinish:function(){this.client.removeInputRestriction(this._waitDialogHandle);this._waitDialogHandle=null},_onChangeSorting:function(c){this._sortingModel=c;var b=[];if(c&&c.columns){for(var f=0;f<c.columns.length;f++){var g=c.columns[f];b.push({columnId:g.columnId*1,sortOrder:g.sortOrder})}}var e={sortingModel:{columns:{sortingColumn:b}}};var a=this._toJsonString(e);if(this.component.render(exxcellent.FlexiGrid.CLIENT_SORTING)){this._sortClientSide()}this.component.doChangeSorting(a)},_sortClientSide:function(){return},_onToggleColumnVisibilty:function(c,e){var a={columnVisibility:{columnId:c*1,visible:!!e}};var b=this._toJsonString(a);this.component.doToggleColumn(b)},_onSelectRow:function(c,e){var b={rowSelection:{rowId:c*1}};var a=this._toJsonString(b);this.component.doSelectRow(a);return false},_onArrangeColumn:function(c,b){var e={columnArrange:{sourceColumnId:c,targetColumnId:b}};var a=this._toJsonString(e);this.component.doArrangeColumn(a);return false},_onResizeColumn:function(c,b){var e={columnResize:{columnId:c*1,width:b*1}};var a=this._toJsonString(e);this.component.doResizeColumn(a);return false},_onResizeGrid:function(e,a){var c={tableResize:{width:e*1,height:a*1}};var b=this._toJsonString(c);this.component.doResizeTable(b);return false},_processKeyPress:function(a){if(!this.client||!this.client.verifyInput(this.component)){return true}if(a.keyCode===13||a.keyCode===40||a.keyCode===38||a.keyCode===37||a.keyCode===39){this._flexigrid.flexRemoteControl(a.keyCode);return true}else{return true}},getFocusFlags:function(){return false},_processBlur:function(a){this._renderFocusStyle(false)},renderFocus:function(){this._renderFocusStyle(true);Core.Web.DOM.focusElement(this._div)},_renderFocusStyle:function(a){this._flexigrid.flexFocus(a)}});exxcellent.KeystrokeListener=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.KeystrokeListener",this)},$static:{DEBUG:"debug",TARGET_RENDERID:"targetRenderId",KEY_CODE:"keyCode",ACTION_COMMAND:"actionCommand",KEYSTROKE_ACTION:"action"},componentType:"exxcellent.KeystrokeListener",focusable:false,doAction:function(a){this.fireEvent({type:"action",source:this,data:this.render("actionCommand")})}});exxcellent.KeystrokeListenerSync=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("exxcellent.KeystrokeListener",this)},_debug:null,_span:null,_all_shortcuts:null,renderAdd:function(b,a){this._span=document.createElement("span");this._span.id=this.component.renderId;this.component.addListener("parent",Core.method(this,this._parentChanged));a.appendChild(this._span);this._renderRequired=true},_parentChanged:function(a){if(this._debug&&window.console&&window.console.log){console.log("KeystrokeListener : Parent changed from "+a.oldValue+" to "+a.newValue)}if(a.newValue===null||typeof a.newValue=="undefined"){this.remove_all_shortcuts()}},renderDisplay:function(){if(this._renderRequired){this._renderRequired=false;this._debug=this.component.render(exxcellent.KeystrokeListener.DEBUG);var b=this.component.render(exxcellent.KeystrokeListener.KEY_CODE);var c=this.component.render(exxcellent.KeystrokeListener.TARGET_RENDERID);var a=this.component.render(exxcellent.KeystrokeListener.ACTION_COMMAND);if(this._debug&&window.console&&window.console.log){console.log("renderDisplay() called for: "+b)}this.add_shortcut(b,a,{target:c})}},renderDispose:function(a){if(this._debug&&window.console&&window.console.log){console.log("renderDispose() called")}this.remove_all_shortcuts();this._span=null;this._all_shortcuts=null},renderUpdate:function(a){this._renderRequired=true;if(this._debug&&window.console&&window.console.log){console.log("renderUpdate() called, but nothing to do.")}return false},add_shortcut:function(b,e,f){var h={type:"keydown",propagate:false,disable_in_input:false,target:document,keycode:false};if(!f){f=h}else{for(var a in h){if(typeof f[a]=="undefined"){f[a]=h[a]}}}var g;if(f.target=="null"||f.target===null||typeof f.target=="undefined"){g=document}else{if(typeof f.target=="string"){g=document.getElementById(f.target)}}if(!g){g=f.target}b=b.toLowerCase();var c=function(p){var q=p||window.event;var j;if(q.keyCode){j=q.keyCode}else{if(q.which){j=q.which}}if(this._debug&&window.console&&window.console.log){console.log("Key Event: "+p+" triggered keycode: "+j)}var o=String.fromCharCode(j).toLowerCase();if(j===188){o=","}if(j===190){o="."}var v=b.split("+");var u=0;var s={"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"};var n={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123};var t={shift:{wanted:false,pressed:false},ctrl:{wanted:false,pressed:false},alt:{wanted:false,pressed:false},meta:{wanted:false,pressed:false}};if(q.ctrlKey){t.ctrl.pressed=true}if(q.shiftKey){t.shift.pressed=true}if(q.altKey){t.alt.pressed=true}if(q.metaKey){t.meta.pressed=true}var l;for(var m=0;m<v.length;m++){l=v[m];if(l==="ctrl"||l==="control"){u++;t.ctrl.wanted=true}else{if(l==="shift"){u++;t.shift.wanted=true}else{if(l==="alt"){u++;t.alt.wanted=true}else{if(l==="meta"){u++;t.meta.wanted=true}else{if(l.length>1){if(n[l]===j){u++}}else{if(f.keycode){if(f.keycode===j){u++}}else{if(o===l){u++}else{if(s[o]&&q.shiftKey){o=s[o];if(o===l){u++}}}}}}}}}}if(u===v.length&&t.ctrl.pressed===t.ctrl.wanted&&t.shift.pressed===t.shift.wanted&&t.alt.pressed===t.alt.wanted&&t.meta.pressed===t.meta.wanted){this.component.doAction(e);if(!f.propagate){q.cancelBubble=true;q.returnValue=false;if(q.stopPropagation){q.stopPropagation();q.preventDefault()}return false}}else{return true}};c=Core.method(this,c);if(!this._all_shortcuts){this._all_shortcuts={}}this._all_shortcuts[b]={callback:c,target:g,event:f.type};Core.Web.Event.add(g,f.type,c,false);if(this._debug&&window.console&&window.console.log){console.log("Registering event: "+f.type+"("+b+"->"+e+") for element:"+g+"(type: "+typeof g+")")}},remove_shortcut:function(a){if(this._debug&&window.console&&window.console.log){console.log("remove_shortcut: "+a)}a=a.toLowerCase();var e=this._all_shortcuts[a];delete (this._all_shortcuts[a]);if(!e){return}var b=e.event;var c=e.target;var f=e.callback;Core.Web.Event.remove(c,b,f)},remove_all_shortcuts:function(a){var b;for(b in this._all_shortcuts){if(typeof this._all_shortcuts[b]!=="function"){this.remove_shortcut(b)}}}});exxcellent.LazyBlock=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.LazyBlock",this)},componentType:"exxcellent.LazyBlock"});exxcellent.LazyBlockSync=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("exxcellent.LazyBlock",this)},prevFocusKey:38,prevFocusFlag:Echo.Render.ComponentSync.FOCUS_PERMIT_ARROW_UP,nextFocusKey:40,nextFocusFlag:Echo.Render.ComponentSync.FOCUS_PERMIT_ARROW_DOWN,cellElementNodeName:"div",element:null,_waitElement:null,containerElement:null,spacingPrototype:null,cellSpacing:null,_childIdToElementMap:null,processKeyPress:function(g){if(!this.client){return}switch(g.keyCode){case this.prevFocusKey:case this.nextFocusKey:var a=g.keyCode==this.prevFocusKey;if(this.invertFocusRtl&&!this.component.getRenderLayoutDirection().isLeftToRight()){a=!a}var c=this.client.application.getFocusedComponent();if(c&&c.peer&&c.peer.getFocusFlags){var f=c.peer.getFocusFlags();if((a&&f&this.prevFocusFlag)||(!a&&f&this.nextFocusFlag)){var b=this.client.application.focusManager.findInParent(this.component,a);if(b){this.client.application.setFocusedComponent(b);Core.Web.DOM.preventEventDefault(g);return false}}}break}return true},_renderAddChild:function(h,g,b){var a=document.createElement(this.cellElementNodeName);this._childIdToElementMap[g.renderId]=a;Echo.Render._loadPeer(g.parent.peer.client,g);g.peer.renderAdd(h,a);this.renderChildLayoutData(g,a);if(b!==null&&typeof b!="undefined"){var e;if(this.containerElement.childNodes.length>=3&&this.cellSpacing){e=(this.containerElement.childNodes.length+1)/2}else{e=this.containerElement.childNodes.length}if(b==e){b=null}}if(b===null||typeof b=="undefined"||!this.containerElement.firstChild){if(this.cellSpacing&&this.containerElement.firstChild){this.containerElement.appendChild(this.spacingPrototype.cloneNode(false))}this.containerElement.appendChild(a)}else{var f=this.cellSpacing?b*2:b;var c=this.containerElement.childNodes[f];this.containerElement.insertBefore(a,c);if(this.cellSpacing){this.containerElement.insertBefore(this.spacingPrototype.cloneNode(false),c)}}},_getWaitElement:function(){if(!this._waitElement){this._waitElement=document.createElement("div");this._waitElement.style.width="200px";this._waitElement.style.margin="auto";this._waitElement.style.padding="10px";var a=document.createElement("div");var c=this.component.render("icon");img=document.createElement("img");Echo.Sync.ImageReference.renderImg(c,img);a.appendChild(img);var b=document.createElement("div");b.style.cssFloat="right";b.style.styleFloat="right";var e=this.component.render("text");b.appendChild(document.createTextNode(e));this._waitElement.appendChild(b);this._waitElement.appendChild(a)}return this._waitElement},_setBusy:function(a,c){var b=this._getWaitElement();if(c){a.appendChild(b)}else{a.removeChild(b);a.appendChild(this.element)}},_lazyRenderAddChildren:function(a,h){this._setBusy(a,true);Echo.Render._disposedComponents={};this._childIdToElementMap={};var e=0;var b=this.component.getComponentCount();var g=this;function f(){if(b>e){var i=g.component.getComponent(e);g._renderAddChild(h,i);e++;setTimeout(f,1)}else{c()}}function c(){g._setBusy(a,false);Core.Web.Event.add(this.element,Core.Web.Env.QUIRK_IE_KEY_DOWN_EVENT_REPEAT?"keydown":"keypress",Core.method(this,this.processKeyPress),false)}setTimeout(f,1)},renderDispose:function(a){Core.Web.Event.removeAll(this.element);this.element=null;this.containerElement=null;this._childIdToElementMap=null;this.spacingPrototype=null},_renderRemoveChild:function(c,b){var a=this._childIdToElementMap[b.renderId];if(!a){return}if(this.cellSpacing){if(a.previousSibling){this.containerElement.removeChild(a.previousSibling)}else{if(a.nextSibling){this.containerElement.removeChild(a.nextSibling)}}}this.containerElement.removeChild(a);delete this._childIdToElementMap[b.renderId]},renderUpdate:function(h){var c,e=false;if(h.hasUpdatedProperties()||h.hasUpdatedLayoutDataChildren()){e=true}else{var a=h.getRemovedChildren();if(a){for(c=0;c<a.length;++c){this._renderRemoveChild(h,a[c])}}var f=h.getAddedChildren();if(f){for(c=0;c<f.length;++c){this._renderAddChild(h,f[c],this.component.indexOf(f[c]))}}}if(e){var b=this.element;var g=b.parentNode;Echo.Render.renderComponentDispose(h,h.parent);g.removeChild(b);this.renderAdd(h,g)}return e},renderAdd:function(b,a){this.element=this.containerElement=document.createElement("div");this.element.id=this.component.renderId;this.element.style.outlineStyle="none";this.element.tabIndex="-1";Echo.Sync.renderComponentDefaults(this.component,this.element);Echo.Sync.Border.render(this.component.render("border"),this.element);Echo.Sync.Insets.render(this.component.render("insets"),this.element,"padding");this.cellSpacing=Echo.Sync.Extent.toPixels(this.component.render("cellSpacing"),false);if(this.cellSpacing){this.spacingPrototype=document.createElement("div");this.spacingPrototype.style.height=this.cellSpacing+"px";this.spacingPrototype.style.fontSize="1px";this.spacingPrototype.style.lineHeight="0"}this._lazyRenderAddChildren(a,b)},renderChildLayoutData:function(c,a){var b=c.render("layoutData");if(b){Echo.Sync.Color.render(b.background,a,"backgroundColor");Echo.Sync.FillImage.render(b.backgroundImage,a);Echo.Sync.Insets.render(b.insets,a,"padding");Echo.Sync.Alignment.render(b.alignment,a,true,this.component);if(b.marginLeft){a.style.marginLeft=b.marginLeft}if(b.marginRight){a.style.marginRight=b.marginRight}if(b.marginTop){a.style.marginTop=b.marginTop}if(b.marginBottom){a.style.marginBottom=b.marginBottom}if(b.width){a.style.width=Echo.Sync.Extent.toPixels(b.width,false)+"px"}if(b.height){a.style.height=Echo.Sync.Extent.toPixels(b.height,false)+"px"}if(b.floating){a.style.cssFloat=b.floating;a.style.styleFloat=b.floating}}}});exxcellent.LineChart=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.LineChart",this)},$static:{DRAW_GRID:"drawGrid",GRID_COLOR:"gridColor",XAXIS_SECTORS:"xaxisSectors",YAXIS_SECTORS:"yaxisSectors",FILL_CHART:"fillChart",LINE_COLOR:"lineColor",DOT_COLOR:"dotColor",WIDTH:"width",HEIGHT:"height",BACKGROUND:"background",FOREGROUND:"foreground",INTERPOLATION:"interpolation",XSCALE_MAX:"xscaleMax",YSCALE_MAX:"yscaleMax",SHOW_POPUP:"showPopup",POPUP_BACKGROUND:"popupBackground",POPUP_BORDER_COLOR:"popupBorderColor",POPUP_FOREGROUND:"popupForeground",POPUP_FONT:"popupFont",LINE_CHART_MODEL:"lineChartModel",AXIS_MODEL:"axisModel",POINT_SELECTION:"pointSelection"},componentType:"exxcellent.LineChart",doSelectPoint:function(a){this.fireEvent({type:exxcellent.LineChart.POINT_SELECTION,source:this,data:a})}});exxcellent.model.LineChartModel=Core.extend({points:null,$construct:function(a){this.points=a},toString:function(){return"I am a LineChartModel"}});exxcellent.model.AxisModel=Core.extend({xAxisValues:null,yAxisValues:null,$construct:function(a,b){this.xAxisValues=a;this.yAxisValues=b},toString:function(){return"AxisModel - xAxis: "+this.xAxisValues+" yAxis: "+this.yAxisValues}});exxcellent.model.Point=Core.extend({xValue:null,yValue:null,identifier:null,label:"",$construct:function(e,c,b,a){this.xValue=e;this.yValue=c;this.label=b;this.identifier=a},toString:function(){return"Label:"+this.label+" xValue:"+this.xValue+" yValue:"+this.yValue}});exxcellent.model.LineChartLayout=Core.extend({drawGrid:true,gridColor:"#000",xaxisSectors:10,yaxisSectors:10,axisFont:null,foreground:"#000",showPopup:true,popupBackground:"#000",popupBorderColor:"#666",popupForeground:"#fff",popupFont:null,fillChart:true,lineColor:"#383",dotColor:"#000",interpolation:"bezier",xscaleMax:100,yscaleMax:100,width:300,height:200,$construct:function(){},isDrawGrid:function(){return this.drawGrid},getGridColor:function(){return this.gridColor},getXaxisSectors:function(){return this.xaxisSectors},getYaxisSectors:function(){return this.yaxisSectors},getAxisFont:function(){return this.axisFont},getForeground:function(){return this.foreground},isShowPopup:function(){return this.showPopup},getPopupBackground:function(){return this.popupBackground},getPopupBorderColor:function(){return this.popupBorderColor},getPopupForeground:function(){return this.popupForeground},getPopupFont:function(){return this.popupFont},isFillChart:function(){return this.fillChart},getLineColor:function(){return this.lineColor},getDotColor:function(){return this.dotColor},getInterpolation:function(){return this.interpolation},getXscaleMax:function(){return this.xscaleMax},getYscaleMax:function(){return this.yscaleMax},getWidth:function(){return this.width},getHeight:function(){return this.height},toString:function(){return"LineChartModel"}});exxcellent.LineChartSync=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("exxcellent.LineChart",this)},$static:{},_div:null,_raphael:null,renderAdd:function(c,a){this._div=document.createElement("div");var b=this.component.render(exxcellent.LineChart.BACKGROUND);if(b){this._div.style.background=b}a.appendChild(this._div)},renderDisplay:function(){var b=this;if(this._raphael){return}var g=55;var f=this._getLineChartLayout();var e=this._getLineChartModel();var c=this._getAxisModel();if(!e){return}var h=this.component.render(exxcellent.LineChart.FILL_CHART);this._raphael=Raphael(this._div,f.getWidth()+g,f.getHeight()+g);var a=this._raphael.exx.linechart(e,f,c,this._clickCallback(this))},renderDispose:function(a){this._div=null;this._raphael=null},renderUpdate:function(c){var a=this._div;this._raphael=null;var b=a.parentNode;Echo.Render.renderComponentDispose(c,c.parent);b.removeChild(a);this.renderAdd(c,b);return true},_getLineChartLayout:function(){var a=new exxcellent.model.LineChartLayout();a.showPopup=this.component.render(exxcellent.LineChart.SHOW_POPUP);a.popupBackground=this.component.render(exxcellent.LineChart.POPUP_BACKGROUND);a.popupBorderColor=this.component.render(exxcellent.LineChart.POPUP_BORDER_COLOR);a.popupForeground=this.component.render(exxcellent.LineChart.POPUP_FOREGROUND);a.popupFont=this._renderFont(this.component.render(exxcellent.LineChart.POPUP_FONT));a.drawGrid=this.component.render(exxcellent.LineChart.DRAW_GRID);a.xaxisSectors=this.component.render(exxcellent.LineChart.XAXIS_SECTORS);a.yaxisSectors=this.component.render(exxcellent.LineChart.YAXIS_SECTORS);a.foreground=this.component.render(exxcellent.LineChart.FOREGROUND);a.axisFont=this._renderFont(this.component.render("font"));a.fillChart=this.component.render(exxcellent.LineChart.FILL_CHART);a.lineColor=this.component.render(exxcellent.LineChart.LINE_COLOR);a.dotColor=this.component.render(exxcellent.LineChart.DOT_COLOR);a.gridColor=this.component.render(exxcellent.LineChart.GRID_COLOR);a.interpolation=this.component.render(exxcellent.LineChart.INTERPOLATION);a.xscaleMax=this.component.render(exxcellent.LineChart.XSCALE_MAX);a.yscaleMax=this.component.render(exxcellent.LineChart.YSCALE_MAX);a.width=this.component.render(exxcellent.LineChart.WIDTH);a.height=this.component.render(exxcellent.LineChart.HEIGHT);return a},_getLineChartModel:function(){var a=this.component.render(exxcellent.LineChart.LINE_CHART_MODEL);if(a instanceof exxcellent.model.LineChartModel){return a}else{if(a){return this._fromJsonString(a).lineChartModel}}},_getAxisModel:function(){var a=this.component.render(exxcellent.LineChart.AXIS_MODEL);if(a instanceof exxcellent.model.AxisModel){return a}else{if(a){return this._fromJsonString(a).axisModel}}},_fromJsonString:function(a){return JSON.parse(a)},_toJsonString:function(a){return JSON.stringify(a)},_clickCallback:function(a){return function(){a.component.doSelectPoint(this.identifier)}},_renderFont:function(b){if(!b){return null}var c={style:{}};Echo.Sync.Font.render(b,c);var a=c.style;return{font:a.fontSize+" "+a.fontFamily,"font-family":a.fontFamily,"font-size":a.fontSize,"font-style":a.fontStyle}}});exxcellent.Notifier=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.Notifier",this)},$static:{ID:"id",TITLE:"title",TEXT:"text",ICON:"icon",POSITION:"position",WIDTH:"width",HEIGHT:"height",DURATION:"duration",STICKY:"sticky",FADE:"fade",BORDER_RADIUS:"borderRadius",OPACITY:"opacity",HEADER_FONT:"headerFont",HEADER_FOREGROUND:"headerForeground",HUMANIZED:"humanized",HOVER_INTERRUPT:"hoverInterrupt",OVERLAYED:"overlayed",BTN_SHOW:"btnShow",BTN_TEXT:"btnText",ACTION:"action"},componentType:"exxcellent.Notifier",floatingPane:true,focusable:false,doClickButton:function(a){this.fireEvent({type:exxcellent.Notifier.ACTION,source:this,data:a})}});exxcellent.NotifierSync=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("exxcellent.Notifier",this)},renderAdd:function(b,a){},renderDispose:function(){},renderDisplay:function(){},renderUpdate:function(c){var a=Echo.Sync.Extent.toPixels(this.component.render(exxcellent.Notifier.WIDTH),true,true);var j=Echo.Sync.Extent.toPixels(this.component.render(exxcellent.Notifier.HEIGHT),false,true);var g=Echo.Sync.ImageReference.getUrl(this.component.render(exxcellent.Notifier.ICON));var b=this.component.render("font");var h=this.component.render(exxcellent.Notifier.HEADER_FONT);var i=this.component.render(exxcellent.Notifier.TEXT);var f=this.component.render("foreground");var e=this.component.render("headerForeground");var k=this;$("body").notifier({title:this.component.render(exxcellent.Notifier.TITLE),text:i?this._formatWhitespace(i):"",icon:g,position:this.component.render(exxcellent.Notifier.POSITION),width:a,height:j,padding:this.component.render("insets"),pFont:this._renderFont(b,f),hFont:this._renderFont(h,e),duration:this.component.render(exxcellent.Notifier.DURATION),sticky:this.component.render(exxcellent.Notifier.STICKY),humanized:this.component.render(exxcellent.Notifier.HUMANIZED),hoverInterrupt:this.component.render(exxcellent.Notifier.HOVER_INTERRUPT),overlayed:this.component.render(exxcellent.Notifier.OVERLAYED),fade:this.component.render(exxcellent.Notifier.FADE),borderRadius:this.component.render(exxcellent.Notifier.BORDER_RADIUS),opacity:this.component.render(exxcellent.Notifier.OPACITY),background:this.component.render("background"),border:this.component.render("border"),msgId:this.component.render("id","unknown id"),btnShow:this.component.render(exxcellent.Notifier.BTN_SHOW,false),btnText:this.component.render(exxcellent.Notifier.BTN_TEXT,"Details"),onBtnClick:function(l){k._onButtonClick(l)}})},_onButtonClick:function(a){this.component.doClickButton(a)},_formatWhitespace:function(b){var a=b.replace(/\t/g," \u00a0 \u00a0");a=a.replace(/ {2}/g," \u00a0");a=a.replace(/\n/g,"<br/>");return a},_renderFont:function(b,a){var c={};if(b){if(b.typeface){if(b.typeface instanceof Array){c.face=b.typeface.join(",")}else{c.face=b.typeface}}if(b.size){c.sizePx=Echo.Sync.Extent.toPixels(b.size,true,true)}if(b.bold){c.weight="bold"}}if(a){c.color=a}return c}});exxcellent.PieChart=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.PieChart",this)},$static:{PIE_MODEL:"pieModel",LEGEND_FONT:"font",LEGEND_FOREGROUND:"foreground",LEGEND_POSITION:"legendPosition",LEGEND_GAP_FACTOR:"legendGapFactor",LEGEND_HIDE_ZERO_VALUES:"legendHideZeroValues",SHOW_LEGEND:"showLegend",SHOW_POPUP:"showPopUp",POPUP_BACKGROUND:"popupBackground",POPUP_BORDER_COLOR:"popupBorderColor",POPUP_FOREGROUND:"popupForeground",POPUP_FONT:"popupFont",DO_ANIMATION:"doAnimation",ANIMATION_TYPE:"animationType",ANIMATION_DURATION:"animationDuration",DO_CLIENT_SORTING:"doClientSorting",SECTOR_ABBREV_SHOW:"sectorAbbrevShow",SECTOR_ABBREV_FONT:"sectorAbbrevFont",SECTOR_ABBREV_FOREGROUND:"sectorAbbrevForeground",WIDTH:"width",HEIGHT:"height",BACKGROUND:"background",FALLBACK_SECTOR_COLOR_0:"fallbackSectorColor_0",FALLBACK_SECTOR_COLOR_1:"fallbackSectorColor_1",FALLBACK_SECTOR_COLOR_2:"fallbackSectorColor_2",FALLBACK_SECTOR_COLOR_3:"fallbackSectorColor_3",FALLBACK_SECTOR_COLOR_4:"fallbackSectorColor_4",FALLBACK_SECTOR_COLOR_5:"fallbackSectorColor_5",FALLBACK_SECTOR_COLOR_6:"fallbackSectorColor_6",FALLBACK_SECTOR_COLOR_7:"fallbackSectorColor_7",FALLBACK_SECTOR_COLOR_8:"fallbackSectorColor_8",FALLBACK_SECTOR_COLOR_9:"fallbackSectorColor_9",PIE_SECTOR_SELECT:"pieSectorSelect"},componentType:"exxcellent.PieChart",doSelectPieSector:function(a){this.fireEvent({type:exxcellent.PieChart.PIE_SECTOR_SELECT,source:this,data:a})}});exxcellent.model.PieModel=Core.extend({sectors:null,$construct:function(a){this.sectors=a},toString:function(){return"I am a PIE"}});exxcellent.model.PieSector=Core.extend({name:null,value:null,popUpLabel:null,abbreviation:null,abbreviationForeground:null,showPercentage:false,color:null,identifier:null,$construct:function(f,h,c,a,b,i,g,e){this.name=f;this.value=h;this.popUpLabel=c;if(typeof a!="undefined"){this.showPercentage=a}this.color=b;this.abbreviation=i;this.abbreviationForeground=g;this.identifier=e},toString:function(){return this.name}});exxcellent.PieChartSync=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("exxcellent.PieChart",this)},$static:{_offsetValue:16,_scaleFactor:1.1,_percentageDelimiter:"-",_minHorizontalSpaceForLegend:100},_div:null,_raphael:null,renderAdd:function(c,a){this._div=document.createElement("div");var b=this.component.render(exxcellent.PieChart.BACKGROUND);if(b){this._div.style.background=b}a.appendChild(this._div)},renderDisplay:function(){var s=this;if(this._raphael){return}var a=this._getPieModel();if(!a){return}var e=this._getStyle();e.nextFallbackColor=function(){var t=-1;var i=e.fallbackColorArray;return function(){t++;while(i[t%10]===null||typeof i[t%10]=="undefined"){t++;if(t%10===0){return i[t%10]||"#000"}}return i[t%10]}};var q=this.component.render(exxcellent.PieChart.HEIGHT)||100;var f=this.component.render(exxcellent.PieChart.WIDTH)||100;var l=this._calculatePieRadius(f,q,e.showLegend,e.legendPosition,a.sectors.length);var p=a.sectors;var j=l+(exxcellent.PieChartSync._offsetValue*exxcellent.PieChartSync._scaleFactor);var c=l+(exxcellent.PieChartSync._offsetValue*exxcellent.PieChartSync._scaleFactor);this._raphael=Raphael(this._div,f,q);var m=this._raphael;var b=[];var o=[];var k;for(k in p){if(p[k].value!==0){b.push(p[k])}else{o.push(p[k])}}var n=[];if(e.showLegend){for(var h=0;h<b.length;h++){if(b[h].showPercentage){n[h]="%%.%%"+exxcellent.PieChartSync._percentageDelimiter+b[h].name}else{n[h]=b[h].name}}for(h=0;h<o.length;h++){if(o[h].showPercentage){n.push("%%.%%"+exxcellent.PieChartSync._percentageDelimiter+o[h].name)}else{n.push(o[h].name)}}}else{n=null}var g=this._raphael.g.piechart(j,c,l,b,o,{legend:n,legendpos:e.legendPosition,legendcolor:e.legendForeground},e);if(e.doAnimation){g.hover(function(){this.sector.stop();this.sector.scale(exxcellent.PieChartSync._scaleFactor,exxcellent.PieChartSync._scaleFactor,this.cx,this.cy);if(e.showPopUp){var u={fill:e.popupForeground};var i=e.popupFont;this.popUpLabel=m.text(0,0,this.sector.value.popUpLabel).attr(u).attr(i);var t="top";if(this.cy>this.my){t="bottom"}this.popUp=m.popup(this.mx,this.my,this.popUpLabel,t).attr({fill:e.popupBackground,stroke:e.popupBorderColor,"stroke-width":2,"fill-opacity":0.7})}if(this.label){this.label[0].stop();this.label[0].scale(1.5);this.label[1].attr({"font-weight":800})}},function(){if(e.showPopUp){this.popUpLabel.hide();this.popUp.hide()}this.sector.animate({scale:[1,1,this.cx,this.cy]},e.animationDuration,e.animationType);if(this.label){this.label[0].animate({scale:1},e.animationDuration,e.animationType);this.label[1].attr({"font-weight":400})}})}g.click(function(){var i=this.sector.value;s._onSelectPieSector(i.identifier)})},renderDispose:function(a){this._div=null;this._raphael=null},renderUpdate:function(c){var a=this._div;this._raphael=null;var b=a.parentNode;Echo.Render.renderComponentDispose(c,c.parent);b.removeChild(a);this.renderAdd(c,b);return true},_getPieModel:function(){var a=this.component.render(exxcellent.PieChart.PIE_MODEL);if(a instanceof exxcellent.model.PieModel){return a}else{if(a){return this._fromJsonString(a).pieModel}}},_getStyle:function(){var a={legendFont:this._renderFont(this.component.render(exxcellent.PieChart.LEGEND_FONT)),legendForeground:this.component.render(exxcellent.PieChart.LEGEND_FOREGROUND),legendHideZeroValues:this.component.render(exxcellent.PieChart.LEGEND_HIDE_ZERO_VALUES)||false,legendPosition:this.component.render(exxcellent.PieChart.LEGEND_POSITION)||"east",legendGapFactor:this.component.render(exxcellent.PieChart.LEGEND_GAP_FACTOR)||1.2,showLegend:this.component.render(exxcellent.PieChart.SHOW_LEGEND),doAnimation:this.component.render(exxcellent.PieChart.DO_ANIMATION),animationType:this.component.render(exxcellent.PieChart.ANIMATION_TYPE)||"bounce",animationDuration:this.component.render(exxcellent.PieChart.ANIMATION_DURATION)||900,doClientSorting:this.component.render(exxcellent.PieChart.DO_CLIENT_SORTING)||false,showPopUp:this.component.render(exxcellent.PieChart.SHOW_POPUP),popupBackground:this.component.render(exxcellent.PieChart.POPUP_BACKGROUND)||"#000",popupBorderColor:this.component.render(exxcellent.PieChart.POPUP_BORDER_COLOR)||"#666",popupForeground:this.component.render(exxcellent.PieChart.POPUP_FOREGROUND)||"#fff",popupFont:this._renderFont(this.component.render(exxcellent.PieChart.POPUP_FONT))||{font:"10px Helvetica, Arial"},sectorAbbrevShow:this.component.render(exxcellent.PieChart.SECTOR_ABBREV_SHOW)||false,sectorAbbrevFont:this._renderFont(this.component.render(exxcellent.PieChart.SECTOR_ABBREV_FONT))||{font:"10px Helvetica, Arial"},sectorAbbrevForeground:this.component.render(exxcellent.PieChart.SECTOR_ABBREV_FOREGROUND)||"#000",fallbackColorArray:[this.component.render(exxcellent.PieChart.FALLBACK_SECTOR_COLOR_0)||null,this.component.render(exxcellent.PieChart.FALLBACK_SECTOR_COLOR_1)||null,this.component.render(exxcellent.PieChart.FALLBACK_SECTOR_COLOR_2)||null,this.component.render(exxcellent.PieChart.FALLBACK_SECTOR_COLOR_3)||null,this.component.render(exxcellent.PieChart.FALLBACK_SECTOR_COLOR_4)||null,this.component.render(exxcellent.PieChart.FALLBACK_SECTOR_COLOR_5)||null,this.component.render(exxcellent.PieChart.FALLBACK_SECTOR_COLOR_6)||null,this.component.render(exxcellent.PieChart.FALLBACK_SECTOR_COLOR_7)||null,this.component.render(exxcellent.PieChart.FALLBACK_SECTOR_COLOR_8)||null,this.component.render(exxcellent.PieChart.FALLBACK_SECTOR_COLOR_9)||null]};return a},_calculatePieRadius:function(f,b,c,g,e){var a=0;if(c){if(g==="east"||g==="west"){a=b/2;a=a-(exxcellent.PieChartSync._offsetValue*exxcellent.PieChartSync._scaleFactor)}if(g==="north"||g==="south"){a=f/2;a=a-(exxcellent.PieChartSync._offsetValue*exxcellent.PieChartSync._scaleFactor)}}else{a=Math.min(b/2,f/2)-(exxcellent.PieChartSync._offsetValue*exxcellent.PieChartSync._scaleFactor)}if(a<10){return 10}return a},_onSelectPieSector:function(a){this.component.doSelectPieSector(a);return false},_fromJsonString:function(a){return JSON.parse(a)},_toJsonString:function(a){return JSON.stringify(a)},_renderFont:function(b){if(!b){return null}var c={style:{}};Echo.Sync.Font.render(b,c);var a=c.style;return{font:a.fontSize+" "+a.fontFamily,"font-family":a.fontFamily,"font-size":a.fontSize,"font-style":a.fontStyle}}});exxcellent.PlainHtml=Core.extend(Echo.Component,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.PlainHtml",this)},$static:{HTML_TEXT:"htmlText"},componentType:"exxcellent.PlainHtml"});exxcellent.PlainHtmlSync=Core.extend(Echo.Render.ComponentSync,{$load:function(){Echo.Render.registerPeer("exxcellent.PlainHtml",this)},_parentElement:null,renderAdd:function(b,a){if(!this._parentElement){this._parentElement=a}},renderDisplay:function(){var a=this.component.render(exxcellent.PlainHtml.HTML_TEXT);if(a){this._parentElement.innerHTML=a}},renderDispose:function(a){if(this._parentElement){this._parentElement.innerHTML=""}this._parentElement=null},renderUpdate:function(a){this.renderAdd();return true}});exxcellent.SuggestField=Core.extend(Echo.TextComponent,{$load:function(){Echo.ComponentFactory.registerType("exxcellent.SuggestField",this)},$static:{SUGGEST_MODEL:"suggestModel",DO_SERVER_FILTER:"doServerFilter",MIN_LENGTH:"minLength",DELAY:"delay",DISABLED:"disabled",SHOW_DESCRIPTION:"showDescription",SHOW_CATEGORY:"showCategory",GROW_LEFT:"growLeft",MAGNIFIER_IMG:"magnifierImg",LOADING_IMG:"loadingImg",SUGGEST_FONT:"suggestFont",SUGGEST_FOREGROUND:"suggestForeground",DESCRIPTION_FONT:"descriptionFont",DESCRIPTION_FOREGROUND:"descriptionForeground",SUGGEST_AREA_COLOR:"suggestAreaColor",SUGGEST_AREA_HOVER:"suggestAreaHover",TRIGGER_SERVER_FILTER:"async_triggerServerFilter",SUGGEST_ITEM_SELECTED:"suggestItemSelected"},componentType:"exxcellent.SuggestField",doTriggerServerFilter:function(a){this.fireEvent({type:exxcellent.SuggestField.TRIGGER_SERVER_FILTER,source:this,data:a})},doFireSuggestItemSelected:function(a){this.fireEvent({type:exxcellent.SuggestField.SUGGEST_ITEM_SELECTED,source:this,data:a})}});exxcellent.config.SuggestConfig=Core.extend({minLength:1,delay:300,disabled:false,doServerFilter:false,showDescription:false,showCategory:false,growLeft:false,$construct:function(){},toString:function(){return"[SuggestConfig] - minLength: "+this.minLength+" delay: "+this.delay+" disabled: "+this.disabled+" serverFilter: "+this.doServerFilter+" showDescription: "+this.showDescription+" showCategory: "+this.showCategory+" growLeft"+this.growLeft}});exxcellent.model.SuggestModel=Core.extend({suggestItems:null,$construct:function(a){this.suggestItems=a},toString:function(){return"[SuggestModel] - Items: "+this.suggestItems}});exxcellent.model.SuggestItem=Core.extend({label:null,description:null,category:null,idnetifier:null,$construct:function(b,e,c,a){this.label=b;this.description=e;this.category=c;this.identifier=a},toString:function(){return"[SuggestItem] - Label: "+this.label+" Description: "+this.description+" Category: "+this.category+" Identifier: "+this.identifier}});exxcellent.SuggestFieldSync=Core.extend(Echo.Sync.TextComponent,{$load:function(){Echo.Render.registerPeer("exxcellent.SuggestField",this)},$virtual:{_type:"text"},_number:1,_lastInput:null,_obsoleteInput:null,_isValidSuggestUpdate:null,getFocusFlags:function(){},renderAdd:function(h,a){this.input=document.createElement("input");this.input.id=this.component.renderId;if(!this.component.render("editable",true)){this.input.readOnly=true}this.input.type=this._type;var g=this.component.render("maximumLength",-1);if(g>=0){this.input.maxLength=g}this._renderStyle(this.input);this._addEventHandlers(this.input);if(this.component.get("text")){this.input.value=this.component.get("text")}if(this._lastInput){this.input.value=this._lastInput}this._obsoleteInput=this.input.value;var e=this.input;var c=this;var f=this._getSuggestConfig();var b={};if(f.growLeft){b.my="right top";b.at="right bottom";b.collision="none";b.offset="0 0";b.of=$(this.input)}else{b.my="left top";b.at="left bottom";b.collision="none";b.offset="0 0"}$(e).autocomplete({disabled:f.disabled,delay:f.delay,position:b,minLength:f.minLength,source:function(j,i){i(c._getData())},styling:this._getUserDefinedStyle(),doServerFilter:f.doServerFilter,select:function(i,j){c._suggestSelectCallback(j.item);c.input.value=j.item.value;return false}}).data("autocomplete")._renderItem=function(i,j){return c._getRenderItem(i,j,this.term,this)};Core.Web.Event.add(this.input,"keyup",Core.method(this,this._processKeyUpInternal),false);this.renderAddToParent(a);Core.Web.Event.add(this.input,"keydown",Core.method(this,this._processKeyDownInternal),false)},renderUpdate:function(e){var c=this.input;if(e.getUpdatedProperty(exxcellent.SuggestField.SUGGEST_MODEL)){if(this._isValidSuggestUpdate){$(c).autocomplete("search",c.value);$(c).autocomplete("setLoadingAnimation",false);var b=0;if(this._obsoleteInput&&c.value){b=c.value.length-this._obsoleteInput.length}var a=0;for(a=0;a<=b+1;a++){$(c).autocomplete("repos")}this._obsoleteInput=c.value;this._isValidSuggestUpdate=false}return}else{Echo.Sync.TextComponent.prototype.renderUpdate.call(this,e)}},renderDispose:function(a){$(this.input).autocomplete("destroy");Echo.Sync.TextField.prototype.renderDispose.call(this,a)},_getData:function(){var a=this._getSuggestModel().suggestItems;return a},_getUserDefinedStyle:function(){var a={magnifier_img:Echo.Sync.ImageReference.getUrl(this.component.render(exxcellent.SuggestField.MAGNIFIER_IMG)),loading_img:Echo.Sync.ImageReference.getUrl(this.component.render(exxcellent.SuggestField.LOADING_IMG)),suggestFont:this.component.render(exxcellent.SuggestField.SUGGEST_FONT),suggestForeground:this.component.render(exxcellent.SuggestField.SUGGEST_FOREGROUND),descriptionFont:this.component.render(exxcellent.SuggestField.DESCRIPTION_FONT),descriptionForeground:this.component.render(exxcellent.SuggestField.DESCRIPTION_FOREGROUND),suggestAreaColor:this.component.render(exxcellent.SuggestField.SUGGEST_AREA_COLOR),suggestAreaHover:this.component.render(exxcellent.SuggestField.SUGGEST_AREA_HOVER)};return a},_getRenderItem:function(g,i,e,f){var j=i.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+$.ui.autocomplete.escapeRegex(e)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");var b=this._getFontAsStyle(f.styling.suggestFont,f.styling.suggestForeground);var c="<a><span "+b+">"+j+"</span>";var a=this._getSuggestConfig();if(a.showDescription){var h=this._getFontAsStyle(f.styling.descriptionFont,f.styling.descriptionForeground);c=c+"<br><span "+h+">"+((i.description)?i.description:"-")+"</span>"}c=c+"</a>";return $("<li></li>").data("item.autocomplete",i).append(c).appendTo(g)},_getFontAsStyle:function(b,a){if(!b){return""}var c='style = " font-family:'+(b.typeface instanceof Array?"'"+b.typeface.join("', '")+"'":("'"+b.typeface+"'"))+"; font-size:"+b.size+"; font-style:"+((b.italic)?"italic":"normal")+"; font-weight:"+((b.bold)?"bold":"normal")+"; text-decoration:"+((b.underline)?"underline":((b.overline)?"overline":((b.lineThrough)?"line-through":"normal")))+"; color:"+((a)?a:"#000000")+'" ';return c},_getRenderItem_OLD:function(a,e){var c=this._getSuggestConfig();var b="<a>"+e.label;if(c.showDescription){b=b+"<br><i>"+e.description+"</i>"}b=b+"</a>";return $("<li></li>").data("item.autocomplete",e).append(b).appendTo(a)},sanitizeInput:function(){},_suggestSelectCallback:function(a){this.component.set("text",a.label,true);if(this.component.get("text")){this.input.value=this.component.get("text")}Echo.Sync.TextComponent.prototype.clientKeyUp.call(this);this.component.doFireSuggestItemSelected(a.identifier)},_processKeyUpInternal:function(h){Echo.Sync.TextComponent.prototype.clientKeyUp.call(this,h);var c=this.input;var a=this;this._lastInput=c.value;var f=this._getSuggestConfig();if(!f.doServerFilter){return}var g=$.ui.keyCode;switch(h.keyCode){case g.ENTER:case g.NUMPAD_ENTER:clearTimeout(c.searching);this._isValidSuggestUpdate=false;$(c).autocomplete("setLoadingAnimation",false);$(c).autocomplete("close");return true;case g.PAGE_UP:case g.PAGE_DOWN:case g.UP:case g.DOWN:case g.TAB:break;case g.ESCAPE:clearTimeout(c.searching);$(c).autocomplete("close");Core.Web.DOM.stopEventPropagation(h);break;default:var i=f.minLength;var b=this.input.value.length;if(b>=i){clearTimeout(a.searching);this._isValidSuggestUpdate=true;a.searching=setTimeout(function(){a._triggerServerFilter()},500)}}},_processKeyDownInternal:function(c){var a=this.input;var b=$.ui.keyCode;switch(c.keyCode){case b.ESCAPE:if(!$(a).autocomplete("isSuggestBoxVisible")){return true}clearTimeout(a.searching);$(a).autocomplete("close");Core.Web.DOM.stopEventPropagation(c);break;case b.ENTER:case b.NUMPAD_ENTER:clearTimeout(a.searching);this._isValidSuggestUpdate=false;$(a).autocomplete("setLoadingAnimation",false);$(a).autocomplete("close");return true}},_triggerServerFilter:function(){if(this._isValidSuggestUpdate){var a=this.input;$(a).autocomplete("setLoadingAnimation",true);this.component.doTriggerServerFilter(a.value)}},_getSuggestConfig:function(){var a=new exxcellent.config.SuggestConfig();a.minLength=this.component.render(exxcellent.SuggestField.MIN_LENGTH)||1;a.delay=this.component.render(exxcellent.SuggestField.DELAY)||300;a.disabled=this.component.render(exxcellent.SuggestField.DISABLED)||false;a.doServerFilter=this.component.render(exxcellent.SuggestField.DO_SERVER_FILTER)||false;a.showDescription=this.component.render(exxcellent.SuggestField.SHOW_DESCRIPTION)||false;a.showCategory=this.component.render(exxcellent.SuggestField.SHOW_CATEGORY)||false;a.growLeft=this.component.render(exxcellent.SuggestField.GROW_LEFT)||false;return a},_getSuggestModel:function(){var a=this.component.render(exxcellent.SuggestField.SUGGEST_MODEL);if(a instanceof exxcellent.model.SuggestModel){return a}else{if(a){return this._fromJsonString(a).suggestModel}}},_fromJsonString:function(a){return JSON.parse(a)},_toJsonString:function(a){return JSON.stringify(a)}});